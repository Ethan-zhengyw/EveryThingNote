# 《Effective DevOps》阅读笔记

## 00 前言

### 业务增产 --> 站点压力大 --> 频繁故障 --> 更多的维护
时间 --> 不满 --> 摩擦增加 --> 问责文化、团队猜疑、
透明度降低

### 成立专门的devops团队来弥补运维团队的能力缺陷，
而不让运维团队有时间或机会学习新技能，这样的策略
并不能取得好的效果，也不能缓解问责文化，因为运维
人员会反复提出同样的问题

### devops团队并不希望作为开发和运维团队之间的中间
人，每一个团队都希望、需要了解项目计划过程、相关
email、聊天消息，甚至其他团队的bug跟踪情况

### 管理层若不认可、重视devops方案，没有好的办法缓
解问责文化，那么有能力的员工很可能离开这家公司，
投入其他组织 --> 团队效率愈低下

### what to do／有效的DevOps

#### 通过一些概念、方法来改善个人协作、团队和组织的亲
密性，以及整个公司或组织中的工具使用

##### 根据组织需要进行调整

#### 效率与有效

##### 效率是把事情做对

##### 有效是做对的事情

###### 明确目标

###### 明确短期目标

###### 明确短期目标如何服务于最终目标

### devops概括

#### devops是一个专业和文化运动

#### 强调迭代的工作

#### 打破信息孤岛、监督关系，修正组织中团队之间的误解

### 书籍组织

#### 第一部分：什么是DevOps

#### 第二部分：协作

#### 第三部分：亲密性

#### 第四部分：工具

#### 第五部分： 规模化

#### 第六部分：搭建DevOps文化桥梁

## 01 第一部分 什么是DevOps

### 010 devops概貌

#### 是什么

##### 一种思维方式、工作方式

##### 支持人们和团队分享经验、建立同理心，以及有效而持久的方式实战使用

##### 文化组成的一部分

##### 反映了我要如何工作以及为什么这样做

#### 不是什么

##### 工具本身并不是devops

##### 使用工具的方式才是

#### 不只是什么

##### 单纯的软件开发方法论

##### 与敏捷方法Agile有关

##### 与极限编程XP有关

##### 与基础设施自动化有关

##### 与持续交付有关

##### 各种相关方法论、工具的简单叠加

#### 魔力源泉

##### 文化与人际关系等方面

#### 文化演进

##### etsy成为“devops独角兽”的故事

###### 意义：每个人都按自己的思维方式思考，但概念是共同的

### 011 什么是devops

#### 人为错误的“老观点”与“新观点”

##### 老观点

###### 问责文化：犯错的人受到责备与惩罚

###### 发展恐惧文化

###### 团队内出现高墙，阻碍清晰、透明的沟通

##### 新观点

###### 无问责文化：通过协作解决问题，把问题看作个人和组
织学习的机会（了解并掌握这中观点是理解devops运
动的关键）

##### 新老观点思维模式区别

###### 老观点：错误是由于恶意或能力不足造成的，要消除人
为错误，扔掉“坏苹果”，对失败负责的个人必须受到
惩罚

###### 新观点：个人错误只是一种“症状”，指示系统可能存在更深层次的问题

####### 个体只是根据具体的上下文和对他们来说最有意义的
方面做出选择并采取行动，而不是有意的恶意行为或
能力不足

####### 组织应该对系统做更全面的考虑，以尽可能地减少问题

##### 鼓励分享故事

###### 增加团队中的透明度和信任

###### 指导同事避免成本很高的错误，而不需要他们亲身体验这个错误

###### 增加解决新问题的可用时间，从而可以有更多的创新

#### devops组合

##### devops的核心是人

###### 相互理解的团队

####### 如何利用devops技术和文化来发展和维护这种共同的
相互理解？

###### 一起工作，沟通想法以及遇到的问题

###### 动态地做出调整，朝着共同的组织目标努力

##### “攀援者”组合示例

###### on belay？

###### belay on

###### climbing

###### climb on

##### 有效工作的原则

###### 明确定义的共同目标

###### 持续不断的沟通

###### 对理解的动态调整和修正

### 012 DevOps的历史

#### step1 开发人员即运维人员

##### 二战某国政府号召数学专业人员变成“计算机”，负责
计算弹道表来评估作战效果

#### step2 软件工程的出现

##### 20世纪60年代，NASA任命MIT一位数学家Margaret H
amilton领导登月机载飞行软件项目，发明了“软件工
程”这个词

###### 增加了额外的质量保证

####### 调试单个组件

####### 在组装之前测试单个组件

####### 完成集成测试

#### step3 专有软件和标准化的出现

##### 软硬件原本是紧耦合的。1969年由于一项美国反垄断
诉讼，IBM将其产品的软件和硬件解耦合，对其大型机
硬件关联的软件单独收费，给软件行业带来了巨大的影
响

##### 1964年前，软硬件紧耦合，不是标准化的，很不灵活

#### step4 网络时代

##### 1979年 分布式讨论平台，UUCP，跨机拷贝

##### 系统愈来愈复杂 --> 技能／角色专业化 --> 自行其是

###### 软件工程师

###### 系统管理域

###### 网络运营中心

###### QA

###### 安全

###### 数据库

###### 存储

#### step5 全球社区起源

##### IT从业人员通过互联网在线交流，分享知识

##### 不同领域的社区

##### 行业秘密和专有信息

###### 行业秘密：具有足够的私密性，可以带来经济或商业优势而不能公开的信息

###### 专有信息：公司享有专有权的信息，如：软件、过程、方法、薪酬结构、组织结构、和客户名单等

#### step6 应用和Web时代

##### 1995年 Apache HTTP Web 服务器

##### 开源解决方案开始流行，LAMP技术栈 --> 动态建站，效率高，对程序员、系统管理员要求高 --> 程序员与系统管理员的焦虑

#### step7 软件开发方法论的发展

##### 极限编程运动 敏捷宣言

###### 持续交付

###### 小规模变更

###### 更高频率的变更

###### 反思与改进

###### 开发人员之间的渗透式交流

#### step8 开源软件、专有服务

##### 软件、硬件选择愈来愈多

##### 2006年 AWS 上线 EC2，S3

##### 2006年 twitter问世 走廊交流会

#### step9 敏捷基础设施

##### 2008 多伦多 Agile大会

###### Agile Operations and Infrastructure: How Infra-gile are you?

##### 2009 圣克拉拉Velocity大会

###### 10+ Deploys per Day: Dev and Ops Cooperation at Flickr

####### 10+ 不是衡量的指标，要视情况做特定的改变

#### step10 devopsdays起源

##### 2009年 10月 Ghent 第一届devopsdays

#### step11 devops现状

##### Puppet发布的 2015年devops现状报告

###### 实现devops的公司表现远油于不采用devops的公司

###### 实现devops --> 更经常地部署代码、失败更少，且能
够更快地从失败中恢复 --> 高绩效的devops组织

##### devopsdays大会 2009年一年一次 --> 2015年世界范围内一年22词

###### 数十个本地聚会小组

###### 数以千计的成员，遍及全球各地

#### 小结

##### 反思

###### 历史趋势：更多地强调结果，过程与人得不到重视

###### 10+ deploys per day 不是重点，重点是Dev and Ops
Cooperation

##### 局限在特定的结果

###### 给人负担

##### 关注文化和过程

###### 鼓励迭代和改进

###### 如何做和为什么做

###### 关注“为什么”，而不是“是什么” --> 相信工作
是有用而且有意义的 --> 获得自信与自由 --> 工作
满意度提升

###### 鼓励协同与合作，而且与专业化不抵触

### 013  基本术语与概念

#### 软件开发方法论：划分开工作的过程

##### key points

###### 可交付产品或工件规范

###### 根据规范完成代码的开发和验证

###### 将代码部署到最终客户或生产环境

##### 瀑布方法论：串行的项目管理过程，起源于制造和建筑行业

###### 需求 --> 设计 --> 实现 --> 验证 --> 维护

###### 思想：大量时间花费在需求和设计阶段，指导思想是如果正确地完成这两个阶段，就能大大地减少后期可能发现的错误

##### 敏捷方法论：实际上指一组较之瀑布方法更为轻量、灵活的软件开发方法论

###### 2001年敏捷宣言 —— 主要原则

####### 个体与交互重于过程和工具

####### 可用的软件重于完备的文档

####### 客户协作重于合同谈判

####### 响应变化重于遵循计划

####### 每组对比中，后者并非全无价值，只是前者更为重要

###### 敏捷运动 VS devops

####### 共同特点

######## 关注个人、交互和协作

####### devops区别于敏捷运动之处

######## devops采纳并扩展了敏捷原则，并将这些原则应用到整个组织，而不仅仅是开发人员，覆盖面更广

######## 因为关注面更宽广，不仅限于交付速度，因而更有文化意义

###### Scrum：敏捷软件开发框架

####### scrum: A scrum is a team pack in rugby where everyone in the pack acts together to move the ball down the field of play. 

####### 预定义开发周期：sprint

######## 通常在两到四周，开始时会有一个sprint计划会议定义目标，最后会有一个sprint评审会议和sprint回顾会议讨论进展以及这个sprint中出现的问题

####### 关键特点：每日站会（Scrum每日例会），每个成员相当快地回答三个问题

######## 昨天我做了哪些工作帮助团队实现sprint目标

######## 今天我计划做什么来帮助团队实现sprint目标

######## 我发现哪些问题可能妨碍我或团队达成sprint目标

####### 重要的scrum master

######## 会议召集

######### sprint计划会议

######### sprint评审会议

######### sprint回顾会议

######### scrum每日例会

######## 帮助团队自我组织和协调工作成功

######## 帮助清除阻碍团队达成sprint目标的障碍

######## 接口项目负责人和利益相关人，并与之在“完成工作”的具体含义以及取得了哪些进展上达成一致，建立共识

#### 运维方法论：像使用软件开发方法论进行软件开发一样划分或组织IT或运维工作

##### ITIL（Information Technology Infrastructure Library，信息技术基础架构库，IT基础架构库）：为ITSM（IT Service Management，IT服务管理）定义的一组实践

###### 五大核心

####### 服务战略，ITIL Service Strategy: understands organizational objectives and customer needs.

####### 服务设计，ITIL Service Design: turns the service strategy into a plan for delivering the business objectives.

####### 服务转换，ITIL Service Transition: develops and improves capabilities for introducing new services into supported environments.

####### 服务运营，ITIL Service Operation: manages services in supported environments.

####### 服务持续改进，ITIL Continual Service Improvement: achieves services incremental and large-scale improvements.

###### ITIL认证，全球超过150万人获得

##### COBIT（Control Objectives for information and Information and Related Technology，信息及相关技术控制目标）：用于信息与技术管理的ISACA（Information Systems Audit and Control Association ---国际信息系统审计协会）框架

###### 核心原则：保证企业目标与IT目标一致

###### 5个原则

####### 满足利益相关人的需要

####### 全过程覆盖整个企业

####### 应用一个集成框架

####### 支持一个整体方法

####### 区分治理和管理

#### 系统方法论：将系统作为一个整体考虑，而不是只关注特定的领域的方法论

##### 参考阅读

###### 《Thinking in Systems》by Donella Meadows

###### 《How Complex Systems Fail》by Dr.Richard Cook

##### 精益方法：Lean Production，精益生产

###### 五大原则

####### 价值

####### 价值流

####### 流动

####### 拉动

####### 尽善尽美

###### 精益的定义

####### 客户价值最大化

####### 浪费最小化

######## 减少某些部件的过量生产

######## 改造不合格产品

######## 减少系统等待其他部分所花费的时间

###### 精益软件开发，精益方法应用于IT和IT运维

####### 可消除的浪费

######## 不必要的软件特性

######## 通信延迟

######## 过长的应用响应时间

######## 过于繁琐的过程

####### 软件开发的浪费

######## 部分完成的工作

######## 额外的功能

######## 再学习／反工

######## 不必要的交接

######## 任务切换

######## 延期

######## 缺陷

####### 两类方法

######## 方法一、通过工具集消除浪费

######## 方法二、关注改进工作流

#### 开发、发布和部署的概念

##### 版本控制：记录系统中存储的文件或文件集的变更

###### 文件集：源代码、文档、或其他软件开发过程中的资产

###### 支持版本间比较、合并、回滚

##### 测试驱动开发：开发在写代码之前先为这些新代码编写测试，最后确保代码完成时能够通过测试

###### 体现devops文化中重要的部分——职责分担&缩短开发周期

###### 利

####### 开发承担了部分测试的职责，鼓励开发者对自己编写的代码质量更为负责

####### 大大缩短反馈周期

##### 应用部署：计划、执行和维护一个软件版本交付的过程

###### what to think

####### 系统底层发生的变化，减少不一致性对所发布软件的影响

######## 由基础设施自动化构建运行特定应用所需的依赖库

####### 取决于应用类型

###### 应用部署对于软件工程质量至关重要

##### 持续集成（Continuous Integration，CI）：频繁地将开发人员编写的新代码与一个主线或“主”分支集成的过程

###### 利

####### 合并的变更集小

####### 更容易识别导致回归的特定变更，并进行修复

####### 避免大规模合并所可能导致的集成问题

###### whtat to do

####### 构建CI系统

####### 新变更合入后（或合入前），CI系统自动运行一系列测试

####### 测试失败后，需要进行修复

##### 持续交付（Continuous Delivery，CD）：一组允许通过使用自动化测试和持续集成频繁地发布新软件的通用软件工程原则

###### 通常与持续集成紧密相关

###### 是持续集成的更进一步——不止保证集成新变更不会导致CI失败，还意味着能够部署这些变更

##### 持续部署（Continuous Deployment，CD）：通过定义测试和验证来最小化风险，从而将变更部署到生产环境的过程

###### 持续部署 VS 持续交付

####### 持续交付确保变更可以成功部署

####### 持续部署表示变更真正地部署到生产环境中

###### 利

####### 更快地看到自己地工作成果 --> 提高的工作满意度、愉悦感 -->  更高的绩效

####### 提供更快学习的机会，更快地验证产品地成功或失败，允许团队和组织根据需要更快地迭代和调整

####### 更高的客户满意度（当然，这个变更地成功部署要能够解决客户实际的问题，或满足客户地某一需求）

##### 最小化可行产品（Minimum Viable Product，MVP）：用最小的投入创建所提议产品的一个原型，以确定这个提议是否是一个好想法

###### 背景趋势：减少与创建产品相关的开发成本和浪费

###### 利

####### 如果需要做重大的改变，之前花费（浪费）的时间和精力不会太多

####### 让组织更快地迭代和改进，同时减少成本和浪费（类似精益）

#### 基础设施：承载软件运行的硬件设备（组织拥有和自行管理的硬件，或是其他第三方管理和维护的租用设备）或按需使用的计算资源

##### 配置管理（Configuration Management，CM）：建立和维护某个产品的功能和物理特性及其整个生命周期中性能的过程

###### 起源

####### 20世纪50年代，美国国防部将配置管理作为一个技术管理准则

###### 定义

####### 产品的整个生命周期中识别、管理、监控和审计产品的过程

####### 包括所有涉及的流程、文档、人员、工具、软件和系统

###### where to ref，许多组织和标准机构都为配置管理提出了自己的一个标准

####### ITIL（IT基础架构库）

####### IEEE（电器和电子工程协会）

####### ISO（国际标准化组织）

####### SEI（软件工程协会）

##### 云计算：一种共享的基于互联网的计算，客户可以根据需要购买和使用各个云提供商提供的共享计算资源

###### 利

####### 组织不必购买、安装和维护自己的硬件，避免相应的开销

####### 使得同时最小化成本和提高迭代速度成为可能 <-- devops文化中的关键要素 --> 评估不同的工具和流程，找出针对具体环境最有效的工具、流程

##### 基础设施自动化：一种自动化创建系统的方法

###### 利

####### 能够减少人们管理系统及其相关服务的负担

######## 减少重复性的手动的工作

######### 尽可能地减少错误

######### 节省管理员的时间和精力

####### 提高为客户提高服务的质量、准确度和精度

###### 举例

####### 将需要在每一个服务器上手动运行的相同shell命令放在一个shell脚本中，一步到位，而不是分成多个小步骤

##### 工件管理

###### 工件定义

####### 软件开发过程中某个步骤的输出，取决于具体的开发语言

###### 工件形式：JAR、WAR、LIB、ASSETS、APP...

######  管理方式可繁（复杂的功能强大的托管服务）可简（提供访问控制的Web服务器）

###### 工件仓库（Artifacts Repository）功能

####### 完成二进制文件和依赖文件管理的一个中心点

####### 组织与公共仓库之间的一个可配置代理

####### 推广内部开发软件的一个集成点

##### 容器：提供独立于底层操作系统或硬件进行开发和部署的环境

###### 容器 VS 虚拟机

####### 同：为运行的程序提供隔离的沙箱

####### 异：对OS、硬件依赖更少且开销更小

###### 利：最小化因开发环境和实际生产环境不同为最终部署带来的风险，减少运维工程师的部署工作

#### 文化概念

##### 回顾（Retrospective）

###### 回顾的目标：有计划性地定期进行回顾，通过回顾学习，将这个项目的成功和失败应用到将来的类似项目

###### 回顾的内容

####### 做了什么：这个项目的范围是什么，最后完成了什么

####### 哪些方面做得好：项目的成功做法，有哪些令团队特别骄傲的特性，另外哪些方面还要在将来的项目中使用

####### 哪些方面做得不好：哪些方面出了问题，遇到的bug，没有满足最后期限，以及将来项目中要避免的问题

##### 事后分析（Postmortem）

###### 事后分析的目标：采用一种系统的、一致的方法进行组织性学习，避免事件再次发生

###### 事后分析的主题

####### 发生了什么：事件从开始到结束的整个时间表，通常包括通信或系统错误日志

####### 听取报告：事件中涉及的每一个人都发表对这个事件的看法，包括他们在事件中的想法

####### 补救事项：应当对哪些方面做出改变，以提高系统安全性并避免此类事件再次发生

###### 事后分析 VS 回顾

####### 回顾有计划性，通常是定期进行的

####### 事后分析在发生一个计划外事件或中断后进行，事件通常意味着系统或组织存在需要完善的地方

##### 无问责

###### 基本想法：如果在回顾或事后分析中强调学习而非处罚，回顾与事后分析的效果将更好

###### 负面影响呢？

##### 组织性学习：收集、发展和分享一个组织知识体系的过程  <-- 区分问责文化与无问责文化的一个重要部分

###### 引言：“学习型组织是一个不断学习并自我改造的组织......学习是一个持续的、战略性的过程，要与工作集成并与工作并行开展。”—— by Karen E. Warkins & Victoria J. Marsick, Partners for Learning

###### 利

####### 更容易从过往的经历中寻得教训、获得知识

####### 实践组织性学习的公司（包括公司里的个人、团队）通常会更成功

#### 小结

##### 讨论了软件开发、软件底层基础设施的开发、部署和运维相关的多种方法论

##### 讨论了个人和组织如何处理事件和失败并从中学习的文化概念

##### 未来在软件开发、部署、运维、学习这些领域将继续成文这个行业的核心，可能出现新的方法论和技术

### 014  DevOps误区和反模式

#### 常见的devops误区

##### 误区一、devops只与开发人员和系统管理员有关

###### devops虽然由development 和 operations组成，但是只是代表其起源，而不是它的严格定义。

###### 实际上devops的概念和思想涵盖了组织中的所有角色。组织中的所有团队都应当考虑在内，包括安全、QA、支持和法律团队等，从而实现最有效的协作

##### 误区二、devops是一个团队

###### 行为与结果：创建一个专门的“devops团队”恐怕不能取得期望效果

###### 原因：如果组织中开发和运维团队相互之间无法沟通，处于这样一种状态时，另外再增加一个团队可能只会带来更多的沟通问题

###### 解决方案：解决底层的根本问题（导致无法沟通或沟通困难的问题），才能实现显著、持久的改变

###### 临时方案：临时创建一个单独的团队，但只是一种尝试改变的有用的短期策略，随着时间的推移，这个团队的成员会逐步融合回到指定角色的团队中

###### keypoints

####### 团队需要作为一个协调的整体共同承担服务的职责和义务

####### 管理层需要清晰地划分角色和职责，不能让某一个人长期待命忙得焦头烂额 --> 确保随着公司的发展，这个团队能够根据需要相应扩展

##### 误区三、devops是一个职位

###### 行为与结果

####### 指望雇佣一个devops工程师，效率是其他工程师的N倍，工资拿得少一点，但是工作质量不会缩水，是完全不现实的

####### 早期也许可行，但随着公司组织的发展，不能很好的扩展

###### 解决方案：应当让人们更专注于他们的本职工作，但在整个组织中应用devops这个文化运动的思想和原则

##### 误区四、devops只与Web创业公司有关

###### Web创业公司确实更容易实现团队结构和流程的迭代；大企业通常已形成一套体制，往往会抗拒快速改变，政府机构更甚。

###### 即使是大企业、政府机构组织也可以应用devops思想，完全改变

##### 误区五、你需要一个devops证书

###### devops没有要求必须使用哪一个技术，不存在devops证书，即使有，也可能只是特定某个解决方案被错误地贴上了“devops证书”的标签

##### 误区六、devops表示由一半的人完成全部工作

###### 时刻注意工作与生活的合理平衡，越来越过度劳累并不是这个行业需要的

###### 一个组织倘若过了早期阶段，还希望一个人同时扮演两个全职角色，就会导致倦怠

###### devops并不能让公司需要的工程师人数减半来省钱，但能够提高个人、团队和组织的工作效率和质量，减少中断次数和时长，缩短开发时间

##### 误区七、实现devops有一种“正确方法”（或“错误方法”）

###### 适用于业界知名的实践devops的先驱“独角兽”公司，如Netflix和Etsy的devops策略，不一定适用于其他环境

###### devops鼓励批判性地考虑流程、工具和实践。作为一个学习型组织，需要质疑和迭代流程，不能对“正确”的流程全盘接受

##### 误区八、实现devops需要花X周／月时间

###### 管理层对devops变革可能存在“需要花多少时间”的疑问

###### devops并不是一个很容易定义或度量的状态，是一个旅程，而不是目的地。有些部分也许可以到达（如建立相关的工具、系统），而有些部分需要一直进行（使用相关的工具）

##### 误区九、devops只是关于工具

###### 工具很重要，但devops并不强制或要求使用任何特定的工具

###### 对工具做出重大的改变，尽管对某个人或团第可能很有意义，但是kennel会以组织整体减速作为代价

###### 重要的是如何评价、选择和有效地实现工具

##### 误区十、devops只是关于自动化

###### 基础设施自动化和持续集成等工具能够帮助消除繁重的重复性工作，人们可以去做更有意思或者更有挑战性的工作

###### 别忘了考虑是否有必要，是否值得花费时间去实现自动化，需要比较实现自动化的代价与自动化后所能节省的时间

###### 工具可能会改变我们的行为和思维方式，过度依赖自动化可能导致我们某些能力丧失

##### 误区十一、devops是一种时尚

###### 由于devops不是指特定的技术、工具或流程，因此不太可能会过时、被取代，而会不断发展和演进

###### devops VS ITIL、敏捷方法论等

####### 特定的方法论有严格的定义，会在不同的时间增加特定的上下文

####### devops运动由个人、团队和组织的故事和想法来定义，不断演进

#### devops反模式（anti-patterns）：与体现devops优势和有效性的概念背道而驰

##### 问责文化

###### 滋生问责文化的土壤

####### 严重隔离或割据的、缺乏透明度的环境

###### 弊端

####### 团队成员试图推卸责任，转嫁到他人身上，团队无法很好的开放、协作

####### 人们为了避免遭受责罚，开始有所保留，不再毫无隐瞒地提供事故有关的信息

####### 如果人们过于关注如何避免别人职责自己，他们九不会对学习和协作关注太多 <--x-- 学习型组织

###### 特点

####### 将责备作为改善绩效的一种方法。例如：引入bug数量、计服人员处理工单数量

##### 孤岛：公司内部不同团队、部门之间不相互分享知识、没有共同的目标或责任

###### 孤岛式环境的特点

####### 不同团队使用完全不同的工具或流程来完成类似任务

####### 人们必须逐级经过管理链上的多个层次，才能从另一个团队哪里得到所需要的资源或信息

####### 不同团队之间相互推卸责任、工作

###### 起因

####### 孤岛产生于团队之间缺乏沟通和协作，而不是由于职责的分离

##### 根本原因分析（Root Cause Analysis，RCA）：明确事件或几近错失的决定性“根本”原因，并采取适当的措施避免问题再次发生

###### 分析方法

####### 方法一、五个为什么（5 Why，五问法）

####### 方法二、鱼骨图（更系统）：用因果图分析原因，对原因归类，找出差异、联系。Kaoru Ishiawa 于1968年发明该方法

###### 缺陷

####### 隐含假设：系统会以一种线性的方式失败（或成功）。但任何足够复杂的系统都不是这样的

####### 一般目的是为了确定一个根本原因，可能会忽略决定要素的其他方面

##### 人为错误（Human error）：指一个人可能会放错误直接导致一个失败，且这个人为错误在RCA中被指为根本原因

###### 隐含的意思：其他人不会犯这个错误，常见于问责文化

###### 缺陷：把犯错归到某个人由于疏忽、疲劳或能力不足上，作为调查的终点，而不去调查是哪些综合因素导致这个人做出这样的决策，即犯错的行为

###### 人为错误在无问责文化或一个学习型组织中：被看作是一个起点，而非终点。人们会对当事人做出决策的上下文以及为什么当时做这样的决策展开讨论

#### 小结

##### DevOps误区和反模式这部分，讲了许多devops不是什么的例子。Ps：这一点让一些人觉得总讨论devops不是啥，但是又不明确给出devops的定义，这会不会有点耍流氓了！

### 015 有效实现devops的4大支柱

#### 协作：通过支持多人的交互和输入来构建一个特定结果的过程

##### devops指导原则之一：软件开发与运维团队协作

##### 多层次协作：关注点不同的团队成功合作之前，团队内部个人需要能够彼此合作

#### 亲密性：团队内部以及整个组织的不同部门之间需要建立紧密的关系

##### 不同团队、部门之间不仅要实现不同的目标或标准，同时还要谨记共同的组织目标

##### 在不同人群中培养同理心，并促进分享、学习 --> 建立协作的文化和技术知识体系

#### 工具：工具是一个加速器，可以基于当前的文化和方向推动变化

##### 需要了解这些工具为什么能带来成功，以及他们对现有结构的影响

##### 分析价值、标准和组织结构中的问题 --> 避免文化负债积累 --> 不可见的失败条件

##### 缺少工具、可能阻碍协作，因此需要适当地投入工具开发，但不能把资源浪费在错误地工具投入上

#### 规模化：组织在整个生命周期中所采用的过程和关键点

##### 考虑的问题是：在组织发展、壮大或是收缩时如何有效地应用devops其他几个支柱

##### 不同规模的组织运行在技术和文化两个方面存在不同的问题

#### 小结

##### 基于有效实现devops的四大支柱，四大支柱相互组合和融合，可以解决影响软件开发的文化和技术问题

## 02 第二部分 协作

### 020 协作：个人合作

#### 在同一个团队工作的人们彼此之间建立一种持续长久的关系是非常重要的。协作 means 通过多人的交互、输入和支持来构建一个特定结果的过程，例如：结对编程

#### Sparkle公司的每周计划会议

##### 场景：对于是否要引入MongoDB，团队中有不同的声音，即——意见不一致的情况

##### keypoints

###### 响应的方式决定了后续人们的关系是被增强或是削弱

#### 定义协作

##### 指个人为实现共同目的进行的有意识的活动

##### 举例：异步代码审查、建立文档、更新问题和bug报告、展示每周进展、定期状态更新、结对

##### keypoints

###### 需要意识到不同形式的协作的作用和价值

###### 不同的协作形式有不同的适用场景

##### 出色的团队特点，2015年1月 “Why Some Teams Are Smarter Than Others”

###### 沟通

###### 平等参与

###### 心理理论：能够识别一个人自己的观点，另外了解其他人根据他们自己的上下文会有完全不同的观点，扩展心理理论，有助于建立相互理解，并帮助解决冲突

#### 个体差异和背景

##### 个体差异来源

###### 不同的文化背景

###### 特有的经历

##### 个体差异带来的影响

###### 选择如何工作

###### 为什么工作

##### 尊重个体差异带来的好处

###### 帮助建立相互理解

###### 帮助解决冲突

##### 专业背景

###### 企业经历与创业公司经历（任职公司的规模）

####### 创业公司更愿意与有创业公司经历或有过成功的创业经验的人公事

####### 避免对只在大企业工作过的人存在偏见，他们在小公司可能同样能胜任工作

####### 大型团队 VS 小团队

######## 大团队任务可能过于细化

######## 小团队可能有太多的工作而导致大量的任务切换

###### 技术影响

####### 技术与非技术背景可能导致人们之间产生摩擦

####### 环境中如果存在“某一类人对公司更有价值，而另外某一类人对公司价值不高”，会导致士气低落

####### 人们需要感受到他们的工作得到认可

###### 角色等级

####### 需要认识到某些团队创造的、平时不易体现的价值

###### 不同的工程路线

####### * 有专业技术背景
* 长期从事相关的工作
* 通过职业技能培训
* 特殊弱势群体

####### 有的地方会对某些工程背景的求职者有偏见

###### 经验

####### 职位等级或经验可能导致团队成员之间的摩擦

####### 招聘人员时，团队可能希望聘用更有经验的求职者或这“高级工程师”，因为更资深的人能更快地进入状态，对团队做出贡献

####### “高工”有限，高级工程师的能力

######## 更长时间的工作技术经验

######## 能够对初级员工进行指导和培训，培养“高工”

##### 个人背景

###### 多样化的个人背景对团队的意义

####### 个人背景覆盖面大（性别、性取向、种族、等级、主要语言、能力和教育水平）--> 能够引入更多的经验和观点 --> 增强组织的能力

####### 团队个人背景多样化同时也会增加摩擦

###### HR部门需要了解多样性的相关问题，尽量避免个人之间由于个体差异产生摩擦

###### 目标：培养一个安全、尊重和包容的环境 --> 员工之间相互信任 --> 避免权利差异影响、阻碍协商

##### 目标

###### 团队成员既有共同的组织目标，也可能有各自不同的职业目标。理解差异，可以避免增加摩擦，帮助团队成员相互之间更好地建立理解和同理心

###### 个人如何看待工作&意愿

####### 看作“进身之阶”或是“just a work”，供养家庭需要

####### 希望学习并进一步发展他们的技能。专注个人工作（埋头写代码）或是发展社交网络，参与群体活动，各有喜好

###### 组织对于个体目标差异的正确处理方式

####### 分配工作要与个人的学习目标一致，并明确对团体总体目标的影响和价值

####### 明确团队和公司对于不同类型的贡献有怎样的期望，这对尽可能消除不满很有帮助

##### 认知方式（cognitive style）

###### 人们处理信息的不同方式也可能导致相互之间产生摩擦

####### 如何认知事物

####### 如何学习和吸收更多的信息

####### 内心里如何融入他们的工作、环境和周围的人

###### 不同的认知方式轴（谱系）

####### 内向、中向和外向：度量个体如何补充能量

######## 内向的人通过独处或者在熟悉的小群体里恢复能量 --> 更愿意单独完成工作任务，会认为开放空间的工作环境很折磨人

######## 外向的人需要走出去和很多人交流才能“充电”--> 更喜欢群体项目或者组织型角色，可以与很多人交互

######## 中向的人介于二者之间，独处或是与人交流都能“充电”，视具体情况

####### 询问者与猜测者

######## 询问者——人为大部分事情都可以询问，而且清除可能会得到否定的答案

######## 猜测者——倾向于更深入地了解情况，避免询问

######## 在团队内，要说明并通过文档明确指出你希望团队成员如何交流 --> 帮助团队成员相互理解，避免产生不满

####### 开始者与结束者

######## 开始者——喜欢提出新想法并着手启动，会精力十足地开始一个新项目

######## 结束者——喜欢扫尾，修正项目中残余的问题

######## 开始者做结束者的工作 --> 厌倦；结束者做开始者的工作 --> 力不能及

####### 分析型、批评性和横向思维

######## 分析型——强调事实和证据，将复杂的问题分解为更简单的小问题，并去除冗余的信息或无效的选择

######## 横向分析型——较间接地手机信息，发现遗漏的元素，并从多个角度审查问题，消除刻板的思维模式

######## 批评型——会评价和分析信息，并对其反思来形成判断

######## 分析评价角度

######### 论据的逻辑完备性或偏向性，衡量不同的观点或证据来做出决策

######### 结论在逻辑上能否由论据得出或某个人的推理是否存在漏洞

####### 纯化论者与实用主义者

######## 纯化论者

######### 寻求使用绝对最佳的技术解决问题，如果完美的技术不存在，他们就会创建自己的技术

######### 不太愿意在工程原则上打折扣或者有所变通

######## 实用主义者

######### 更关注实用性，会权衡“尝试创建理想的解决方案”或“考虑当前环境和约束的现实性采用相应的方法”二者的成本

######## 差别：纯化论者更强调技术本身，实用主义者考虑的是如何实现某个事物的“operationalize”，使它在实际的生产环境中具体运转

####### 组织如何正确对待不同认知方式的人

######## 创造和维护一个合适的工作环境，支持有不同认知方式的人

######## 例如

######### 为夜猫子提供弹性上班时间

######### 提供远程接入参与会议的方式

######### 办公场所布局规划适当的区域让人们能够在需要安静、不被打扰时工作

######## 失衡带来的影响：若开始者与结束者、纯化论者与实用主义者之间没有一个很好的平衡，可能导致整个团队的效率和质量低下

#### 获得竞争优势的机会（从公司层面理解）

##### 公司可以投入资金和资源来灌输质量流程的观念，让个人充分了解对组织至关重要的价值观

##### 指导：如果组织更愿意为初级工程师的成长和发展提供投入，这是一个竞争优势

###### 好处

####### 壮大组织的人才库

####### 如果不论工程师的经验如何，总能感受到组织的支持，那么他们就更有可能留在这里

###### 许多公司对新入职的员工一般都会有入职的培训，在入职后的初期，获取还会为其配备一个导师。不过入职一段时间后，员工想要继续获得相应的指导，还是比较困难的，更多的时候，需要自己主动请教，或是在教训中成长，但靠员工自己摸索对员工而言还是挺痛苦的，而且效率也不高。

##### 赞助？

###### 互利的过程：被赞助者：获得必要的提升、好处，自我感知得到扩展，获得有价值的高级领导联系

###### 对于可度量的职业发展，赞助比指导更重要

###### 组织应该如何正确对待

####### 创建一个全面的计划，使员工了解作为一个赞助者需要什么，如何评定一个可能的被辅导者，以及如何找到和评估赞助者

##### 教育

###### “要提供充分的培训，使他们有能力离开，同时还要对他们足够好，使他们不想离开”By Richard Branson

###### 提供充分培训

####### 员工们获得新技能，然后利用这些新技能另觅高就

####### 员工更愿意留下，获取培训、学习的机会

###### 不提供充分的培训

####### 员工转向提供这些机会的公司，留下没有经过培训或者没有太大学习动力的员工

####### 组织名声不够好，让人人为这不是一个理想的工作场所，不利于提升员工的整体水平

#### 指导

##### 成功的指导计划：让指导者和被指导者了解各自的目标、角色和职责

##### 健康的指导关系：双向的，在这个关系中的各个参与者都能成长和学习

##### 高级到初级指导（最传统的指导类型）：一个高级工程师指导一个初级工程师

###### 充分利用更高级团队成员的经验来帮助提高初级成员的技能

###### 指导者需要有很好的沟通能力和讲解能力，还要有足够的耐心，能帮助其他人真正的学习

###### 最好的情况下，初级员工提出的问题可以帮助高级员工重新审视他们之前认定的做法

##### 高级到高级指导：两个高级员工相互指导

###### 相互之间分享大量深层次的知识

###### 如果两个人作为高级员工在同一家公司已经任职很长时间，他们可能不会对原来的做法有任何质疑，不会像信任看待事物那样提出新的观点

##### 初级到高级指导：一个初级员工指导一个高级员工

###### 在特定时间我们关注的方面正是我们能力最强的方面，一个团队中不同成员的水平各有不同，各有侧重，向所有人学习很重要

##### 初级到初级指导：两个初级水平的员工一同工作相互学习

###### 快速成长的团队里很可能会出现这种情况，可能高级员工过于繁忙而无暇估计指导初级员工

###### 两个人一起比起单独一个人学习一般效果更好

###### 不足之处是，缺少高级员工的经验，可能会走一些弯路

#### 引入思维模式（Mindset）

##### 思维模式是我们关于自己的个人理念，以及我们如何实现各种可能性的认知。

##### 不同思维模式类型的划分依据：动机领域

###### 僵固型思维模式

####### 人们相信才智和能力是先天的、固有的特点，可能在某方面天生就很擅长，而在其他方面不擅长

####### 对人的影响

######## 人们认为必须不断地向其他人证明自己（如果聪明或不聪明这个特点是先天的，显然大家都希望向自己和身边的人证明自己属于聪明的那一类）

######## 将失败看作一种证据——证明了一个人天生不聪明或在某方面没天份，不足以胜任某项工作

######## 远远避开他们有可能失败的场合，不愿意参加要求他们学习新技能的项目——为了避免不确定性、避免失败和自卑感

######## 有明显的竞争心态，喜欢把自己与同伴进行比较，确认自己确实具备哪些特点，以增强自己的信心

###### 成长型思维模式

####### 认为才智和能力是学习得到的，可以通过努力和实践提升

####### 对人的影响

######## 更多地考虑个人学习和学习环境

######## 认为技能会随时间改变，如果目前对某个特定领域不了解，相信只要有足够的时间、努力、学习和实践，他们就能掌握相关知识（能达到什么程度，则不一定）

######## 挑战被看作是学习的机会，是获得新技能、知识的必由之路，也是提升现有技能的途径

######## 没有对失败的恐惧 --> 愿意更多地冒险 --> 更快地成长

######## 不会将失败看作指示某个人缺陷的一种标志，失败只是学习过程中很自然的一部分

###### 思维模式会在很大程度上影响人们如何工作、迎接挑战和应对失败

##### 培养正确的思维模式

###### 成长型的思维模式允许人们和组织在所处环境中更快地适应和学习 --> 个人和团队能够对影响生产的事件更快地做出反应／在项目生命周期中更快地响应和改变方向 --> 有益于整个企业

##### 关注个人成长／培养成长型思维模式，帮助人们准备面对未来挑战，并在出现变化时有更大的灵活性

###### 策略一、了解基本技能

####### 加入一个团队时：首先要了解这个职位以及团队所需的基本技能。即使你在这个行业已经有多年的经验

####### 想要得到一个职位时：需要付出时间了解这个工作的基本技能是什么，包括与各个特定环境关联的文化差异

####### 在一个职位上工作了很长时间时：需要考虑这段时间已经发生了哪些改变，需要额外进行哪些准备

####### 需要提前了解谁做什么，如何做，以及为什么做，确保出现问题时，在去救火前，自己已经牢牢掌握相关信息

####### 每个职位都要有的一个基本技能：观察以及被观察的能力

######## 观察：查看其他人如何处理他们环境中发生的复杂情况，观察的对象可以是团队内，团队外，或是组织之外的其他团队

######## 观察的方式：记录发生了什么，负责人是谁，以后怎样做会更好

###### 策略二、发展新技能

####### 如果一段时间内一直在做同样的事情，实际上就是在重复同样的学习经历，会让人逐步丧失学习能力。所以应当找一些之前不知道的事情去做

####### 学习新技能不一定与当前做的事情直接相关，这可能是团队或组织中的一个空白，比如花时间了解与某个开源软件，如何使用，有什么特点（有一定弹性，根据需要和实用性选择） --> 提高个人整体水平

####### 学习新内容后，还需要把它写出来，或者讲出来，与别人分享，然后再选择一个新的学习内容

####### 目的不是为了在所有方面都成为专家，而是为了加强学习能力  --> 在需要调整职业方向时，能够轻松地接受新的挑战

###### 策略三、确认你的优点和进步

####### 在知道自己做得很好时：可以选择一个新的主题进行学习，或者将当前的学习上升一个层次（不怕练过一万种踢法的人，就怕把一种踢法练了一万遍的人）

####### 自我发展的确定和评判

######## 外部反馈，同事、PL的认可、指导或正式评估等不同形式的反馈

######## 大多数情况下，不能依赖外部系统来确定和评判我们的进展

####### keypoints

######## 正确地、诚实地度量你的工作表现和效率，认可度量的机制 --> 能够适当地选择自己想要的职业方向

######## 在没有或不考虑外部系统的情况下给出自己的反馈

######## “我是我自己和我的境遇” By Jose Ortega y Gasset

######## 能够以10倍于其他人的效率进行工作，很值得钦佩 --> 当前的职位对他已经不再有挑战性 --> 不能停止继续学习，牺牲弹性和灵活性

###### 策略四、确保高质量的精深练习

####### 精深练习的反模式

######## 破唱片（broken record）反法：反复重复一件事的练习 <-- 需要做不同的事情，不断进步，真正增长技能

######## 自动驾驶（autopilot）：职业惯性 <-- 需要发现环境的变化，并做出调整

####### keypoints

######## 必须不断地挑战和提升自己，努力增强现有的技能并学习新技能，确保高质量的工作，并具有对非常规事件做出反应的能力

###### 策略五、建立你的工作风格

####### 什么是工作风格

######## 使用的工具和方法的喜好

####### 很多时候，我们完成任务使用的方法并不一定是完成这项工作的最佳方法，而是我们熟悉的方法

####### 可以从周围寻找灵感，多尝试不熟悉的风格，不失自由和灵活性，找到适合自己的工作风格

###### 策略六、提升团队风格

####### 了解自己的风格后，可以学习区分个人喜好与团队喜好 -->  让所有人保持一致，共同工作

####### 组织如何看待失败、对失败采取怎样的行为会影响到个人形成自己的一套方法（问责文化 --> 个人拒绝改变原先已习惯的流程）

#### 思维模式和学习型组织

##### 僵固型思维——问责文化 --> 寻找导致失败的个人，进行处罚或者从项目中剔除 --> 组织停滞不前

##### 成长型思维——无问责文化 --> 提供机会来做出改进，关注点放在处理失败和从中学习 --> 更睿智更强健的团队

##### 与devops组合：成长型思维模式和学习型组织 --> 通过频繁的反馈，对当前状况、要达到的目标，以及二者目前是否一致等进行沟通 --> 支持devops

#### 反馈的作用

##### 反馈的性质与思维模式的发展

###### “干得好，你真聪明”—— 僵固型思维模式，将成功与某种天生的品质关联起来，使人们不太愿意接受有挑战性的任务或者可能会质疑其聪明程度的工作

###### “干得好，你真努力”—— 成长型思维模式，将成功与所投入的努力关联起来，使人们更愿意接受挑战，而且将来遇到挫折之后还会再次尝试

##### 反馈与思维模式的形成和发展

###### 思维模式最早可能在一个人的孩童时代形成，但并不是绝对静态的

###### 即使在孩童时代形成了一种僵固型思维模式，仍有可能在成年后形成一种更重视学习的成长型思维模式

##### 反馈与员工绩效考核

###### 僵固型思维模式的人 —— 往往只关心与他们当前能力直接相关的反馈，剔除向他们指出将来将如何改进的那些反馈

###### 成长型思维模式的人 —— 会非常关注可能帮助他们成长的反馈，会把重点放在学习和自我改进上，而不是他们当前的状态

###### 在员工审查和反馈阶段（无论是作为管理者还是个人贡献者），要谨记

####### 应当强调员工的努力、行动、所完成的工作和相应的想法

####### 重点应当是员工可以做什么而不是他们是什么 --> 引导员工的思维模式向成长型发展

#### 审查和评级

##### 组织对员工提供反馈时的两个目标

###### 对个人——让人们知道自己目前做得怎么样，哪些地方做得好，哪些地方做得不好，需要做什么努力来填补知识或技能的空白，使个人得以成长

###### 对组织——明确哪些人表现更好，贡献更大。原则是“如果有些人表现不如同伴，或者一直都无法改进，最好不要留在组织里”

##### 反馈频度

###### “51%的公司会做年度绩效审查，41%的公司会做季度绩效审查”—— 华尔街日报的文章

###### 更高频率的反馈和审查，会带来更大的影响

####### 如果反馈能够提供新的或可操作的信息，反馈本身对收到反馈的人确实有帮助，反馈频度越高，对个人和组织的好处就越大

###### 负面反馈 与 杏仁核劫持／情绪劫持 —— 杏仁体VS额叶

####### 对于负面的质疑，人们通常会做出情绪化的反应，而不是理性对待，因此不太愿意去充分理解他们得到的反馈，也不会对这些反馈采取行动

####### 解决方案（类比软件开发方法论，瀑布模型与敏捷、持续交付）

######## 更小、更短的反馈周期 --> 更小、更容易的调整 --> 团队走向敏捷的一个重要决定因素

######## 组织应当采用更敏捷的持续反馈思想 —— 年度绩效审查类似于瀑布模型，由于得到的反馈存在延迟，会让问题的解决速度减慢。

##### 评级系统

###### 传统评级方式：分级评级

####### 分级评级（被动评级、被动分布）起源：20世纪80年代通用公司CEO杰克·韦尔奇推广——基于前20%的员工最有生产力，中间的70%马马虎虎，余下的10%表现不佳，应当开除

####### 特点：要求个人与其他人竞争，不成为将被淘汰的10%

####### 影响：在个人看来，清晰、透明的沟通没有好处，奖金、职位晋升，甚至饭碗都与之相关 --> 增加协作的难度 --> 负面地影响绩效

####### 趋势：使用分级评级系统的组织正在减少

####### 0和博弈：非合作博弈，参与博弈的各方在严格竞争下，一方的收益必然意味着另一方的损失，博弈各方的收益和损失总和永远为0，双方不存在合作的可能

##### 超级明星和超级鸡群的问题

###### 由普通鸡（员工）组成的普通鸡群，经过6代的生存繁衍后，生产力会提高

###### 完全由超级鸡组成的超级鸡群，并不会变得更有生产力 --> 最有生产力的团队并不是由“超级工程师”组建的团队

###### 好的团队特点

####### 具有较高的社交灵敏度

####### 能够认知理解他人情绪和一般社会规范

####### 善沟通 —— 影响团队生产力的决定因素

##### 社交资本对团队的价值

###### 价值所在：社交资本或人们的社交网络和互动的价值体现在更大的信息流、互惠互利，以及相互依赖和信任

###### 只关注超级明星员工的团队：只能在一个方向上提供帮助。信息只在一个方向上流动，不存在相互依赖，信任不多

####### 解决方案：不过分关注销蚀信任和社交资本的“超级明星”员工，而要重视在现有的团队中培养同理心，要努力协作，而不是竞争

#### 沟通和冲突解决方式

##### 冲突的来源：面对不一致的需求，在时间和关注点方面存在冲突

##### 协商：旨在达成一致的沟通

##### 有效的沟通：可以帮助达成共识，找出共同目标，不是一味地相互竞争

###### 增加理解

####### 了解某个人期望从我们得到什么

####### 需要主动将自己掌握的大量上下文和情境感知信息分发给其他人，避免建立知识孤岛 --> 避免增加压力，产生倦怠 --> 增强组织健壮性

###### 确认影响

####### 避免打断他人发言、利用权利或高压措施来影响他人

####### 最有效的方法：找到足够的共同点，使对方做你所想，想你所想

###### 给予认可

####### 给予认可能够提高士气，需要在适合的时候给出适合的认可，也是一项需要花时间培养的技能

###### 建立社区

####### 定期讨论工作相关问题之外的其他主题，会有更程度的信任和同理心

####### 不是强制建立人际沟通，而是为沟通创造机会

####### 共同的茶歇时间，足够长的午餐时间，使人们边吃边聊 --> 促进建立强大的社区

##### 如何沟通

###### 沟通媒介

####### 度量角度：直接性、受众范围、投入、上下为、组织

###### 协商或冲突解决方法

####### 竞争：利己

####### 谦让：利他

####### 回避：消极对抗

####### 妥协：让步

####### 合作：双赢

##### 沟通上下文和权利差异

###### 日常沟通与正式、重要、紧急交流沟通方式有所差别

###### 避免权利差异导致无效的协商，等同于妥协

###### 减少打断，增进理解，建立认同感，增加信任和同理心，提高团队多样性和包容性

#### 同理心和信任

##### 前提：建立和达成一个共同的愿景或目标，目标需要明确，不能过于模糊。

##### 培养同理心

###### 同理心是理解和分享他人情感的能力，是一种可以学习的技能，而且很有必要学习和培养

###### 更有同理心地人：不以个人为中心、不过分强硬、不那么刻板地看待他人

###### 同理心大多在孩童时期培养，但成年后也可通过适当地方法学习和增加

####### 倾听

######## 意见不一致或者出现白热化的讨论时，意义更为突出

######## 不要只是等着轮到自己发言，而忘了仔细倾听别人在说什么，并努力理解他为什么这么说

######## 要慢下来，要求自己倾听，不打断别人，确保听到的和所理解的和对方想表达的一致

####### 问问题

######## 能够建立理解和明确含义，主动倾听的特点

######## 可以向他人问问题，也可以问自己问题，要培养对其他人的好奇

####### 想象其他看法

######## 设身处地地地考虑他人的想法

######## 假设他人的意图是好的

######## 意见不一致时，他人可能是什么感觉，有哪些好的意图、正面的动机

######## 他人反对自己观点有哪些合理的依据

####### 接受个人差别

######## 接受个人差别有助于在不同群体之间建立同理心

##### 培养信任

###### 信任与同理心紧密相关，一方发展，另外一方也会发展

###### 反模式

####### 一个团队只有某一个人能够访问某个系统，他们就会成为这个系统的单一故障点

######## 出了问题，只有他能解决，如果这个人不再，那么进度停滞

######## 他永远也不能放假

###### 快速信任

####### 快速信任是短期或临时团体或组织中的一种信任形式——开始时存在这种信任，然后随时间加以确认

####### 缺乏必要时间时使用，假设所有团队成员在开始时是可信的，后续根据他人行为进行确认和快速调整

###### 自我表露

####### 表露是信任关系的一大特点，敞开心扉，分享信息，增加信任感

####### 自我表露需要顾及度，不能泄漏相关信息

###### 信任但确认

####### 通过额外的信息确认可靠的信息来源的信息的正确性

####### 应当鼓励人们分担职责，给予信任，再确认

####### 除了项目工作和职责之外，分享权利和决策的能力时也是如此

###### 公平感

####### 员工要能够确信他们得到了公平的对待

####### 建立正式的角色职位、职务级别和工资标准

####### 帮助员工了解职位需求，加薪、升职过程

####### 分担风险，合作项目—— 避免出现问题时一方不受影响、导致权利的倾斜

#### 人力资源

##### 讨论的问题：构建和维护软件的人员的成本

##### devops发展的一个决定性因素：当时的软件开发实践对软件或服务器运维人员有负面的影响，持续集成和基础设施即代码等方法对此有所改进

##### 可用性和维护

###### 维护时间的选择

####### 严格从用户角度考虑：受影响的用户最少时完成维护比较合适，通常选择深夜或凌晨

####### 从维护人员角度考虑

######## 不愿意早期或熬到深夜

######## 得不到充分的休息无法保证警觉性、响应性和有效性

######## 应当在最警觉和清醒的时候完成重要的维护操作

###### 当加班会作为工作中常有的一部分时

####### 员工应当得到合理的加班补偿

####### 应当在招聘启示中清楚地指出，便于人们能相应地判断这个职位是否确实适合自己

####### 要鼓励人们关心自己的健康

######## 深夜维护后放一天假休息

######## 尽可能分摊维护任务

######## 足够大的团队-->轮班之间有足够的倒休时间恢复

##### 工作与生活的平衡

###### 规划来年的员工人数时，一定要保证工作与生活的平衡

###### 如果团队人员除了工作日正常工作外，还要经常晚上和周末加班才能达到预期 --> 工作糟糕、士气低落且充满倦怠

###### devops希望建立可持续的工作实践，如何保证人员实现工作和生活的平衡正是其中的一个关键部分

###### 考虑如何调整工作安排，需要避免对员工的无意识偏见，要求他们投入更多的业余实践到工作当中，从而更为包容，

##### 团队规模的考虑

###### 需要有人负责对警报和事故快速做出响应，可能要求轮班开机或全天候排班

####### 大公司——甚至能够做到不需要人们晚上加班 <-- 多个团队分布在全球

####### 中等规模公司——能够做到轮班待命，24小时oncall：有一个完整团队

####### 小公司或初创公司——难以做到，可能也并没有那么多运维工作，但要注意的是：由多个人分担待命职责，不能只让一个人连续待命，需要让人们有机会恢复体力和知觉

###### 即使只是短期的，睡眠不足也会导致许多不良的后果，长时间睡眠不足，更会导致这些问题综合爆发

####### 很难集中精力

####### 表现不好

####### 易怒、易焦虑

####### 增加患高血压、心脏病的风险

###### 组织的健康状况VS一般意义上个人的健康

####### 不能太过看重公司的短期经济或物质利益，而忽视公司人员的长期健康 --> 长期的损失

#### Sparkle公司的有效协作

##### 场景：快速审阅关于MongoDB和MySQL的讨论记录后，发现并不是所有人都对MongoDB发表了支持或反对意见，没有得到足够的信息来确定到底支持哪一个策略

##### 行动

###### 指定人员会后继续了解，获取更多信息支撑决策

###### 说明请有补充意见的人给团队发email --> 提供会上未发表意见的人补充意见的机会

##### 结果

###### 内向的人，习惯先整理自己想法的Josie用书面的形式分享，发送邮件抄送给团队（Sparkle公司的“全部回复”邮件文化）

###### 团队成员加入讨论

###### 邮件+运维团队，外部相关人员

#### 小结

##### devops项目要获得成功，很重要的一部分：让人们比从前更高效地一起工作，充分发挥才能

##### 困难：个体差异，人们有很多不同的工作方式、工作风格、优先目标不同

##### 解决方案：提高组织绩效 <-- 协作文化 <-- 同理心 <-- 沟通

##### 能够使人们从受益的成员之间的关系 <-- 信任、同理心、互惠互利

##### devops印象与原始目标

###### 印象中，devops非常偏重技术

###### devops原始目标：让两个不同团队的人能够交流

####### 这种交流可以从个人，演进到团队、组织层次

### 021 协作：误区和问题排查

#### 前言

##### 问题：人们在专业和背景上存在差异，倘若不加处理会带来摩擦，想要有效地协作时，就会产生问题

##### 应该怎么做

###### 帮助人们明确他们不同的动机和目标，并使他们积极为之努力 --> 有效的领导（包括官方领导或个人贡献者中有领导地位的领导）

###### 对于领导者，尤其是刚从工程部门转入管理层的经理，建议要用常规的办法来提升和保持管理技能

####### 管理工作是一种职业改变，而不是一种提升

####### 与其他技能一样，管理技能也需要学习、培训和实践来充分提高

####### 好的领导者

######## 让身边的人展示出自己最好的一面

######## 不只是关注他们自己或者少数“超级明星”

######## 往往是区分高效组织与低效组织的关键

#### 协作误区

##### 误区一、老系统管理员学不了新技术

###### 问题

####### 关于协作能力，一个固步自封的人就无法在开放或跨职能的环境中学习协作吗

####### 一些经验丰富的系统管理员只是熟悉老式的UNIX，为了保住工作，是不是必须成为开发人员？

###### 解决方案

####### 新技能绝对可以学习

######## 新技术或软技能（例如：如何成为一个指导者，或者如何与组织中的其他人建立同理心）

####### 学习新技能需要花时间和精力。如果作为一个管理者，希望培养团队成员，让他们不断成长，就需要为他们提供必要的时间和资源（如提供图书预算、允许他们参加会议、内部培训）

###### keypoint

####### 每一个人学习新技能都需要时间和练习，不要认为年龄大、专业、背景不同的人就没有能力学习

####### 担心自己的技能是不是很快就会过时？

######## 即使出现了新的技术，比如基于云的技术以及无处不在的容器化，公司仍然需要各种不同的技能 --> 关键是要找到一个合适的团队或位置

##### 误区二、想要快速成长就需要聘用超级名星

###### 现象

####### 很多创业公司的创始人发展他们的新兴公司时，会特别强调写代码的能力 --> 希望尽快完成产品构建 --> 获得用户或投资来保证公司的持续发展

####### 没有足够的预算与更大更成熟的公司竞争，无法用高薪吸引人才，聘用人员时不得不将就

####### 为了让产品早日上线，只要这个人是编程高手，其他方面差劲一点也没关系

###### 问题分析

####### 过于关注短期结果

###### keypoint

####### 如果公司在发展，就必须让团队也随之发展，因此绝对不能只考虑单纯的技术能力

####### 公司早期的员工将确定公司的格调，不论你是否希望如此

####### 如果早期的员工太难共事 --> 无法聘用到真正需要的人，或只能聘用和保留更难相处的人

####### 团队中如果有越来越多的以自我为中心的工程师 --> 人们不能很好地沟通／总是粗鲁地打断别人讲话／只是为了更快地完成代码或产品（容忍或鼓励这种行为 --> 团队越来越单一化）--> 敌对的文化（与信任、尊重和互惠相对立）

##### 误区三、多样化的团队不能有效地协作

###### 顾虑

####### 在增加团队或公司的多样性时，担心会带来更多的人际冲突

####### 多样性增加 --> 员工不能再随便开玩笑

###### 问题分析

####### 研究表明，更多样化的团队在短期内可能有更多的冲突，that's true

####### 但这些影响会逐步消除

####### 长期来看，多样化会带来更大的创造力和更强的问题解决能力，其利远远大于弊

####### 团队成员会学习如何与更多不同的人协作和共事

#### 协作问题排查

##### 前言：处理个人之间的问题可能很棘手，最初正是为了解决这些冲突才提出了devops想法的提出

##### 问题一、团队中有些人不尽责

###### 现象

####### 发现一些团队成员不尽责，没有完成他们的任务和承担的职责 --> 使其他人不得不腾出时间来帮助他们

####### 团队利其他人提出这一点／当事人认识到没有达到周围其他人的水平／leader注意到这一点 --> 问题存在

###### 问题分析

####### 角色、工作职责——预期含糊

####### 不具备达成预期的条件——技能、时间等

####### 个人原因

######## 个人或家人健康

######## 缺乏自主性

######## 缺乏奖励

######## 工作与加入团队时的期望不匹配

######## 目标变化很快

######## 工作不断改变

###### 解决方案

####### step1. 明确角色和责任

######## 如果一个人的角色很含糊，或者由于工作环境在不断演进，一个人的具体职责会随时间变化，就无法准确了解对他的预期

####### step2. 评估这些预期是否现实

######## 他们是否具备必要的知识和资源来实现他们的目标？

######## 如果需要更多的培训或指导，就应当为他们提供相应的机会，而且要让他们有时间掌握所学的知识

####### step3. 如果未能提供完成所有工作所需的时间或资源，这个问题必须得到解决

######## 对于相同层次，相同角色的不同员工，可以比较他们的工作量，看看是否需要重新分配工作

####### 做一些工作来明确“不尽责、表现不佳”的说法是否准确 --> 避免偏见

####### 为员工提供适当的资源来应对挑战

######## 远程工作

######## 灵活安排

######## 重新评估任务和劳动分工

######## 培训

######## 指导

######## 公开认可

######## 定期一对一沟通，根据需要提供指导

####### 避免出现倦怠（员工的身体和心里健康状态不佳）<-- 工作环境存在问题

###### 角色预期

####### 根据角色所在的团队、组织和行业的文化，会对角色有特定的预期

####### 加入一个新团队时，要了解这个文化中对角色的预期，这很重要

####### 同一个团队和组织的角色预期也可能随着时间变化

##### 问题二、我们要决定是否辞退某个人

###### 问题

####### 相信人们能够改进，而且大多数情况下他们也都希望做出改进，但是也有例外，有时可能情况已经糟糕到无法解决，如何确定某个人什么时候不再胜任他的工作

###### 解决方案

####### 如果问题是不具备某种技能 --> 尝试一个培训或提高计划，并保留足够的时间来考察培训是否有效

####### 建立一个发展规划，并确保有足够的指导 --> 增加成功的概率

####### 如果组织缺乏资金或人力资源，不能切实地帮助和培训员工，就要让相关人员清楚地知道这一点，以便他们决定下一步怎么做

####### 决定辞退一个员工不一定是一件坏事（文化契合）

######## 在一个组织中，目标、价值观和优先事项一致非常重要

######## 组织实际情况发生改变、或是员工个人目标和动机发生改变，有时可能没有必要去尝试解决这个问题，最好让所有人都了解这一点，允许员工更早离开，并为他们提供有帮助的推荐信，没有必要强制员工接受

######## 文化契合与偏见

######### 要避免有意和无意的偏见

######### 文化契合并不表示完全相同，也不表示不允许有其他不同的观点

##### 问题三、我工作过度，压力过大，非常倦怠

###### 前言

####### 如果你有倦怠的症状，很焦虑，很疲惫，而且不仅对工作的满意度下降，对你自己的满意度也在下降，就要尽早解决根本问题，这很重要

####### 这种情况通常不能自行消除，你必须采取行动

###### 短期策略：尽可能想办法让自己得到支持，使自己有机会“充电”

####### 放假，不去看工作邮件和聊工作上的事情

####### 把工作委托给别人或者干脆拒绝

####### 向专业人士寻求帮助，心理健康与身体健康同样重要

###### 长期策略：对自己所有的责任做一个盘点

####### 对于每一个责任，试着分析是否可以采取行动来减轻这个责任带来的压力

####### 出现倦怠时，可能表现为一般性的压力或抑郁，所以要明确哪些特定方面造成了你的压力和焦虑，而你自己没有意识到

###### 找出责任点

####### 导致额外压力的原因

######## 通常是感觉某个事情只是你一个人的责任

######### 也许团队里只有你一个人、或只有你一个人有兴趣改善组织的文化 --> 增加你的压力和孤立感 --> 倦怠

######## 抱怨某个工具

######### 看看是否能对这个工具或有关的工作流加以改进

######### 或者把它替换掉

######## 抱怨某些流程

######### 与团队成员沟通，看看他们有没有什么解决办法或者特别的技巧

######### 还可以参考组织之外的方法

####### keypoints

######## 导致员工倦怠的原因多种多样，无法一一得知，但有一点是明确的

######### 没有哪个项目、工作或公司值得你牺牲自己的健康

######## 任何时候都有可能出现压力和倦怠，尤其在组织的拐点周围更经常出现，如果感觉工作过度，特别是如果一个团队里多个人都有同样的感觉，这可能是一个信号

######### 现有的人力已经无法完成所要求的工作，需要聘用更多人员

######### 需要与身边的人谈一谈，看看工作过度的情况是不是很普遍，相应地需要在更高层次上解决这个问题

##### 问题四、团队里有些人感觉不被尊重

###### 问题

####### 尽管尽可能地创造了一个多样化的工作环境，但仍会发现有些人总被人打断，或者没有人倾听他们的想法，或者女同事更容易被打断，建议也不那么受重视

###### 解决方案

####### 鼓励甚至要求员工、尤其是管理者针对普遍的多样化问题进行培训和教育

####### 针对少数群体中的成员尽可能多提供支持

######## 公司提供资助／建立社交群体／确保员工知道他们的法律顾问和HR联系人

####### 创业公司应当尽快成立一个HR部门

####### 真的出现问题时需要进行协商（有具体的协商技术）

######## 注意耐心地继续倾听

######### 勇于发声会承担风险，所以诬告的比例会很小，更多的是一些骚扰或霸凌行为未能被报告

####### 如何解决这些问题会对你的组织文化有深远的影响

######## 如果有人在骚扰其他人，还被允许继续工作，其不良行为没有为其带来任何影响 --> 其他成员感觉这个公司不安全

######## 如果遭到无礼对待或被骚扰的报告被驳回，没有得到充分的重视 --> 人们就不会有安全感 --> 不良的氛围

####### 防范有害的文化相对比较容易，而信任一旦被破坏，修复起来就要困难得多 --> 难以建立一个有同理心和协作性的环境

##### 问题五、有些人沟通得不够

###### 问题

####### 已经明确了期望想要打破或防止出现孤岛，但团队内部沟通依然很少

###### 解决方案

####### 参考前面“沟通和冲突解决方式 》 有效的沟通”分析哪些因素可能影响了人们的沟通意愿

####### 可能存在信任问题（常见于问责文化）

######## 人们在问责文化中，总是负面地看待失败，而且常常因为过失而解雇或处罚有关人员 --> 人们越来越不愿意交流（犹豫是否要提供额外的信息）

######## 需要让人们看到勇于发声会得到褒奖而不是处罚，或在组织中开展公开、无问责的事后分析 --> 转变问责文化

####### 由于个体差异，沟通习惯不同

######## 要让人们有机会解释他们的偏好，人们有不同的偏好时，允许团队讨论可以采用那些沟通媒介

##### 问题六、一个员工（或应聘者）技术很强，但个性很古怪

###### 虽然一个人没有必要成为所有同事的好朋友，但是确实要考虑负面行为可能产生的影响

####### 多少人会因为无法忍受与这个人共事而辞职

####### 与这个人的争执或其他负面影响会让多少人的生产力受影响

####### 如果这个人的行为会影响女性、有色人群或者少数群体的其他成员，这对组织的包容性和多样性会有多大的伤害

####### 由于这个人拒绝写文档，或不遵循组织的测试流程，其他人需要浪费多少时间调试他的代码

###### 如果一个人会给组织带来伤害，包括技术上和文化上的伤害 --> 影响组织在业界的名声

####### 如果人们说“嗯，他就是那种人，不过...”，完全可以不停“不过”后面的话

####### 应当寻找那些不会背离你的组织文化的应聘者

##### 问题七、我感觉在目前的团队／组织里没有发展

###### 前言

####### 考虑自己的情况时，所想到的最重要的就是我们的职业发展和职业规划

######## 有时自己可能在当前的位置上止步不前，无法进步

######## 有时自己可能已经满足晋升所需要的全部条件，但没有人注意到你所做的工作

######## 有时可能因为有意或无意的偏见导致自己止步不前

###### 指导VS赞助

####### 指导者会提供建议和指导

####### 赞助与拥有权力有关，赞助者是全力支持你的人

####### 最好能找到一个好的赞助者，帮助你得到一些迫切需要的引导

###### 认为“组织／经理偏心，对我不公”，成为边缘化群体的一员

####### 需要考虑是否有一些需求（明确的、或不明确的）自己还不满足

####### 可能是自己的行为存在问题，需要找出这些问题并予以解决

######## 作为成熟的工程师，自省和诚实的自我评价是必须具备的能力

####### 可以退一步考虑自己的行为（包括有意的和无意的）对其他人有什么影响

######## 如果大家都觉得与你共事很麻烦，这会阻碍你的发展道路

####### 很多情况下，更高级的职位不仅强调技术能力，还会强调人际能力，每个人都应该注意这些方面

######## 需要乐于助人

######## 能够赞助和指导别人

######## 与他人和睦相处

######## 能够很好地处理冲突

##### 问题八、没有人听我说

###### 问题

####### 某个人或某个团队根本不听你说什么

###### 问题分析

####### 可能存在一些人际冲突需要处理

####### 可能有些人不好相处

####### 我们都是普通人，有时候会有情绪

###### 解决方案

####### 先消除不满，解决冲突

####### 可以直接告诉leader你希望对团队和组织有更大的影响，问他有什么建议，因为改变工作或沟通方式可能很有帮助。根据直接经理提供多大程度的支持，可以选择不同的做法

####### 如果所有沟通都没有用，leader或团队仍然不理会你的意见，说明所在的环境是一种不健康的环境，最好的办法可能是离开这个环境，寻找一个新职位

######## 可以在当前组织中另找一个职位／也可以寻找其他组织中的职位

##### 问题九、我们刚给重组或裁员

###### 前言

####### 在一个组织的生命周期中，裁员是一个很自然的阶段，这个阶段往往会减少生产线或员工人数。可能会让人很有压力

###### 组织可能裁员时，问自己几个问题

####### 为什么会重组或裁员？

######## 如果领导清楚地说明了发生这个变化的原因，你不用自己才想遗漏了哪些信息

######## 如果不知道原因，可以询问你的领导

######### 不一定要接受或同意他们所说的原因

####### 如何通知重组或裁员？是否及时？

######## 领导要及时地通知每一个人，而不是让消息先泄漏到媒体，或者几个月后才得到消息

######## 及时掌握情况，及时妥善安排，关心这个过程，避免等到人们纷纷询问时还毫无头绪

####### 你的工作会有很大变化吗？是否要向同一个经理报告？岗位职责、工作难度或者决定权会有变化吗？

######## 如果自己的工作实际上是一样的，只是换个名头，这就没有什么变化

######### 需要花时间好好了解为什么会发生重组或裁员，哪些人会受到影响

########## 得知公司的关注点

######## 如果工作会发生很大改变

######### 需要从一个应聘者的角度研究你的职位

########## 你的价值是否被低估

########## 这个改变是否会影响你的学习和经历

########## 你与新经理能否很好地相处

####### 你在过去的12个月里是否经历过多次重组？公司的生命周期中定期有一个裁员阶段

######## 如果只是一次重组，可能只是领导层变化的一个自然演进，这是健康的

######## 如果经历了多次重组

######### 需要更深入地挖掘其原因

########## 之前的裁员或重组确实完成了吗

########## 是否是一个漫长而吃吃不能终结的过程

########## 一段时间“重新洗牌”对你的健康和工作价值有什么影响

########## 重组提供的机会是否会大于所带来的人事成本

####### 你的团队是否人力不足

######## 如果你的团队在重组或裁员之后仍然有足够的人力，能够正常地完成工作，工作压力没有变化，那么重组同样对你没有影响

######### 花些时间了解组织中哪些人会受到影响，说明了什么

######## 如果重组后你所在的团队人力不足，你要马不停蹄地四处救火，这就会影响进一步提高你的技能，甚至还会退步

######### 从内部来看，这样救火似乎很好；但从外部看，这只是不求进步的借口

###### 要记住，你完全可以选择辞职

####### 每一天结束时，你要仔细选择在哪里工作，并考虑为什么这样选择，不要只是因为有大笔分红（黄金手铐）就留在某个公司，以健康为代价不值得

####### 不是每一个团队或组织都适合每一个人，并不是所有的人都关心devops，或者能够在其他领域发挥你的作用

######## 对所有人来说，有时最好的事情莫过于找到一个真正合适的位置

## 03 第三部分 亲密性

### 030 亲密性：从个人到团队

#### 前言

##### 很多情况，大家都只强调团队内部的成功。

##### 组织部门、公司之间也存在会影响工作速度和价值的关系——“弱联系的力量”

#### Sparkle公司开发演示会

##### 对于MongoDB和MySQL两种方案，很快有人搭建起了两套相应的环境，用来演示对比 --> 演示 --> 评价 --> 咨询运维团队 --> 结论由项目经理下 

##### 结论怎么下比较合适

###### 通过建立亲密性增强组织 -->   帮助我们做出重要的决定

#### 人际关系网

##### 人与人之间3种不同的联系

###### 强联系

####### 我们与我们的直接团队

###### 弱联系

####### 直接团队这个紧密群体之外的人，例如本公司其他团队的人

###### 无联系

##### 联系的强度判断纬度

###### 时间

###### 情感强度

###### 亲密性

###### 互惠性

##### 社会关联依靠强联系和弱联系，团队运行和交互过程中，可以使用这些联系建立更强的工作关系

##### 弱联系在分享资源和信息方面比原先所想的作用更大

###### 例如，超过一半的调查者都是通过弱联系认识的某个人找到了工作，而不是关系很深的朋友

#### 怎样才算是团队

##### 前言

###### 团队是朝着一个共同目标努力的群体

###### 人们之间相互依赖，有一定的熟悉度

###### 团队有一组自己的信念，反映了大多数成员的想法

###### 有内部和外部的作用力促使团队建立和维护其团队同一性

##### 团队要做的工作

###### 反应性工作：对其他事件的响应（如响应电子邮件或受到客户的ticket），不是主动完成的工作

###### 计划性工作：在安排和确定其他工作优先级方面所做的工作

###### 过程性工作：维护工作，如跟踪之前发出的电子邮件或填写开支报告

###### 不安全性工作：由于我们自己的不安全感而做的工作，如在线检查我们的个人或组织声誉

###### 问题解决性工作：需要创造力和注意力的工作

###### 第六类工作——关系性工作

##### 定义亲密性

###### 亲密性工作是一个社交催化剂，可以促进工作，从而缩短完成其他工作的时间，减少沟通壁垒，并基于声誉建立信任

###### 亲密性是对个人、团队、企业部门甚至公司之间关系强度的度量

###### 准确地度量亲密性及其困难

###### 组织内的角色声望阶梯

####### 不论组织有怎样的结构，公司往往会为各个角色指定某种价值，建立一个声望阶梯

####### 有些人可能认为某个角色比另一个角色更有价值 --> 重要性层级结构 <--强化-- 谁拿到资金、得到晋升、获得其他想要的结果

###### 亲密性 --> 了解谁拥有所需的知识、技能，与不同团队、组织、和公司建立强关系

##### 团队内的人际联系

###### 内力

####### 内力是稳定性和变化之间的一种对抗

####### 一个群体中的个人可能倾向于稳定性，着力寻求不可变的真理或“最佳实践” --> 团队或群体更有内聚力

######## 人们很自然地避免冲突 --> 团队中的成员更容易相互认可

######### 利：团队有足够的内部稳定性来实现目标

######### 弊：过多地避免冲突，会导致思维同一性，创造力和问题解决能力降低

###### 外力

####### 外力往往在具体环境中形成

####### 如果团队与另一个群体发生冲突，如竞争某些共享资源，就会让团队内的成员紧密地联系在一起，加强团队认同感

######## 前提是团队有足够的初始内聚力和稳定性

###### 人际关系的强度度量因素

####### 共处的时间：只要一起工作一段时间就能帮助增强工作关系

####### 关系的强度：克服挑战和解决冲突可以把人们凝聚起来，尤其是一些紧张的经历，如解决一个生产中断问题

####### 分享故事的互惠性：公开和分享个人的成功与失败经历是相互认识的一种很好的办法

####### 支持的互惠性：假期值班，同伴休假时换班，或者帮助某个人解决一个棘手问题

####### 四个因素结合在一起，才能真正建立一个强联系

######## 但并不是说人们必须非常亲密或者在工作之外都要与队友成为最好的朋友

######## 也不是说谈论一个人的家庭或亲密关系，而是分享职业生涯中做过的选择

##### 团队文化

###### 团队文化会在很大程度上影响团队工作的有效性和团队成员之间联系的强度

###### what to do

####### 清晰地传达共同价值观 --> 团队成员之间强有力的维系力量

####### 确保大家都理解团队的价值观 --> 有利于避免、解决人际冲突

######## 临近项目的最后期限，在尽其所能地提交产品和先等等之间选择

######### 继续：更看重履行承诺和满足最后期限的要求

######### 先等等：更强调交付满足质量标准的工作成果

######### Final：如何选择，谁是对的，很大程度上取决于在团队整体看来哪些价值更重要

###### 团队价值观 与 组织、公司价值观 与 个人价值观

####### 三者不能冲突

####### devops反模式：文化契合，价值观一致不等于文化契合

######## 团队成员是否兴趣相投（比如都喝啤酒，都是某个球队的球迷）并不等于价值观一致

######## 应该如何对待

######### 不要考虑文化，应当考虑价值观

######### 对组织和团队来说，哪些价值很重要，应当通过哪些方式体现这些价值

####### 如何传递价值观

######## 事实胜于雄辩，做的比说的重要 <-- 要了解团队的价值观，主要途径是考察团队整体的行为

####### 价值观传递的范围

######## 不止是在团队的内部，在相互合作的团队之间，也需要确保其他团队了解本团队的价值观，设定了怎样的标准，对工作作出了怎样的承诺

####### 团队成员需传达一致的价值观，实际的行为与所声称的价值观需一致，否则新成员可能会难以进入状态，不知道该如何工作

####### 外部对团队的信任 <-- 一致的价值观（不同团队成员传达的、实际行为与声称）、责任感 --> 所有权、坚持、学习

####### 共同的价值观（团队成员之间、团队成员与领导成员之间） --> 更高的内部信任度 --> 强联系 --> 更高的团队和个人绩效

####### 团队凝聚力

######## 凝聚力强弱：各个成员希望为团队做出多大程度的贡献，使之能作为一个功能单元继续工作

######### 凝聚力差

########## “人人为己”心态，团队成员更多地考虑个人利益，而不是从团队整体利益的角度来考虑

########## 信任更少，知识分享更少，不太会有同理心

######## 团队整合

######### 一个团队如何将个人的经验和工作结合到统一的整体中

######### 团结／将团队成员凝聚在一起的共同利益

######### 对生产力尤其有意义：个人之间可以分享更多的知识 --> 促进人们更多地合作 --> 更强大、生产力更大的团队

####### 内群体／外群体理论：外部压力可以增强团队内部的凝聚力（团队里的同事友谊与来自其他团队的压力是相互关联的）

######## 带来的问题：群际冲突

######### 通过分享经验、交叉分类能够让人们知道与他们共事的人是多维度、多方面的

######### 增加不同类型人群之间的人际交互、沟通和信任

########## 非强制的，依然允许自然地形成一些利益群体

######## 检查群体从属关系

######### 决策群体的多样性越低，对于这个群体之外的人和用户来说，这些决策就越有可能产生严重的负面影响

######### keypoints

########## 问自己，想要解决哪种问题

########## 我们确实在解决正确的问题吗

########## 我们的团队有没有必要的知识和经验来确认这一点

########## 能否了解解决方案可能带来的影响

######### 打破群际壁垒

########## 弱联系系数增加 --> 从弱联系获得知识和经验 --> 更有创造力的解决方案 --> 避免在无意间伤害部分用户

######## 扩展群体从属关系

######### 信息孤岛、问责文化、无效的沟通以及缺少信任都是组织中很严重的文化问题，这些问题可能出现在开发和运维团队之间，也可能出现在公司的其他领域

######### 把公司和行业作为一个整体来考虑，就能掌握这些关于信任、亲密性和分享的思想，并有效地加以使用，不仅能让工程部门受益，整个行业都将受益

##### 多样性

###### 前言：从多样性的好处和纬度出发，讨论说明团队和组织如何创建包容性的环境，从而对企业以及企业中工作的个人都有好处

###### 多样性的好处

####### 多样性对创新至关重要 —— 优势在于不同，而非相似

###### 多样性的缺点

####### 更多的人际冲突，如果不同的观点、预期和观念得不到妥善的处理，可能会导致士气低落

###### 多样性和交叉性坐标轴

####### 性别和性别表现形式

####### 国籍

####### 年龄

####### 经验

####### 身体状况

####### 信仰

####### 家庭状况

###### 克服无意识偏见（来自我们的环境和我们所处的时代和文化，通常我们并没有注意到它们的存在）

##### 招聘注意事项

###### 注意可能不当的言辞

###### 当心那些无意识偏见

###### 引入在“创建多样化的团队”这一领域有更多经验的专业人员进行招聘工作

###### 让应聘者提交作业 —— 考虑边缘性群体？

##### 维持一个包容的环境

###### 前言：面试、招聘了多样性的员工，但是如果无法将他们留下，就没有太大的意义了

###### 包容性：确保少数群体中的个人能够获得归属感，并得到鼓励保持他们在工作群体中的独特性

###### 成见威胁

####### 所处环境存在对某个少数群体的成见对个体的影响

######## 表现更差

######## 更多的应激反应 —— 心率加快、皮质醇水平升高

######## 长期处于成见威胁之下，与长期压力一样，会对精神和身体健康产生长期负面影响

####### 团队归属感可以帮助缓解成见威胁

###### keypoint

####### 减少让人们特别注意到一些人与他人之间的区别

####### 避免让少数群体承当额外的负担

####### 考虑员工当前是否有可以参加的社会团体和活动，是否允许或鼓励员工创建新的团体

####### 少数群体中的个人是否能够成为领导或指导者（发展空间）

####### 考虑办公室活动是“选择性参加”或是“选择性退出”

####### 确保工作环境尽可能包容，如何做

######## 确保所有招募人员都了解多样性和包容性目标

######## 派员工参加无意识偏见培训或技能研讨会

######## 以身作则，并叫停有问题的语言或行为（不要只是让这成为少数群体成员必须承担的职责）

######## 组建员工资源团体（社区、网络和支持），建立一些场所来解决不同个人的需要

######## 审查工作环境，确定出了政府强制的要求外，能力不同的员工是否能掌握这个环境中的关键要素（多样性和包容性？）

######## 如果要求一些人完成审查工作，需要对额外的工作提供相应的报酬

######## 预先营造一种包容的环境。要一直注意你的言行是否存在无意识偏见，而不只是当那些群体中的人在场时才注意自己的言行

###### 真正包容的环境带来的好处

####### 人们不用处理各种压力源 --> 更好地协作、更乐于沟通、更有创造性 --> 更高的个人、组织绩效

#### 团队和组织结构

##### 前言

###### 从一个团队到一个更大的组织，个人之间的关系会变得更微妙 —— 邓巴数（约150），与人维持稳定社会关系的人数限制

###### 超过邓巴数，群体和组织就必须使用更严格的规则、法则和执行规范来维护有类似内聚力的群体 --> 大公司之所以比小公司有更多的管理者的原因之一

##### 组织超过150人，如何维持一个稳定、内聚的群体

###### 确保正常的信息流动和准确的理解

####### 一组不同的文化实践

####### 更严格的规则和规范

###### 不能限制个人之间建立关系

##### 社会结构影响文化，文化又会影响社会结构

###### 改变会带来底层组织结构的影响，也许会有争议，如何解决？

##### 组织中不重视人际关系和群际关系的表现

###### 不同团队之间有重复的工作

###### 在竞争或相互排斥的项目中并行工作

###### 责备性事件响应不断增加／信任减少

#### 找出团队之间的共同点

##### Question：如何建立信任，创造共同经验并与更多内群体创建更包容的组织

##### 在不同团队之间搭建桥梁，困难？

###### 目标差异

####### 开发、测试、运维、QA KPI如果与最有利于企业的方面不能一致，不仅不会帮助提高整体绩效，最后反而会阻碍发展

###### 对成功度量的差异

###### 领导的差异

####### 亲力亲为 VS 放手型

####### 更看重生产力 VS 更关心人员培养和人际关系

###### 沟通方式的差异

####### 不同的领导不同的沟通方式 --> 团队之间的隔阂 --> 下意识聘用和他们类似的人，与他们共事 --> 团队层次上出现沟通或工作方式的冲突

##### 从竞争到合作

###### 竞争资源：采购资源、项目资源、人力资源等

####### 市场竞争：要求更快、更廉价、更好

###### 世界市场发展的基石：公平竞争

####### 禁止限制自由贸易的协定或做法

####### 不允许主导厂商的舞弊行为或导致这种地位的做法

####### 对威胁竞争过程的合并和收购实施监管

###### 竞争的好处

####### 激励竞争者更努力地工作

####### 发现更有效或更有创造力的问题解决方案

####### 为客户提供更多的选择

###### 太多竞争带来的有害影响

####### 公地悲剧：描述不加管理地在共有或公共草地上放牧的羊群产生的影响

####### 博弈论出发看待：“公地悲剧”这种情况下合作很困难，尤其是当风险变得越来越高时。但无限制的个人自由带来的悲剧并不是不可避免的

####### 如何保证公地情形中的合作，需要

######## 一种控制整个群体中从属关系的方法

######## 社交网络

######## 可观察所涉及的每个人的行为

######## 对个人的分级处罚

######## 一个不过度变化的资源

####### 对非合作行为需要“有所表示”，否则人们可能会自然而然地越来越多选择非合作行为，以保护他们自己的个人利益

##### 建立团队同理心

###### 引言：有了同理心，运维工程师就能认可快速、频繁地推送代码的重要性，而不会大惊小怪。
开发人员也能理解编写太过臃肿、太慢或太不安全的代码会带来问题。
同理心会让软件开发者和运维人员相互帮助，从客户角度考虑，为他们提供最好的功能和操作性能。—— Jeff Sussna

###### 前言：devops运动的重要原则之一就是培养同理心

####### 同理心和理解是紧密相关的，如果没有深入地理解你的客户想要什么和你要为他们解决哪些问题，以及这些问题是否确实是真正要解决的问题，你的企业不太可能会成功

###### 指派运维人员

####### 问题场景：开发团队缺少足够的资源来完成自己的工作，希望从运维团队得到需要的服务和支持

####### 解决方案：指派运维团队联系人，避免随机指派不同的人

######## 指派而不是全职

######### 要理解运维团队还有自己的工作，无法投入100%的时间来帮助其他团队完成工作

######### 指派的人员不必一个人单枪匹马完成这个团队所有与运维相关的工作，更多的是管理或监督相关的工作

########## 时间和项目管理技能对于运维人员开展这些工作非常重要

########## 需要确保指派的运维人员在时间和项目管理技能方面有必要的支持和培训

######## 运维团队规模

######### 需要一个适当规模的运维团队来支持开发团队 <-- 正常项目和职责之外的工作会加大压力和负担

######### etsy公司devops实践：15个运维工程师支持数百个其他工程师。2到3人的运维团队无法做到

######### 指派的运维工程师的工作量跟实际的项目有关，需要根据实际情况，均匀地分摊工作量

######## 在平时建立共情关系

######### 运维工程师的工作在不出问题时几乎不可见，一旦出问题又往往容易被大家指责诟病

######### 避免只在需要帮助时才和他们讲话，可以将他们纳入团队好的方面或有趣的活动中

######## 双向学习

######### 指派运维工程师：提出诸如如何监控，对于生产阶段又什么意义，如何做出故障和灾难恢复计划等等

######### 团队成员：传达当前工作业务更深入的理解和认识

######### 相互认识到对方的出发点和努力

######## 指派不仅对于运维工作适用，也可以为团队指派设计或用户体验工程师

###### 训练营和岗位轮换

####### 训练营（bootcamp）：员工在一个给定的团队的任期刚开始时所采用的一种先在其他团队工作一段时间的方法

####### 岗位轮换：一个人在特定的岗位的任期开始后所采用的方法

####### 非工程岗位的轮换

######## IT、支持，成本中心部门

######## 梯子与金字塔层次结构

####### 轮换项目是否成功取决于——是否相互分享和学习

######## 如何避免单边关系／处理公地悲剧？

######### 对非合作行为进行处罚——拒绝再与这些差劲的组织开展交换项目，减少他们所能获得的信息

##### 改善团队沟通

###### 前言：团队之间除了要有同理心，还需要能够有效地沟通，从而能够真正地合作

###### Question：如何在团队层次上应用“沟通方式、媒介和协商类型”这些概念？ --> devops文化从只针对少量
团队或工程部门的文化转变为针对整个组织或企业的文化 —— 不是少量团队或工程部门从中受益，整个组织或企业都将受益

###### 几个客观事实

####### 群体的沟通会基于放大群体成员的单独沟通，而不论好坏

######## 群体中的个体可能习惯于使用不同的沟通方式，不论哪一种沟通方式，往往都是最强势的人胜出

######### 通常意味着说话声音最大，讲话时间最长或者打断别人最多的人会主导讨论，并“取胜”

######### 会改变整个团队的沟通状态

######## 不好争辩或不愿意打断别人的人会更快地退出这些讨论

####### 群体会以领导人（管理者、有权威、或受大家尊敬的人）为表率来决定他们要如何沟通

####### 过度沟通总比缺乏沟通要好

######## 从受众范围、紧急程度，上下文以及其他因素等方面考虑，不同媒介分别适用于不同的沟通类型

######## 再加上个人喜好，通常很难设置让所有人都满意的原则

######## 通过允许一定程度的个人定制（邮箱自动过滤归档等），能够在一定程度上解决该问题

####### 团队成员分布在不同位置、时区时

######## 要注意养成习惯，默认采用适合远程的方式沟通——email、文本

######### 能够提供可搜索的沟通内容记录，以便将来参考

######### 还可以让远程工作的人员没有被隔离在团队之外的感觉

###### 发生危机时的沟通

####### 前言

######## 问题场景：发生网站瘫痪时的沟通

######## 涉及多人和多个团队的危机中的有效沟通并不是一个新概念——医疗领域已经在这方面做了多年的研究

######### 许都策略已经经过实际检验，可以应用到devops

####### 跨部门沟通

######## 举例：指派运维工程师、医生护士药师共同查房、共享检查表或模板 —— 努力建立和维护共同的沟通标准

####### 自主性沟通

######## 危机来临时，往往不会留多少时间来解决沟通不足或猜疑的问题，人们需要适应自主性沟通

######## 自主性沟通 不等于 粗鲁

######## 需要确保人们能够受到培训，帮助他们直接而有效地沟通

######## 选择非问责型、非语言沟通方式

####### 特定的批判性语言技术

######## 建议人们对有疑问的方面最多挑战两次——危机来临或有大量工作进行时，对疑问只提出一次，可能会遗漏某些方面

######## 但是挑战超过2次可能会导致意见不一致，或争论太长时间，以至于无法及时采取最重要的行动

####### 确保人们在危机期间能够放心地提出顾虑或疑问（CUS）

######## 对某个方面存在担心

######## 对某个方面不确定

######## 安全可能成为问题

####### SBAR——提供一些原则，确保能够以建设性的方式表达担心或提出批评

######## 场景信息，描述发生了什么

######## 背景信息或上下文

######## 下一步的建议

######## SBAR：以证据为基础的、标准的沟通方式

######### 应用

########## 美国海军核潜艇和航空业，在紧急情况下保证了信息的准确传递

########## 世界卫生组织提倡的标准化沟通方式

######### 定义

########## Situation／现状

########## Background／背景

########## Assessment／评估

########## Recommend／建议

####### 不论是在危机中还是日常的工作当中，要经常采用这些不同的技术来保证团队形成彼此此报童的习惯，促进直接、有效的沟通

#### 案例研究：某国专利商标局

##### 前言

###### 部门：某国专利商标局（USPTO）首席信息官办公室系统配置和交付自动化部门

###### 职责：确保客户所用的技术和工具可以正常使用，保证他们能够对某国公众提交的专利和商标文档完成日常的审查、批准和裁定

##### 背景与指南

###### Donbeck个人背景

####### 某国专利商标局（USPTO）首席信息官办公室系统配置和交付自动化部门主任

####### 海军陆战队退伍军人

####### devops运动推广者

####### 拥有心理学和组织发展专业学位

####### 信息系统安全官

####### 项目经理

####### 职业生涯特点：喜欢发现不完善的流程，明确什么能够激发人们，推动他们前进

###### 当前职责：领导团队开发、实现并负责操作当前的持续交付平台，这个平台涵盖这个组织软件开发生命周期中的几乎所有方面

###### 主要使用开源工具（开源网络在线支持好，并且在不断地开发新的特性和部件）

####### 源代码控制：Subversion

####### 持续集成服务器：Jenkins

####### 项目和质量管理：Sonar

####### 仓库管理：Nexus

####### 配置管理：Puppet和Ansible

###### Donbeck对devops的看法

####### 技术层面：有效、高效地完成持续交付

####### 文化层面：基于信任和一种协作精神协调各个不同团队生产高质量的产品

####### 自己的工作：开发和维护高质量的软件产品以及破除对此有影响的障碍 <-- 着力推动devops

##### 鼓励协作和亲密性

###### 努力建立团队间的信任和协作环境是一个持续不断的过程，这会受到整个组织中多方面的影响

###### “能够朝着一个共同的目标协同工作，而不需要标定各自的领地（这是我的，那是你的）；协作应当是开放的，不会心存畏惧；不用担心失败或犯错误”—— Donbeck

###### Actions

####### 对个人与团队工作以及工作的有效性进行反馈

####### 积极寻求用户群体的反馈，并对用户反馈进行研讨

####### 代码审查

####### 为新员工指派同事向他们讲解应注意的事项

####### 在沙箱中尝试不同的工具，推广前通过企业架构审查流程来确保这个工具／产品满足必须遵循的所有管理和安全需求

####### 把会议室变成“DevOps工作间”

##### 平衡多种观点

###### 大型组织要集成多种观点和工作方式形成一个有凝聚力的组织策略

###### “开发人员会处于压力下，要在进度很紧张的条件下生产高质量的产品，运维人员则往往有另外的困扰，一方面要保持日常运维，保证工作正常进行，另一方面还要创造他们的服务产品，运维人员需要平衡这两种方面，所以对于开发人员和运维人员来说，什么是成功会有很大不同”—— Donbeck

###### 现象

####### 组织中不同的人或团队在朝着不同的方向努力

####### 组织中不同的人或团队彼此的工作相互对立

####### 特别是在较大的组织中，人们的期望和观点往往不同

###### 问题解决的关键

####### 能够认识和讨论这些现象代表的差异，正是解决这些差异的关键

####### 高层领导团队能够交流讨论成功是什么，并且推动不同的团队和领域形成一个共同的文化 --> 成功实现文化转变的一个必不可少的步骤

###### 形成共同文化的阻碍

####### 有些人可能比较抗拒个人层次上的改变

####### 有些人和团队可能由于之前不太开放的问责文化而观点不一

####### 所有层次上都可以努力克服这种问责意识，消除职责演变所带来的困惑，创建更开放、更协作的文化

######## 买一些“DevOps行动者纪念品”发给组织中具体行动来建立这种devops文化的人

######## 组织部门文化转变的动力

######### 组织管理层和领导层的支持和认可

######### 日常工作中相关团队的共同努力

###### keypoint

####### 不论组织规模、发展速度或复杂性如何，都要认识到至关重要的一点：需要有共同的愿景、目标和成功原则，才能成功地实现各种重要的文化或技术变革

####### 如果没有取得共识，就不太可能有效地完成任何改变，或者改变也不会长久

####### 尽管可能需要一定时间才能全面地建立共识，但起码要认识到需要相互理解，而且要为之努力，这是真正建立共识的关键的第一步

#### 改善亲密性的好处

##### 前言：在个人、团队以及组织层次上改善团队之间的亲密性有很多好处

###### 会让人们感觉到有人在倾听他们的声音，理解他们的问题 --> 提高士气和生产力 --> 更有创造力的解决方案

###### 改善的亲密性不仅有利于在企业工作的人，对企业本身也很有好处，why？

##### 缩短周期时间

###### 周期时间（cycle time）和交付时间（lead time）都是对工作和生产力的度量，都源于看板系统——20世纪50年代丰田开发的一个用于精益生产的调度系统

####### 交付时间：从提出请求到交付最终结果的时间，或者从客户的角度来看，就是完成某个产品所花费的时间

####### 周期时间

######## 含义一：也是截止至交付时间为止，不过是从针对请求正式开展工作算起，而不是从受到请求时开始（也称涌流时间，Ps：避免与含义二混淆）

######## 含义二：精益制造中，表示两个部件相继离开工作或制造流程的平均间隔时间

####### 涌流：是讨论工作和生产力度量时经常提到的一个概念

######## 提出者：社会理论家，米哈里·契克森米哈

######## 描述：一个人在参与一个活动的过程中完全投入、精力充沛并沉浸其中的心理状态

######### 区别于其他心理状态的6个因素

########## 高度集中注意力

########## 行为和意识相融合

########## 自我意识消失

########## 对情况的个人控制或行动

########## 主管时间感被扭曲

########## 内在回报

######### 个人层次上的涌流是一种意识形态，在这种意识形态下

########## 一个人感觉完全专注于一项需要准备和实践的活动，特别是需要创造力的活动

########## 人们感觉自己很强、很机敏，处于能力巅峰

######### 团队中也会出现涌流

########## 举例：管弦乐队，乐队由演奏人员和不同的乐器组成，大家汇集在一起可以创造个人无法创造的声音

########## 团队层次上的涌流比个人层次上的涌流更强

########## 取决于：团队中的每一个人同等程度地参与，强势或自大的人可能会毁掉团队涌流

########## 如何促进团队涌流 --> 更短的周期时间或涌流时间、更少浪费和更大生产力的团队

########### 共同的团队关注点

########### 工作可视化

########### 并行组织工作

########### 工作场所的空间管理

########### 把团队成员之间的差别看作是机会而不是障碍

##### 消除沟通障碍

###### 工作中最大的隐含成本：缺乏沟通，存在误解以及其他形式的沟通不畅

###### 问题

####### 不清楚客户想要什么

####### 不明确一个内部解决方案需要什么

####### 不了解人员方面的期望——希望人们如何协作

######## 带来重复工作 --> 时间、工作和金钱的浪费

####### 如果不能自然地直接沟通问题和鼓励 --> 消极对抗 --> 不把问题说开并解决 --> 愤怒和不满继续蔓延

###### keypoint

####### 技术本身不会创建或加强联系，工具使人们能够相互联系，有助于加强联系，但是具体效果完全取决于使用这些工具的人以及他们如何使用，来培养弱联系

##### 信任

###### 高信任度组织优点 一

####### 协作更多、重复工作更少

####### 员工会花必要的时间来提高自身能力和技能，加强工作中的联系，减少倦怠风险

####### 创建和维持一个高信任度的环境很重要 --> 培养人际关系和理解devops的关键

###### 高信任度组织优点 二

####### 信任度与工作质量呈正相关性

####### 信任度低 --> 一个人可能会觉得有必要反复检查甚至重做另一个人的工作，这样才能确保不会有遗漏 
--> 久而久之，人们不会对工作投入太大精力（没有得到足够的信任，很难谋取职业发展，难以主动真正努力地工作）

###### 高信任度组织优点 三

####### 成员相信自己的判断，知道什么时候需要寻求帮助，什么时候需要另一双眼睛来审查，以及什么时候他们自己已经具备所有必要的能力

####### 成员不会墨守成规，愿意挑战自己发展新技能，有更大的发展空间

###### 低信任度组织缺点 问责文化与过度竞争环境

####### 影响沟通、协作与创新

####### 有抱负的人（或者有更多选择的人）可能会离开，投奔到他们能够得到信任来完成本职工作的组织

##### 创新

###### 要实现创新，组织需要有一种信任和无问责文化

####### 人们成功时会受到奖励

####### 适当地处理了失败也要得到奖励

###### 如果团队、组织和所用的流程中存在信任，这会使得公司更能承受风险 <-- 成员不仅能够处理失败，而且能够从失败中学习

###### 创新通常是创造性“跳变”的结果。与其他人的交流也可以从意想不到的方向上提供新的想法，特别是组织之外的人

#### 亲密性需求

##### 前言：建立组织亲密性，不是一夜之间能够完成的，需要付出努力，创造适当的条件

###### 条件：松弛时间、明确的价值观和目标、空间、协作和合作

###### 不要求在每一个方面都必须达到完美，及时在最好的组织里，这也是一个不间断的工作

##### 松弛时间

###### 松弛时间：工作系统中一种未积极工作的状态

###### 通常看法：通常这种闲散状态会被看作是没有生产力或效率低下

###### 正确看待

####### 有意地规划松弛时间对于避免过度分配工作是很有必要的

####### 如果只关注团队和个人贡献的有效性和效率指标，就会更强调可度量的任务，而忽视本质上较难度量的关系性工作

####### 松弛时间对于处理有变化的工作很重要，即未计划或者比预期完成时间长的工作

####### 一个角色的工作越容易被中断 或 一个团队工作负荷越不可预料 --> 需要越多的松弛时间

####### 松弛时间对于工作-生活的平衡和个人健康也很重要，这是有效的创造性思维的必要条件

##### 明确的价值观和目标

###### 如果没有明确地对某件事情做好计划，这件事就无法完成

####### 很多工程环境节奏很快，而且压力很大，很难很好地满足所有既定目标，更不用说目标不明确的情况

###### 要为发展职业关系做出规划 --> 为了团队得到亲密性可能带来的诸多好处

###### 个人贡献者和他们的管理者需要理解关系性工作也是他们的工作中很有价值而且很重要的一部分

####### 如果安排的工作过多，可能就会认为与其他人联系和“浪费”时间是没有意义的

###### 要认识到工作有多种形式

####### 即使一个人没有坐在办公桌前积极处理客户支持ticket，也不意味着他没有对团队做出有意义的贡献

###### 需要明确地重视“建立和维护关系”这个工作，让大家清楚地了解期望

####### 管理者和团队领导应当指出所期望的结果

####### 向完成目标的个人表示祝贺

###### 优秀实践

####### 可以用技能矩阵来定义一个组织或角色中不同层次所期望的技能和能力，这对于“明确地设定目标”会很有用

######## 矩阵行

######### 行一：强调技术或“硬”技能以及所完成的项目

######### 行二：强调人际交往和协作能力

####### 要重视谦逊和善于倾听的特点

######## 为工作伙伴提供时间和空间来分享他们的观点

######## 要认识到没有哪一个人最重要或者能提出所有解决方案，从而促进关系的加强

###### 建立“明确的价值观和目标”体系，有助于确保人们得到公正的评价

####### 考虑到成员们做的所有不同类型的工作

####### 明确重视建立关系可以避免：工程师水平一流、能力超群，但人际交往能力很差 <-- 整个组织都明确知道这种行为不可忍受

####### 度量和奖励什么，通常就会得到什么

##### 空间

###### 建立一个大家共享的休息空间，利用适当的基础设施允许不同团队建立协作，激发创造性并促进问题解决

###### 共享空间不应以个人的工作空间为代价，因为这是对别人的不尊重

###### 需要考虑到成员不同的需求，比如：有的人不喝咖啡

###### 离开办公桌和“真正的工作”时间太久的顾虑

####### 关系性工作的价值往往被低估

####### 关系性工作是“真正的工作”的催化剂

####### 鼓励个人和团队在小空间自发地收集需要的信息 --> 促进团队间及团队内关系的建立

###### 最佳实践

####### 要提供多种不同大小和配置的空间来支持人们协作

####### 人们可以随意地自由来去，允许人们根据给定时间他们要完成的工作来选择适合他们的协作方式

####### 为人们提供时间和空间来加强联系可以降低流失率 <-- 我们常常会因为周围的人的原因在一个职位上待更长的时间

###### 开发办公计划存在的问题

####### 协作完成某个工作时不能影响到旁边想努力解决某个棘手问题的人

####### 如果没有隔离的空间能够避免人们相互影响，关系、生产力二者就会受影响

##### 协作和合作

###### 前言：除了提供空间和鼓励员工相互合作和协作外，如果想要得到所有相关的好处，组织还需要有一种文化，能真正促进和奖励关系的建立

####### 奖励涉及或鼓励合作的行为

####### 避免有意或无意地培养一种竞争的环境

###### 分级评级系统对员工绩效进行评级的负面作用

####### 与合作环境的主旨背道而驰

####### 人们可能为了晋升、加薪或是保住工作而竞争 --> 不会看到真正的协作

###### 避免因消极对抗而削弱信任 —— 奖励间接告诉第三方，而不是与相关的人直接解决问题的行为

#### 度量亲密性

##### 前言：亲密性很难度量，可以度量亲密性的结果，而非亲密性本身，可以关注的信号

###### 组织中成员相互之间在发展关系

###### 团队之间在发展关系

###### 团队与组织之外发展联系

##### 员工技能和评价

###### 沟通领域强调质量而非数量，一个好的技能矩阵或审查工具能够帮助提高沟通质量

###### 考虑“员工相互之间需要信息或辅助”时，思考

####### 人们知道要向谁提问吗？

####### 他们愿意去问合适的人吗（即使那些人不在自己的团队里）？

####### 在拒绝得到帮助意味着自己的进度会减慢或者甚至会妨碍到其他人的情况下，人们是否愿意寻求帮助？

####### 人们是不是总是因为一些争论而使会议、代码审查或电子邮件线索脱离正常轨道（尽管大多数人认为这些争论没有必要）？

###### 注意这样的人

####### 被看作是很好的信息源，也就是人们需要帮助时总会找的那些人 <-- 最好的沟通者

####### 有妥善的响应方式

######## 不会表现出优越感

######## 不会小看向他们提出的问题

######## 会帮助身边的人获得答案，即使他们自己并不知道答案，或在忙于其他工作，也会积极给予帮助

####### 好的协作者会真心希望帮助身边的其他人提高和成功

##### 团队间交流

###### 不同团队度量工作的进行状况

####### 每个团队都使用各自不同的系统 逊色于 使用共同的软件来跟踪和组织他们的工作

###### 关注点

####### 一个给定项目涉及多少个团队？

####### 团队之间的工作如何细分？工作划分是否均衡？划分是否合理，或者是否有一个团队或团队成员相对于其他人负担过重？

####### 项目生命周期的不同阶段需要多少时间？具体地，规划需要多少时间，这个阶段的团队组成是怎样的？

####### 团队或项目成员之间是否经常出现误解？这些误解特定于一个特定的团体还是与沟通方式有关？

###### 特定的跨团队项目常规工作中好的现象

####### 人们经常寻求其他团队成员的帮助

####### 人们愿意寻求其他团队成员的建议

####### 人们希望得到解释和说明，而不是想当然地假设自己知道其他人想要表达什么

####### 人们经常找其他人结对工作

####### 这些“好的现象”发生在所有团队之间，而不是特定的一个团队之内

###### 多团队参与同一个项目

####### 同时发生VS“转交”

######## 一个团队的工作结果将由其他团队使用，或者会影响到其他团队，就要看看是否有办法在整个过程中纳入那些团队

##### 寻求社区支持

###### 前言：devops运动如此生机勃勃 <-- 社区从业人员充满热情，愿意聚集在一起讨论他们如何工作以及在做什么

###### 自由、开放地分享工作和想法 --> 社区强大而有价值

####### 人们通过社区等媒介沟通想法，建立原本无法建立的联系和纽带，发现自己想不到的解决方案和新想法 --> 避免浪费时间去处理已经得到解决的问题 --> 更好地利用时间和精力

###### 成功建立合作社区 <-- 惩罚坏分子，以团体的利益为代价突出其自我利益的人

#### 小结

##### 发展和维持开放、信任和沟通的关系在个人以及一起工作的团体之间都同样重要

##### 认为自己属于哪些团队成员，会对我们自我描述的身份有很大影响 --> 影响我们如何与人们交流和共事

##### 要建立协作性的组织和行业，关键是要寻求方法破除团队间的壁垒，扩展我们团队的从属关系和定义 --> 在个人、团队甚至公司之间工作、信息和想法更自由发展和流动

##### 可以在一个组织的不同团队之间以及甚至在不同组织之间分享故事和想法 --> 更多信任和更多创新 --> 有助于维持相互理解  ----- devops至关重要的一点

### 031 亲密性：误区和问题排查

#### 前言：关于亲密性的误区和问题与个人协作和沟通的有关问题类似，不过在一个更高的组织层次上

#### 亲密性误区

##### 前言：对于一个组织中不同团队的职责和贡献，人们通常有不同的想法，另外对于devops环境中亲密性和分享的意义也往往有不同的理解

##### 误区一、 运维工程师不如开发人员对组织有价值

###### 难以撼动的想法：人们常常认为有些团队原本就比其他团队对公司更有价值，不特指运维和开发团队

####### 原因之一：有形工作 VS 无形工作

######## 有形工作：最后在客户面前展示的产品的相关开发工作 

######## 无形工作：只有在有缺陷或完成地不好时才会被看到，如网站服务中断、态度恶劣的客户支持代理（与正面事件相比，负面事件会更清晰地留在我们的脑海里）

###### 组织亲密性与团队间关系巨大威力的来源

####### 团队可以相互支持和帮助，而不是彼此阻碍

###### 解决方案

####### 将无形的工作有形化？

######## 指派运维人员计划 与 鼓励成员参与其他团队的会议 --> 有助于消除“某些团队没有做多少工作或者工作没有多大价值”的误解
Ps：可能某个团队真的没有完成他本来可以做的工作，但更多的情况下，这只是一个组织契合的问题，而非团队或其成员的固有价值问题

####### 当组织发展和变化时，不同团队或产品可能没有原先那么有意义

######## 要关注不同的团队及其工作如何在整个组织的上下文中整合在一起

######## 对于什么是工作，看法不要太过狭隘

##### 误区二、在公司外分享太多会削弱我们的竞争地位

###### 实际上，提供开源支持的工具和技术，与公司盈利的工具和技术并不一样

###### 如何支持和创建使得组织在某个领域很有竞争力，而不是分享的秘诀本身

###### 限制员工参加专业社区 --> 影响工作招聘的吸引力 --> 真正的竞争劣势

#### 亲密性问题排查

##### 前言：亲密性方面的问题排查通常也是间接的——如何识别和解决“在组织中建立一种开放、协作的文化”过程中可能出现的一些问题

##### 问题一、一个人或多个人中断团队涌流

###### 破坏团队涌流的行为：轻视、翻白眼、单独回避、拒绝指导、拒绝帮助其他人、扔东西等

###### 如何响应破坏团队涌流的行为

####### 理解做出破坏性行为的原因：权利变化、转嫁挫折、冲突等

####### 建立一个承诺：明确阐明后果 --> 消除破坏性行为

####### 教育、建立一个安全的空间对违规行为进行沟通，确保整个组织开展协作

####### 通过相应的条款减少员工担心遭到报复的恐惧

####### 建立一个守则：定义哪些行为可以接受，哪些不可接受（Geek Feminism网站提供有效行为守则指南）

###### 发生违规行为时如何处理

####### 管理愤怒情绪的培训半或指导培训

####### 若是长期工作压力导致，那么需要让他有足够的休假

####### 如果是冲突造成，那么需要采取措施解决、调解冲突

####### 补救措施不起作用时

######## 可以考虑把这个人安排到另外一个团队，或干脆让这个人离开
Ps：辞退一个员工并不一定是负面的

######## 对于一个看来不能与他人很好地合作的人，如果为他开太多特例，可能会导致更多的人认为这种不好的行为是可以接受的

##### 问题二、一个团队不断妨碍其他团队

###### 现象：一个团队或团体看起来总是在阻碍其他团队完成他们自己的工作

###### 排查：哪些因素造成这种阻碍？

####### 因素一、负责这项工作的团队配备的人员不足，无法承受为他们分配的工作量 --> 工作不能足够快地完成

####### 因素二、团队之间相互不能充分理解对方的问题、项目和需求 <-- 不同团队有完全不同的目标、优先级和需求要满足的KPI时

####### 因素三、团队间tickect分配时没有足够的沟通，导致接到工作的人没有足够的上下文来充分理解它的重要性

###### keypoints

####### 即使进行了沟通，仍有可能存在误解。

######## 涉及的团队间应当确保工作交接的最初就要对这项工作有尽可能清晰的理解：要做什么工作、最后期限、有哪些需求，为什么这项工作很重要以及它的优先级

####### 有些问题必须在组织层次上解决，无法在个人或团队层次解决

######## 当组织环境中的其他一些因素可能在培养一种竞争环境，不同团队有不同的目标，要达到不同的目标，那么，很遗憾，他们不会有相互帮助的初衷

####### 沟通解决阻碍时，需要带着正确的态度加入讨论

######## 避免戴上有色的眼镜看人 --> 引发对方防御心理

######## 被质疑、工作得不到认可 --> 滋生不良表现和消极对抗行为

####### 达成一致：每个人都在为同一家公司和相同的整体目标工作，大家需要公开、直接地沟通，对当前每个人的状况和期望做出重新评价

##### 问题三、一些团队感觉不被重视

###### 前言：在技术公司里有这样一种趋势——过于强调开发人员，而忽视其他不那么“光鲜亮丽”或者不太热门的团队和角色 --> 可能引起不被重视的团队成员的不满情绪。成功且可持续的企业，包括很多其他方面，不只是开发团队

###### 不可控的经济因素对薪水方面有影响

####### 发放补助和奖励

####### 提供开发人员和其他工程师参加大会、会议形成和类似活动的预算

####### 确保不只是工程部门可以得到这些机会

###### 给工程师发放精美的铭牌，忽略了其他部门的话，其他部门可能会感觉被忽视

###### 非工程师也希望能够展示企业精神 <-- 一两件T恤或卫衣虽小，但长期看来确实能大大增强士气（务必要合身、款式好、质量好）

###### 建立空间来发展亲密性文化的重要性 —— 务必注意是否所有人都能使用会议室和其他协作工作场所，确保所有员工都有同样的机会，而不会优先考虑某些员工

###### 庆功、表彰团队和员工 —— 大家都希望所作的努力和成就得到认可 <-- 工作满意度中很重要的一部分

###### keypoint

####### 不建议在招聘启示中把开发人员称为“明星”

####### 不要在办公室把他们当作“明星”，而把其他团队和组织只当作后台工作人员，这会滋生不满的情绪，而不是促进协作

##### 问题四、看上去人们相互不信任

###### 前言

####### 鼓励、发展和维持信任不是容易的事情，尤其是在一个之前没有信任的环境中

####### 不论是对同伴的信任，还是对管理者和领导人的信任，都很难得到，不是想要就有、可以随意挥霍的东西

####### 如果环境中看起来缺乏信任，几乎可以肯定，这个信号说明存在这需要解决的文化问题

###### 解决方案

####### 由问责文化转向无问责文化（无法一蹴而就，见“协作”部分）

####### 整个组织范围内开放的沟通是在组织中建立信任的关键

######## 如果没有真正打开沟通的门，比如管理者在门后“暗箱操作”，很难要求个人贡献者做到开放和诚实

######## 难题

######### 大多数时候，人们会把组织的努力看作是一种空洞的形式，不能、或不愿冒险站出来问一些难堪的问题而让自己受人瞩目。

######### 人们出于很多原因，包括个人原因和文化原因，不愿意直接询问

######## 可以试试：定期举办研讨会、让员工匿名提交和查看问题并投票，然后让HR、经理或主管回答最普遍的问题 --> 增加透明度，并从上到下建立信任

######### keypoint

########## 如果要做，就要100%做到

########## 大多数人更愿意听到“我们不能或不想回答这个问题”，而不是模糊的、没有实质内容的回答

######## 信任和沟通需要以身作则

######### 确保公司所有层次的管理者和团队领导人要经过充分的培训 --> 能够在建立信任、开放地沟通以及处理冲突方面能够做到游刃有余

######## “搅拌器”项目

######### 让选择加入的人与其他团队的个人随机结对，鼓励他们交谈一个小时左右，彼此了解对方（午餐或喝咖啡的时间）--> 扩展人们的联系

######### 没有必须共同完成的任务带来的压力，熟悉之后可以分配一些任务（低优先级的bug等）--> 建立信任和亲密性

##### 问题五、人们只关心工作的技术方面，而不关心人际问题

###### 对“强调亲密性、协作和合作”的反驳——这会让人们太过分心，不能很好地完成本职工作。一个组织的主要目标不是建立友谊或其他人际关系。

####### 持有这种观点的人对于什么才是“真正的”工作抱有一种很主观的成见

####### 忽略了这样一个事实——对于完成工作的人，影响人们生产力的任何方面都会对“工作”产生显著的影响

###### 但，忽视人际关系对组织的影响，不论影响是好是坏，都是目光短浅的

###### 工作中不合适的关系绝对会妨碍完成“真正的”工作的进度

###### 尽管工作不是要交朋友，但是我们应该把眼光放长远一些，更全面地考虑什么是工作

####### 不只是坐在办公桌前写文件或写代码是工作，建立关系使组织作为一个整体进行协作并有效地运行同样也是工作

##### 问题六、不同团队看起来根本无法一起工作

###### 成熟的组织中，往往有一套不易更改的关系和习惯，让人们改变根深蒂固的观念可能很困难

###### 如果团体和团队习惯于相互竞争，有着完全不同的目标，或者彼此之间严重割据，倘若不对组织文化或周围环境做出改变，就不能指望团队改变他们的行为

##### 问题七、以前的人际冲突导致现在的团队间冲突

###### 通过在团队间、项目间重新分配人员来打破小集团，避免产生滋生抱怨和对立心态的土壤

###### 高级人员之间的冲突，也许需要坐下来谈一谈，开始修复关系

##### 问题八、某团队看起来想成为一个孤岛

###### 现象：有一些团体与所在团队、部门甚至组织中的其他部分完全隔离，尽管所在的组织对devops变更（重组的团队、新工具、或工作流）持开放态度，但一小部分人对这些改变非常抗拒

###### 原因分析

####### 以前没有得到认可或者未能受到充分赏识的人往往存在这种情况，如：IT技术人员或运维工程师

####### 希望通过把信息私藏起来，来保护自己的职位安全

####### 系统通过另外的方式使自己得到认可

###### keypoint

####### devops运动更加强调之前数年或数十年没有得到足够重视或尊重的角色（如运维等角色）的重要性

####### 没有感到被认可和尊重，在工作场所之中还是没有安全感 或是 被人们以问责的态度对待 --> 可能导致自我封闭，不会根据事实做出调整，本能反应

####### 工作关系建立在信任之上，要建立、维持或修复这些关系，需要投入一定的时间和努力

####### 总是站在对立面、拒绝修复信任，无法适应不断改变的组织的人，可能不适合留在组织中

###### 解决方案

####### 明确这些员工哪些需要没有得到满足（马斯洛需求层次理论）

######## 基本需要、安全：确信职位不会丢，组织能够重视他们的工作，提前告知可能带来影响的情况，如裁员

######## 归属方面：舒心的工作环境、得到管理者和同伴的赏识——所以要注意“不尊重别人”、“不提供有价值反馈”的人

######## 自尊和自我实现：员工对自己和所作的工作感到自豪

##### 问题九、人们在批评devops的错误

###### 现象：引入新工具、新流程时，可能前期工具或流程存在问题，不够完善，需要优化改进。抗拒改变的人会指责这些变化，认为原来很好，用来办法就不会有这样的问题

###### 原因分析：错误地认为问题在devops本身，而没有意识到每个新工具或流程在发展过程中都会有问题，需要时间来适应

###### keypoint

####### 管理层要自上而下地对devops项目提供支持

####### 面对质疑、抱怨时不能摇摆不定

####### 需要做出一些尝试、经历一些错误，才能找出组织最使用的工具和流程

###### 解决方案

####### 提供适当的反馈改变对人们工作的影响的途径，搜集他们对改变的看法

####### 如果某个解决方案对多数人都不使用，那可能真的需要进行调查做出调整

## 04 第四部分 工具

### 040 工具：生态系统概览

#### 软件开发

##### 本地开发环境：根据人们的喜好会有不同的最低需要

###### 多个显示屏、高分辨率、与团队一致的框架

###### 好的、一致的本地开发环境有利于新员工更快、更容易地上手，很快做出贡献

###### keypoint

####### 一方面要确保一致的体验，另一方面还要允许员工定制他们的工作站和工作习惯，从而最好地满足他们自己的个人需要。二者之间要达到一种平衡

####### 如果不允许员工发现和采用对他们最适用的方式，在聘用和保留人才方面就会是一个竞争劣势

####### 要有一个共享区提供本地开发环境的文档，这些文档可以存储在一个版本控制仓库、内部wiki或者Google Doc中

##### 版本控制

###### 如果能够提交、比较、合并和恢复仓库中以前版本的对象，会在团队内部以及团队之间更好地进行合作和协作

###### 通过建立一种方法，使生产阶段的对象能够回退到之前的版本，可以使风险最小化

###### 每个组织都应当实现和使用版本控制，并在这方面进行培训

###### 应当在团队或产品的生命周期中更早地使用版本控制，这样才能帮助养成好习惯

###### 如何选择适当的版本控制系统（Version Control System，VCS）—— 能够鼓励协作的

####### 开放和创建仓库

####### 为仓库做出回馈

####### 规划对仓库做出的贡献

####### 定义贡献的流程

####### 分享提交权限

###### 代码行数不是一个准确的价值度量指标

###### 其他术语

####### 提交，Commit：提交是一个动作集合，包括在版本控制下对文件做出的全部更改

####### 冲突，Conflict：如果两个改变太过相似，版本控制系统无法确定那一个是将接受的正确的更改，就会产生一个冲突

####### 拉取请求，Pull Request：允许个人发出信号的机制，表示可以审查一个贡献合并到主干中

####### 挑选合并，Cherry Picking：从一个分支选择特定的提交并应用到另一个分支的方式

##### 工件管理

###### 工件（artifact）是软件开发过程中所有步骤的输出

###### 工件仓库的选择

####### 成本、安全、可信、稳定、可访问、版本化

###### keypoints

####### 二进制版本应当构建一次而且仅一次 --> 有助于降低复杂性、可以确保测试周期中使用同一个二进制版本

####### 为工作流中的每个环境分别维护一个单独的工件仓库

####### 本地开发环境也需要能够访问内部工件仓库 —— 有助于消除由于生产环境和本地开发环境中使用的包和依赖库不同而导致的“在我的笔记本电脑上都能正常工作”综合症

####### 更早地定义策略，建立监管过程，在特定的环境和约束背景下促进协作

###### 依赖来自互联网的利与弊

####### 弊端：最终由其他人控制构建版本的可用性和一致性

####### 利：不用维护通用的软件仓库、特定语言的包服务器、依赖库管理等，因为可以直接使用互联网上的大量共享服务

###### 其他术语

####### 依赖管理（Dependency Management）

####### 锁定（Pinning）：为一个环境锁定某一个工件的某一指定版本

####### 推广（Promotion）：选择一个软件的特定版本转向交付，其关键通常是成功地通过测试

#### 自动化：能够减少为达到“提升产品质量以及结果的精度和准确性”这个目标投入的人力、精力或材料

##### 服务器安装：自动化配置和设置各个服务器的过程

###### 硬件生命周期管理：每个公司必须采用某种方式来完成硬件生命周期管理——规划、购买／租用、安装维护／维修、折损回收

##### 基础设施自动化：通过代码来提供基础设施元素

###### 相关术语

####### 配置漂移（Configuration drift）：服务器一段时间后相对于其期望配置发生改变或漂移的现象

####### MTBF：平均故障间隔时间（mean time between failure），即两个故障状态之间的正常运行时间

####### MTTR：平均修复时间（mean time to restoration），恢复系统操作所话费的时长

####### 可用性（Availability）：一个系统或服务真正可用的时间与应当可用的总时间之比

######## https://en.wikipedia.org/wiki/Availability_(system)

####### 容量管理（Capacity Management）：用来确保基础设施和其他资源有适当的规模，可以采用一种成本有效的方式满足当前以及将来的业务需要

####### 雪花服务器（Snowflake server）：是一个通过多次人工更改达到其当前期望配置的服务器，操作可以是：命令行操作、配置文件、手动应用补丁，GUI配置安装等

###### 运维角色中的配置管理一般是指基础设施自动化，取决于具体系统，要完成的内容包括

####### 服务器上要安装哪些版本的哪些软件

####### 系统上是否有各个文件、需要运行哪些服务等

###### “基础实施代码”意味着

####### 1. 可以利用一个公共的本地开发环境开发代码

####### 2. 可以通过版本控制确定版本

####### 3. 可以在工件仓库中确定工件版本，进行测试

###### 基础设施自动化需要提供什么

####### 配置漂移管理

######## 配置漂移原因：手工更改、软件更新或错误或数据不一致造成的

######## 解决办法：通常会有一个单独的节点，定期根据期望配置检查实际配置，并自行修正所有不一致的方面

####### 消除雪花服务器

######## 基础设施自动化解决方案可以避免创建雪花服务器，确保所有更改都是明确定义的

######## 策略：一次增加系统中一个部分的管理，直到可以使用同样的配置管理策略从头创建具有期望配置的服务器

####### 版本化基础设施代码工件

######## 一个好的基础设施自动化解决方案会使用版本控制和一个工件仓库

######## 好处

######### 在需要时可以很容易地回滚到一个已知的正确版本

######### 可以通过后提交挂钩对基础设施代码定义自动化测试

######### 有利于团队成员为改进基础设施代码做出贡献

####### 尽量降低复杂性

######## 通过平台类型或版本来指定配置版本，基础设施自动化解决方案允许个人以最小的开销管理一个异构环境

###### 基础设施自动化带来的好处

####### 可以得到可重复、一致、可记录、可审计的弹性过程

####### 增加自信度、节省时间、提高人员效率

####### 支持更大的灵活性且有利于风险测评

###### keypoint

####### 不要指定更多流程和任务清单

####### 要确保分配足够的时间将这些手工清单转换成计算机可执行的脚本

####### 环境的特定文化和理念会影响工具的功效，那个基础设施自动化工具最适用，取决于特定的需要

##### 系统供应

###### 选择采用云基础设施，利用按需计算，只够买真正需要的基础设施，并根据需要进行扩容或减容。避免了公司自己规划、购买和供应数据中心的硬件，通常具有更高的成本有效性

###### ？系统供应是对基础设施自动化的扩展，使得公司可以根据依赖系统集群来定义他们的基础设施，而不是单个节点

###### 人们可以指定希望如何供应一组服务器，这只需要指定一次，以后需要时可以任意多次地自动按照这个规范来供应

##### 测试和构建自动化

###### 前言

####### 在最早的计算机和编译器时代，程序往往包含在一个源文件中，很少涉及多个源文件

####### 程序规模和复杂性增加-->开发人员开始把程序分解到多个源文件中（某些编程语言的用户还可以使用一些标准代码库）--> 复杂性增加

####### 太多不同的源文件需要一起正确地编译才能得到最终的程序可执行文件 --> 自动化构建过程变得很有必要

###### 自动化构建

####### 指定如何构建软件：需要完成哪些步骤，以及这些步骤的顺序如何

####### 指定需要哪些依赖文件

####### 构建工具

######## 按应用范围分类

######### 尤其适用于特定语言：Apache的Maven和Ant —— Java

######### 应用范围更广泛的：Hudson、Jenkins

######## 通常分类

######### 按需自动化（On-demand automation）

########## 由用户运行，通常根据用户的决定在命令行上运行。

########## 例如：开发人员能在本地开发阶段手动地运行一个Make脚本，确保在正式迁入版本控制之前能够顺利在本地构建这个软件

######### 调度自动化（Scheduled automation）

########## 会根据一个预定义的计划（调度）运行构建过程

########## 例如：每晚构建，通常是没有人在工作的时候，软件构建时不会发生新的变更（团队分布全球化的情况可能不同）

######### 触发自动化（Triggered automation）

########## 在指定事件发生时运行构建过程

########## 例如：每次代码迁入一个提交时运行一个新构建

###### 测试、监控和诊断的定义，By Yvonne Lam On Sysadvent 2014

####### 前言

######## 测试（test）、监控（monitor）和诊断（diagnostics）这几个词通常会混在一起，在团队内部和团队之间带来很多混乱

######## 为了更好地一起工作，团队需要建立一个共同的术语表来传达信息 --> 能够鼓励共享知识、而不会限制任任何团队成员，也不要求所有人都了解每一个细节

####### 一个团队在建立关于测试、监控和诊断的共同上下文时，应当问这样一组问题

######## 它要在哪里运行

######## 它要在什么时候运行

######## 它多长时间运行一次

######## 谁会使用这个结果

######## 使用结果的人如何处理这个结果

####### 简单描述

######## 测试（Tests）针对非生产系统运行，以考察系统或软件的准备情况，通常在发生某个变更时运行

######## 监控（Monitors）会按计划针对试生产和生产系统运行，通常会频繁运行，或者由事件触发

######## 诊断（Diagnostics）指的则是在某个事件发生时，根据需要针对生产系统运行的操作

####### keypoints

######## 要想最有效地跟踪不同系统的表现，测试、监控和诊断三者都是需要的

######## 明确不同团体或个人的职责领域稍有不同，有助于建立共同的认识和职责

####### 测试相关术语

######## 冒烟测试（Smoke testing）

######### 冒烟测试最早源自于硬件测试，用来确定对一个设备加电是否会导致它开始冒烟，如果冒烟就说明存在严重问题

######### 在软件中，冒烟测试是一个非常基本的快速测试，用来确定输出是否可行和合理

######## 回归测试（Regression testing）

######### 回归测试验证对软件的修改不会引入新的bug或故障

######## 可用性测试（Usability testing）

######### 可用性测试需要针对用户测试一个产品，通过结合具体用户的测试来评测其功能是否满足预期要求

######## A／B测试（A/B testing）

######### A／B测试是一种试验方法，采用这种方法时，会对一个Web页面或应用的两个不同版本进行比较，确定哪一个表现更好

######## 蓝绿部署（Blue-green deployment）

######### 蓝绿部署是一个发布过程，这里会维护两个相同的生产环境

######### 可以认为其中一个环境是当前运行应用的环境，提供所有业务流。测试新版本的最后阶段在第二个环境中完成。测试通过时，业务流将路由到第二个环境。

######### 这种部署过程可以降低风险，如果新版本出现某种问题，可以立即回滚到前一个生产环境

######## 金丝雀过程（Canary process）

######### 过去，挖煤工人用金丝雀作为早期警报系统来检测有毒气体。当金丝雀开始表现出中毒中症状时，挖煤工人就能知道煤矿的状态并不安全

######### 在软件中，金丝雀过程是指在一个小的生产系统子集上运行新代码，查看这个新代码相对于源代码的性能如何

#### 监控

##### 前言

###### 监控是一个涉及面很大的主题，包括很多方面，最常见的两个方面就是事件和分析

###### 信息收集方法包括指标和日志

####### 系统级指标：服务器是否打开、使用了多少内存和CPU、每个磁盘容量的使用情况等

####### 应用指标：一个Web服务器处理多少个用户请求、队列系统中有多少项在排队等待、加载一个给定的Web页面需要多长时间、特定的数据库查询运行时长

###### 软件越来越复杂、团队协作越来越多 --> 监控是产健康的一个核心体现

##### 指标：一组定性和定量的度量结果

###### 多复杂的软件，都可对几乎任意一部分收集和储存数据

###### 不同的团队在工作中可以跟踪和使用不同的指标

###### 工具：StatsD和Graphite是跟踪、存储和查看指标的一个很常用的强大组合

###### 指标分类项目：Jason Dixon维护的，定义系统和应用指标集、要按协议、服务和应用分组（Monitorama监控大会）。 --> 建立或扩展指标集合时可进行参考

##### 日志：基于操作系统或软件消息来生成、过滤、记录和分析系统中出现的事件

###### 跟踪一个问题来源时，工程师首先要做的事情之一就是检查日志，查看是否有相关的错误消息

###### 日志往往是一个宝藏，其中包含大量有用的信息

###### 现代环境中，可能有数十个应用运行在数百或数千个服务器上，日志数据量非常庞大，不再是搜索一个日志文件那么简单

####### 开发应用时需要做很多工作来处理日志的存储和搜索 --> 日志记录的解决方案非常复杂，价值也绝不应被低估

##### 警报

###### 前言

####### 监控和警报从性能方面来看很重要

####### 从预防的角度而言警报非常重要，它可以帮助找出潜在的问题，而不是等这些潜在问题最后发展成为客户面对的实际问题时再去考虑补救

###### 分析警报时需要考虑的因素

####### 影响（Impact）

####### 紧急性（Urgency）

####### 相关方（Interested party）

######## 客户、负责做出响应的人、负责处理问题的人（更有意义）

####### 资源（Resources）

######## 响应一个给定的事件或警报，需要哪些资源？它们的可用性如何？是否有足够的人力来确保可以响应多个事件？是否只有一个人待命？

####### 成本（Cost）

######## 监控服务和解决方案的成本

######## 历史监控或警报数据存储空间的成本

######## 响应事件付出的成本

######## 服务不可用而产生的成本

###### Finally，警报的目标——通过监控收集的数据创建事件的过程，让人们直接注意到需要人为干预某个问题

##### 事件

###### 前言：事件管理是监控的一部分，系统和服务会受到事件的影响，事件管理就是要处理关于这些影响的现有的知识

###### 可以通过监控和警报系统自动化响应一个给定的事件，但要确保故障条件已经明确定义，充分了解事件处理过程，提供必要的安全防护，避免因自动化带来更多问题

###### 建议监控警报的趋势，包括是否对每一个事件采取某个动作，总体来讲多少个警报可以采取动作以及有多个个警报在休息时间生成等

###### 需要尽可能避免误报（false positive）和漏报（false negative），二者需要权衡；也要警惕疲劳或对警报不敏感 --> 真正的问题响应慢，造成怠倦

###### keypoint

####### 人类的重要性：环境、系统或软件变化，解决问题的老办法可能会失效，人类可以很快改变，并处理好问题（持续的改变是警报和时间管理的一个重要部分）

#### 生态系统的演进&小结

##### 规律，简化和消除可能导致人类犯错的重复性任务 —— 从服务器安装自动化到基础设施配置和自动化看的趋势

##### 关键技术：容器、持续交付、持续部署。。。

##### 强调devops工具，能够提升但不能替代环境中的人文方面。工具使用的难易程度，会影响文化中特定方面的接受度和扩散

##### keypoint

###### devops文化是团队、组织和行业间的一种协作，开发解决方案时，需要考虑他们对团队和组织的影响

###### devops工具强调“我们”而不是“我”，需要寻找适合更多人的解决方案

###### 选择的工具是团队共同语言的一种允许团队和组织建立相互理解来完成工作，做出选择时要注意——所影响的团队成本和和同理心

### 041 工具：文化加速器

#### 前言

##### 工具是加速器，可以根据一个组织当前的文化和方向推动个改变来加速

##### 如果不了解我们当前的位置或方向，应用加速器会产生意外的结果，很可能有负面影响

##### 世界变化很快，一种直接的反应就是追随别人，希望复制他们的成功

###### 我们需要花些时间来了解自己当前的位置，明确我们与其他团队、组织、竞争者和整个世界的关系

###### 确定当前应当做什么，哪些要延后，另外哪些要从我们的环境中清除

##### Question

###### 工具和文化如何相互影响和作用？

###### 在不同组织的环境中如何采用不同的方式评价、选择和利用工具？

##### Not：不推荐特定的工具作为devops需要的完美解决方案

#### 工具对人的意义

##### 工具创造举例

###### 打字机到字处理器，降低修改和纠正错误的成本

###### 打孔卡到汇编语言再到高级程序语言

##### 选择工具时需要记住

###### 发明工具的意义不在于工具本身，创建这些工具是为了让使用工具的人更容易地完成特定的工作

###### 利用工具可以更多地协作，因为软件不再只是由单个人编写和支持，现在往往要由多个人和多个团队来编写、理解和维护

#### 工具是什么

##### 讨论工具时的焦点：通常是软件，如变成语言、IDE、文本编辑器、shell、配置管理解决方案或者聊天程序

##### 工具不只是软件，工具是帮助我们实现某个目标的帮手，而且在这个过程中不会被耗费掉，例如：

###### 在数据中心中，使用服务器升降车减少破坏，加速装架过程

###### 外出参加会议，使用更小更轻的笔记本电脑可以少费一些体力

###### 选择一个硬件RAID解决方案而不是软件RAID解决方案，尽管花更多的钱，但能够提供一些很好的特性，如电池备份和维护更容易

##### 最好的工具？

###### 工具的价值和成本是不一样的，选择满足需求的工具即可，即使是所有人都认为很重要的工具也有不同，也有可能对某个特定的环境更为适用

###### 根据经验，知识和流程的不同，工具会有变化。团队可以使用相同的工具，而得到的结果可能大不相同。

###### 工具必须适应环境的上下文，如果没有上下文，最好的工具就无从谈起，而上下文是不断改变的

#### 解决实际问题的适当工具

##### 如何让一个工具得到广泛的采用并实现成功的改变？

###### 能够解决实际问题

###### 使用工具的人参与有关一个给定工具的整个决策过程，从而能了解和解决他们的问题、困扰和担心

##### 选择、使用工具前

###### 理解工具帮助解决的实际底层问题，帮助我们选择适当的解决方案，并充分了解工作的复杂性

###### 了解复杂性，可以努力将复杂性和相关的风险降至最小，相应地这会帮助减少开销，并确保人们专注于正确的领域

##### 提示

###### 在一些组织中，使用工具的人不参与采购过程，这可能会让一个流程或文化问题看起来像是一个工具或技术问题

###### 要让一个新产品或组织成长壮大，与维护一个现有的产品相比，需要考虑不同的问题。不能只由一个人根据他认为有意思和感兴趣的东西单方面地做出决策，这不是一个充分的理由

###### 尽管使用工具可能很有趣，而且适当的自动化可以把人们解放出来，使他们有更多的时间和精力处理更复杂的问题

###### 要让工具真正有效地发挥作用，需要基于更充分的理由选择工具，而不只是因为它们很有趣或者它们是新工具

#### 采用开源

##### 前言

###### 开源社区为个人提供了一种与其他人协作的途径

###### 员工要了解管理其他人贡献的意义，还要了解如何提供对其他人有用的贡献，例如：

####### 一次提交只关注某一个更改 --> 更容易管理，更容易被接受

##### 将工具开源是否会削弱公司的竞争优势？

###### 如果公司的成功依赖于工具，采用开源应当是商业模式的一部分，是通过对软件的支持或服务来挣钱

###### 在公司内将软件开源可以鼓励团队相互之间为对方的项目做贡献，而不是一切都从头做起

###### 习惯于开源社区的团队更有可能寻求已有的开源解决方案，而不是从头编写自己的解决方案

##### 开源有度，避免陷入“非我所创”综合症——描述公司（原则上）拒绝使用第三方工具，因为这些工具来自公司之外，而非公司所创

###### “非我所创”综合症的原因

####### 因为竞争。公司不希望承认、使用竞争者创建的解决方案

####### 对外部或未知的软件心存畏惧

####### 不相信别人写的代码能比得上他们自己写的代码，或者和阅读、使用其他人的代码相比，更愿意写代码

##### 使用第三方解决方案，有道理的担心

###### 将第三方解决方案集成到一个现有的软件项目，可能必须更新或改变这个项目的许可

###### 第三放开源解决方案的维护者将来有可能废弃这个软件，不再提供bug修复、安全更新或支持

###### 第三方开源解决方案将来的开发者可能引入一些重大变更

###### 出于很多方面的原因，公司可能也不希望绑定到某个特定的开发商

##### keypoints

###### 工具能够而且会强化行为，这会影响文化

###### 检查行为和文化时还应当检查工具，这一点至关重要，体现了选择工具真正的重要性

###### 采用开源不仅可以利用已有的工具和技术来提供新的解决方案，而且对协作、分享和开放的文化也有突出的影响

#### 工具的标准化

##### 有效地工作最终可以归结为培养相互的理解，并妥善地协商，以克服团队力图同时达成多个目标时出现的不可避免的沟通问题

##### 工具可以用来

###### 改善沟通

###### 设置边界

###### 在devops组合范围内修复理解

##### 组织需要对工具进行标准化，好处

###### 对于完成相同功能的工具，标准化可以平衡支持这些工具的难度和成本

###### 增强组织、支持团队层次上的灵活性

###### 允许个人选择自己的工具以保证敏捷和响应性

#### 工具分析的一致流程

##### 在公司使用的技术发生改变时，工具的标准化可以在老工具和新工具之间搭建桥梁

##### 通过对工具的评价、选择和退役采用一致的流程，组织可以做到

###### 确定一个满足大多数人需要的工具

###### 确保新工具中包含老工具中的必要特性

###### 确保员工得到适当的培训，能够有效地使用一个新硬件或软件

##### 缺少一致的工具分析流程的影响

###### 员工会对新工具或技术（环境中的改变）产生抗拒

###### 没有通过分析、选择过程将风险最小化，无法确保当前需求和新的需求都得到满足

##### 使用一致性的工具、通过适当的流程和标准化，能够

###### 帮助成员增强对整个公司的整体认识

###### 减少重复劳动

###### 减少让不同系统互通的操作所需要花费的时间

#### 标准化的例外情况

##### 如果一个团队有一些单独或特有的需求，就没有理由要求他们使用其他所有人所用的工具。例如：PCI合规性

##### 预告

###### 尽管有很多的共同点，但每个团队和每个公司都会有一些特有的需求和经验

###### 后文中将分析两个公司，了解他们如何选择工具和做出实现决策

###### 虽然有一些惯例做法，但是根据环境中不同的技术堆栈，会有不同的工具选择

#### 工具不重要？

##### Question

###### 工具是否重要？如果工具会带来影响，那么它们会有多大的影响？

##### “工具不重要”有两层含义

###### 工具不是一个devops文化存在的充分条件

###### 工具不能修补被破坏的文化，工具只是展示和加强环境中的现有条件

##### keypoints

###### 如果一个“devops解决方案”只涉及工具，而不考虑组织中谁使用工具、如何使用以及为什么使用，那么这样的解决方案并没有真正掌握devops是什么以及devops为什么如此成功

###### 不要试图只用工具和技术来解决人文问题

#### 流程的失败，而非工具

##### 如果一个公司只是使用每一个都很独特的雪花服务器，而不知道如何实现和使用配置管理，那么这个公司很可能失败

##### 如果无法对环境问题快速做出响应，这会导致宕机以至于损失收入

##### 只要所选择的工具能够完成你要求的工作，具体选择使用Puppet，Chef，Ansible，Salt，CFEngine还是某个尚未完成的新CM系统并不重要

##### keypoints

###### 尽管工具之间存在技术差异，但最重要的是这些工具是否具有特定组织解决其问题所需的特性，同时有利于促进所期望的文化

#### 工具选择的康威定律

##### 定义：康威定律（Conway's law）名字来自计算机科学家和程序员Melvin Conway，其思想是软件的开发方式往往反映了开发该软件的团队的结构和组织

##### 康威定律想说明什么？

###### 要让两个软件组织协同工作，如果它们由不同的团队设计和实现，那么这两个团队也必须能够沟通

###### 如果团队不能很好地沟通，如在一个严重割据的环境中，往往会创建根本无法协作的产品

##### 康威定律的推论

###### 团队选择和使用工具的方式与团队本身的结构和沟通模式往往是一致的

###### 如果两个团队本身不能相互沟通，他们不可能因为公司开始使用Slack作为新的聊天程序就开始沟通

#### 工具对文化的影响

##### 前言

###### 由于工具会显著影响行为，在评估环境、评价文化和技术格局以及协同定义团队或组织的目标和愿景时，要仔细考虑不同工具鼓励或不鼓励哪些行为，这是一个持续的过程，需要不断重新评估

##### 工具影响沟通

###### 工具会塑造行为，所以如果有一些工具能减少与其他团队沟通中出现的摩擦，就更有可能进行沟通

###### 如果一个公司甚至没有任何聊天软件，或者使用的聊天软件存在一些技术性局限，不允许团队间交流，沟通就会困难得多

###### keypoint

####### 在谈到工具时，我们要强调沟通的重要性，因为沟通可以促成或破坏一个环境中的合作、协作和亲密性

####### 不论专门讨论为沟通设计的工具（如聊天解决方案），还是哪些工作流和使用中涉及的沟通工具，都是如此

####### 缺乏可见性是经常困扰孤岛组织的问题之一

######## 导致重复的工作

######## 不清楚所做工作的细节，或者不了解是否在开展工作

######## 不利于团队间信任

###### 由于工作社区建立在有效的沟通之上，一定要记住工具以什么方式增进或妨碍沟通

####### 为了能够协同工作，沟通是很重要的一部分

####### 公司使用什么工具和流程来实现人际沟通，会对文化产生显著的影响

####### 每个工具的用法都有隐含相应的沟通途径

###### 度量参与度

####### 随着公司的成长，要了解和度量公司更大范围内的参与度 --> 至关重要

####### 要在适当的时间找到适当的工具，这是一个迭代的过程

####### 要确保重要的谈话中能听到所有意见，这有助于建立一个更健康的公司

####### 不能认为沉默就表示大多数人都同意

####### 对一些优秀团队的研究表面，如果团队中每个人都能发出声音，这样的团队更高效也更有生产力

##### 工具影响更宽泛的行为

###### 这个原则不仅适用于ticket支持系统，还适用于基础设施自动化、聊天系统、部署工具以及组织中多个团队使用的任何工具

####### 尽管明确每个人的需要并尽可能多地满足这些需求很重要，但是不太可能做到100%的人对所有工具都100%满意，肯定要有取舍

####### 有时候，继续争论要使用哪个工具没有任何意义，可能最后还会导致敌对，因为这会浪费时间，而且争执还会继续

######## 好的做法：干脆选择一个工具，然后一致地使用这个工具

###### 警告⚠️

####### 如果有众多选择都能满足需求，具体使用哪一个特定的工具并不重要

####### 没有所谓“真正的devops工具”的概念

####### 最好的解决方案完全取决于要解决的特定问题

#### 工具的选择

##### 要选择一个新工具增加到已有的环境中，这可能是一个重大的决策，做出这个决定可能涉及很多人，他们往往都有自己的观点

###### 选择过程中要考虑的几个重要因素：产品开发、社区健康、内部定制；特性可用性、预算、与当前工具集或环境的互操作性等

##### 产品开发

###### 一个积极开发的产品

####### 更快地提供新特性

####### 支持更新的操作系统和平台版本

####### 及时处理安全漏洞

###### 使用一个未得到积极开发的工具

####### 意味着更多的时间花费在处理bug或等待新特性上

###### 另外要考虑的是与工具产品开发人员的联系，是否有直接的开发人员或支持联系人

##### 社区健康

###### 社区健康是对一个团体整体健康的度量。人们通过共同的规范、价值观和行为联系在一起，社区可能围绕着某个特定的工具，一组工具和实践或者某个角色发展起来

###### 社区健康信号

####### 对拉取请求的响应率

####### 解决问题的平均时间

####### 发布频率

####### 内容创建（博客帖子、文章、新闻）

####### 论坛交流率

###### 除了积极的社区活动，社区和相关活动还应当培养一种安全、尊重、协作和包容的环境。注意社区成员相互之间如何相处，考虑以下问题

####### 项目和社区活动有行为守则吗？

####### 问题和拉取请求的讨论如何结束？

###### 不健康社区的表现

####### 人身攻击随处可见

####### 容忍性别偏见等行为

##### 内部定制

###### 工具如果很容易定制，有助于提供一个健壮的解决方案

###### 有代码，可以自己阅读，并根据需要自行修改，不必提交一个支持ticket然后苦苦等待

###### 有些工具只是让人能接受，而有些工具工程师会发自内心地喜欢使用，这两者的区别就在于这一点

##### 示例：版本控制的比较

###### 版本控制系统会记录一组文件随时间的变更情况

###### Subversion

####### CollabNet在2000年创建的开源软件版本和修订控制系统

####### 这个系统设计为与广泛使用的Concurrent Version System（CVS）兼容

####### subversion 1.0 svn 于2004年2月发布，svn架构的核心是一个集中仓库的概念，这个集中仓库允许用户控制谁能提交变更

###### Git

####### 开源软件版本控制系统，关注点是非集中版本控制、速度、数据完整性以及对分布式非线性工作流的支持

####### 为每个开发人员提供了完全的本地控制

##### 示例：手动基础设施配置与自动化

###### 选择工具时，必须在内聚性与灵活性之间达到平衡

####### 如果使用了太多的沟通方法，人们就必须完成大量搜索来找到他们需要的信息

######## 信息在哪儿？email、cloud doc、wiki？

####### 组合重点在与有共同的理解

#### 审查你的工具生态系统

##### 添加新的工具到环境中时，除了进行慎重的选择之外，还必须检查这个生态系统的状态 --> 识别出哪些领域可以改进，为此可能需要额外的培训或替代工具

###### 第一项“石蕊试验”：检查这个功能在你的环境中是否已经存在

###### 谁能访问这个工具以及工具总体使用的有关信息

###### 同一类中多个工具或环境中重叠工具的有关信息

##### 流程要与个人使用特定工具的需求相一致，这对于有效的使用工具至关重要

###### 太多的流程会增加个人的成本，因为他们要维护这些流程错综复杂的上下文 --> 让人分心，不能专心完成具体的项目工作

###### 太少的流程可能会由于工具以及使用工具的方法太多，使得团队缺乏内聚力，对个人也会有影响 --> 需要花时间来修复理解，合并工作或者检查重复的工作

###### 要找出一个合理的基准，这是明确和选择工具的关键，在组织规模扩大和缩小时这一点更为重要

##### keypoint

###### 之所以使用工具，就是为了帮助创建适当的环境，使人们能专注于解决真正的问题 

###### 创建这种环境，是管理一个成功团队很重要的一部分

###### 要求不断的努力，这种审查不是只做一次然后就抛之脑后

###### 不论是个人贡献者还是管理者，都应当采用一种主动的方法确保构建和保持一个高效的环境

#### 工具消除

##### 要定期审查当前流程和工具，确保它们仍然有效

##### 手段 —— 自动化和技术负债跟踪

###### 避免使用工具的人要为此做额外的工作

###### 找出和消除有相同作用的工具 --> 降低成本，减少混乱

##### 与员工定期会面，来发现对他们及其工作有影响的情况，可以询问以下问题

###### 哪些事情让你兴奋／受挫？

###### 哪些事情会补充／减少你的能量和动力？

###### 对于你当前所做的工作，你认为有什么价值？

###### 你认为你会带来什么影响？

###### 哪些工作应当停止？

###### 哪些工作应当开始？

##### keypoint

###### 要向平时大部分时间都在使用这些工具的人询问这些问题

###### 关于如何选择和消除工具，应当由底层做出决策

####### 作为利益相关人，具体使用工具的人会比不使用工具的人更有发言权

####### 这些决策不能由对工具没有任何亲身体验的人从上到下强制做出

##### 改进：规划和度量更改

###### 前言

####### 持续的改变需要一定的时间。不论对于软件还是人，这些都是很复杂的问题，没有渐变快速、十全十美的解决方案。

####### “SMART”目标的根本原则指出：目标应当是特定的、可度量的、可达到的、实际的且有时间限制的

####### SMART更改对于工作组织和文化同样很重要

###### 明确解决的特定问题

####### 在做出一个更改之前，考虑

######## 需要做什么

######## 谁对这个项目感兴趣

######## 谁有时间

######## 这个项目的总体价值

####### 要先了解不同的观点、明确可能的项目，确定项目的优先级，确保确实在解决正确的问题

###### 将特定的项目分解为可以完成和解决的小目标

####### 小目标更容易规划，相应地更容易考虑和确保他们是否可以达到，是否实际以及是否解决了正确的问题

####### 明确你在为谁解决问题？他们的需求和动机是什么？他们是否会经常使用这个解决方案？

####### 要描述解决方案：重点强调最终目标，与利益相关人讨论，确保他们采纳你的建议（通常需要花费很多时间和精力）

###### 了解了要解决的问题以及要为谁解决这个问题后，可以开始找出可能的工具

####### 调查提出的各种不同的解决方案的优缺点，让利益相关人参与进来

####### 可能还需要自行发明和开发工具，需要考虑到支持长期开发所需的时间和资源

###### keypoint

####### 流程需要不断迭代：度量更改产生的影响，确定解决方案是否可行 ／ 关键是没有度量，就无法判断更改的影响和有效性

#### 案例研究

##### 研究对象和方法

###### DramaFever

####### 流媒体视频平台，还运营着SundanceNow Doc Club纪录片网站和shudder恐怖片网站

####### 2009年成立，2015年年中完成次案例研究时有大约120个员工

####### 这个平台提供国际化内容，包括15个国家70个内容提供商提供的15000集电视剧，观看者达2000万

####### 研究目的：深入了解DramaFever如何评估和利用工具和技术

####### 访问对象：Tim Gross和Bridget Kromhout——DramaFever运维工程师

###### Etsy

####### Etsy由Rob Kalin、Jared Tarbell、Chris Maguire和Haim Schoppik在2005年创立

####### 是一个销售手工艺品和古董的全球在线集市

####### 2015年第二季度，Etsy有大约785位员工

####### 研究目的：了解Etsy如何评估和利用工具和技术

####### 访问对象

######## 本书的合作者之一Ryn Daniels分享了她在Etsy的个人经历

######## Etsy的运维工程师Jon Cowie

###### 研究方法

####### 通过已发表的博客文章、演示文稿和公司宣传材料收集信息

####### 通过例子展示这两家公司如何发现隐含价值、如何采用必要的实践方法，以及如何评估和选择工具来加入一个环境

###### ⚠️警示：不要满目地采用这些工具或技术，至少在没有深入地理解和考虑为什么使用以及护额使用的情况下不要盲目使用

##### 分析DramaFever

###### 技术堆栈

####### 2014年7月，DramaFever技术堆栈：完全在AWS中，有一个Django/Python Web应用，另外还有不断增加的Go微服务

####### 由Akamai提供内容交付和边缘缓存

####### 应用代码存在于无状态实例中，一周内会自动扩充10～20倍

####### 持久存储层由Elasticcache、RDS、DynamoDB和redShift提供

####### 日志会送入ELK并用collectD和StatsD写至Graphite

###### 现有技术的影响

####### 从2006年AWS上线开始，这个行业发生了巨大的变化

######## 公司不再需要聘用具备数据中心管理技能的人员

######## 需要具有管理共享工具服务方面的技能的人员

####### AWS比其他云服务商更昂贵，为什么不切换

######## 需要为部分服务之类的托管服务寻找替代服务，差不多会抵消掉转换可能带来的所有好处

####### 选择工具过程中，考虑现有技术时，要问问自己

######## 哪些特性是绝对要有的，哪些特性是可有可无的？

######## 现在有哪些可用的解决方案，还有哪些很快就会有？

######## 如何平衡需要的特性和可用解决方案的成本？

###### 新兴技术的持续影响

####### 前言

######## 随着技术的演进和生态系统中不断出现新的工具，要了解是否采用某个特定的工具可能很有难度

######## 对于一个小公司，由于有各种计划外的工作，技术债务不断增长，所以重要的是首先解决最有价值的项目

####### 2013年DramaFever的两人团队面对的问题

######## 主Django应用部署很慢，而且是非自动的，总有一些复杂的故障

######### 这个Django应用是一个关键的请求路径应用，有很高的可用性和延迟需求

######### 使用git clone会使部署减慢，有时还会在部署过程中失败

######## 部署复杂性不断增加。不能采用现有流程部署新的Go应用。二进制代码和解释源代码有不同的交付需求

######## QA测试和生产部署流程是分开的，没有审计功能

######## 不同的开发和持续集成环境

####### 团队希望能达到的目标

######## 从一个整体应用转为较小的微服务

######## 开发和QA环境中在相同的主机商隔离应用的不同版本

####### 遇到的问题

######## 引入新技术Docker带来的风险

######## 与磁盘相关的问题，需要改变所有的Docker存储驱动、Docker注册表的可扩展性问题

######## 由于开发团队总是忙于开发新特性的工作，无法投入时间来学习新技术——缺乏相应的培训，本地开发环境中运行docker

####### keypoint

######## 已有技术还是新技术，都需要一个仔细的选择和评估的过程，对于新技术，要问问自己

######### 新技术有哪些已知的风险

######### 新技术可能有哪些未知的风险

######### 你要解决哪些问题，而现有技术无法解决

###### 亲密性促进实践方法的采用

####### 通过知识分享在公司之间建立亲密性的一种发展趋势（DramaFever @ Etsy @ codeascraft）

####### 方法

######## 无问责事后分析

######## 鼓励通过代码审查组织学习

######## 提高透明度，支持只读的生产IAM访问 --> 使人们可以直接学习和观察复制了生产环境的开发环境

######## 方便远程工作的员工：大量使用AWS技术、采用商业视频会议系统（Chromeboxes）

####### keypoint

######## 注意组织和团队中工具和工作实践的相互关系

######### 你的团队或组织有怎样的价值观

######### 在实际中你的工具会帮助实现这些价值观还是会带来阻碍

######### 价值观和流程的沟通是否透明

##### 分析Etsy

###### Etsy的技术堆栈

####### 一个PHP应用和大量内部服务

####### 内部服务的相互依赖性和复杂性很高，不一定是当前越来越常见的更独立的微服务

####### 利用这些服务，可以处理购买、出售、搜索和罗列商品等操作，还可以处理订单的支付

####### 关于支付过程

######## 目前有很多知名的大型支付提供商，全世界很多公司都在使用这些提供商的产品

######## Etsy认为需要对这个过程有更多的控制 --> 提出了自己的内部支付处理 --> 随之而来的PCI合规性以及很多其他问题

####### 主要基础设施分散在位于不同地理位置的众多数据中心

###### 显性和隐性文化

####### 要在一个环境中建立所期望的特定文化，核心是明确地定义一组文化信念和价值观 --> （我所在公司的文化信念和价值观？）

####### Etsy从一开始就是一个基于社区的公司，清楚地指出了公司的价值观

######## 我们是一个贴心、透明和重视人文的企业

######## 我们会做长远的规划和构建

######## 我们重视所有产品的工艺性

######## 我们相信凡事都不能缺少趣味性

######## 我们会一如既往地保持真实

####### Etsy明确的价值观很好地鼓舞了员工，使他们紧密地联系在一起

######## 2013年Etsy发展报告中指出员工关联度为86%，价值一致性达到91% --> （如何计算员工关联度和价值一致性？）

####### keypoint

######## 尽管Etsy没有devops团队，没有devops经历，也没有devops工程师，但这些明确而清晰的价值观会在重要实践中体现，并指导devops社区的行为和贡献

######## Etsy的实践做法包括：同情心、试验和迭代以及鼓励学习型组织

###### 同情心文化

####### 要体现人文就要展示出同情心——努力让别人生活得更好（尽管这不会改善你自己的生活）

####### 努力营造一种无问责、适合远程工作的环境，在为员工创造人文工作环境方面做了很大投入

####### 鼓励一种“谢谢你”文化，会定期、公开地认可其他人的成就或贡献

####### IT部门的人文工作环境

######## 做得好时人们不会注意，而出现问题或故障时却会立即发现，这不是一个人文环境

######## 除了在出现问题时做到无问责，Etsy还积极鼓励在一切正常时说“谢谢你”

######### 🎬感谢的重要性

########## “谢谢你”或感激文化是建立和改善关系的一个重要部分。认识到其他人做出的贡献，这会帮助人们联结成为更大的团体而不只是作为个人

######### 研究表明的感谢的重要好处

########## 改善健康：更强的免疫系统，降低血压

########## 提高适应力：能够更好地应对逆境

########## 增加正面情绪：有更大的幸福感，愉悦感和满足感

########## 减少负面情绪：减少孤独感和隔离感

########## 增加协作和合作行为：更多包容和同情

####### keypoint

######## 工具和文化会在组织的整个生命周期中相互影响，注意这些交互可以帮助改善文化，还有助于更有效地使用工具

######## 需要考虑的问题

######### 你希望在员工中间鼓励什么行为？

######### 现有工具或工作流的使用情况如何，人们乐于使用还是不愿意使用？

######### 如何使用工具来鼓励特定的行为或价值观？

####### 不仅在工程组织中，整个公司都鼓励公共交流

######## 人们想要认可同事的某个工作时，会经常在整个团队范围内发送email或即时消息

######## 如果有人或团队修正了某些bug，增加了特性，对开源做出某些贡献，帮助别人摆脱困境，或者甚至更新了文档，都会受到感谢

######## 💡Good Idea，example

######### 员工目录里有一个按钮，如果认为某个人很好地展示了公司价值观的某个方面，堪称表率，就可以提名他获得“Etsy最有价值奖”

####### 这种文化（同情心文化、感谢文化）可以帮助培养同理心和亲密性 --> 人们能更高效地一起工作，减少相互之间的责备，为所有员工创造一个更和谐的人文环境

###### 无问责文化

####### 前言

######## 无问责文化定位为鼓励个人分享故事，并承担提高安全性的责任（第四章提到过）

######## John Allspaw，Etsy CTO，在2012年5月写了名为“无问责事后分析和一种公平文化”的文章，描述了如何转换为采用这种无问责方法处理错误

####### keypoint

######## 接受“失败肯定会发生”是企业中很正常的一部分，是平息情绪的第一步

######## 把失败归咎于个人的错误，然后辞退这个人作为纠正错误的手段，会制造更多障碍，使人们无法采取具体的行动，或者不能为这个人安排更多培训

######## 通过无问责事后分析鼓励大家分享自己的故事-->更系统的、更能够平衡安全和责任

####### 事后分析的模板，Etsy的Morgue工具创建的事后分析中，会鼓励人们提供以下内容

######## 动机和事件时间表

######## 观察到的结果

######## 期望

######## 假设

######## 后果和决定

###### 支持远程

####### Etsy的用户遍布世界各地，意味着应用需要全天候可用

####### 要为支持这个应用的人创建一个更好的人文环境，需要区分多个时区，使更多的人能够在当地的正常工作时间工作

######## 带来的额外好处：建立一个更大的未来员工库，可以聘用来自更多地区、时区的人

####### 方法：使用多种工具来支持这种文化——支持远程

######## 工具：IRC（即时消息或聊天）、email（较长的文本交流）及vidyo（视频会议和协作）

######## 实践“把沟通默认为是远程的”这种思想

######### 即使人们在同一个办公室里，也会尽可能使用这些工具，而不只是面对面交谈

####### 工具很好地集成到环境和工作流中

######## 使用这些支持远程的工具进行交流时，只有非常小的开销

######## 远程的员工也在“圈子”里，不仅了解公司做的决定，还能够参与所进行的各种会谈

####### 💡提示：除了支持远程工作，组织可以采用多种不同的方式使用工具来改善人们的生活和工作，但是要谨记

######## 工具是否会增加或降低员工的舒适度？

######## 工具的灵活性如何？可定制程度如何？

######## 工具如何影响人们的日常交流？

###### 工具加强实践

####### 工具在加强和支持Etsy的实践方面起到了举足轻重的作用

######## 多人一起工作时可能会产生一些误解，Etsy的支持远程文化则意味着建立devops组合和消除这些误解需要更明确的做法

######### 在沟通方面做额外的工作 --> 建立一个人文环境 --> 支持跨多个时区的全天候轮班待命

######### 采用一些战略过程来建立沟通 --> 建立学习型组织并且平等对待所有人

####### Tip 1：支持远程工作时，如果能把所有交流归档而且可以搜索，这会很有用

######## 支持远程工作的员工时，无法利用专门的编码研讨会和非正式的面对面交流来传递信息 --> 大量交流要以书面的格式完成

######## 在做出决定时、发生改变或出现问题时或者要分享创新时发送email，创建邮件过滤器，以此限制email的数量

####### Tip 2：Internet Relay Chat（IRC）对于Etsy着力建立的支持远程文化也非常重要

######## 聊天机器人会更新关于部署、警报和配置更改的信息，还能促进系统交互

######### 对于规划要完成的维护或代码审查可以将Nagios告警置为静音

######### 通过相互点赞和推荐，聊天机器人可以用来促进“谢谢你文化”

####### Tip 3：大多数讨论都在透明而开放的公共渠道进行

######## 这些渠道有些与工作相关，有些则与工作不相关，因为人们并不只是对工作感兴趣

######## 即时聊天有可能打断人们的工作，造成干扰，所以如果有人退出或关闭通知，以便能专心完成某个工作，这并没有问题

####### Tip 4：每个员工有一个Vidyo客户端，远程员工还有一个网络摄像头和耳麦

######## 能够在需要时随时呼叫接入，能够屏蔽忽略周围环境的噪声和先聊，可以帮助员工加入感兴趣的讨论 --> 更能感受到自己是团队和文化中的一员

####### Tip 5：在Etsy中，撰写文档被认为是一种工作，在实践中“尽力而为地更新wiki”很有帮助

######## 大多数情况下，使用Atlassian Confluence软件生成的wiki页面都是准确的和最新的，但是不能保证所有页面

######## Etsy大力鼓励保持文档更新，尤其是值班手册之类的文档

###### 购买还是构建

####### 前言

######## 有一种实践做法是总是采用最新最耀眼的新技术，只是因为它们很新而且有意思，但Etsy没有采用这种做法。他们使用的大多数工具都是他们已有的实用工具

######## 一个基本思想：如果过于关注实现未经证实的新技术，这会耗费时间和精力，而无法全神贯注地对具体的产品特性进行创新，而这才是公司最终的关注点

######### By Etsy工程师Dan McKinley，“Choose Boring Technology”

####### Etsy非常强调他们所称的“慷慨精神”

######## 尽可能回馈社区、可能采用博客文章，大会发言、指导其他员工或者对开源项目做出贡献

######## 有一种“将作为内部解决方案开发的大多数工具开源”的趋势

####### keypoint

######## 选择工具时一般要回答的问题

######### 可以使用我们已经了解而且有经验的某个工具来完成这个工作吗？如果不能，有没有充分的理由？

######### 有没有一个现有的工具能够满足我们的需要？如果有，就使用那个工具。

######### 有没有一个工具能够满足我们的大部分需要，而且可以扩展或定制？这个工具开源吗？

######### 是否需要或者是否有能力、时间和需求来自行编写工具？

######### 研究这个问题领域是否必要，是否采用外部工具？

####### Etsy使用并为社区回馈了大量工具

######## 工具列表：Nagios，Chef，Elasticsearch和Kibana，Cacti、FITB

######## 如果某些工具不能满足需要，就会被替换

######### 例如：在最短的时间内启用对一个新的网络设备的监控，复杂的、需要手动配置的Cacti无法满足需要 --> 开发并发布了FITB

###### 考虑自动化

####### 前言：在有些领域中，手动流程会带来很多问题，Etsy做了大量工作来实现这些领域中工作流和流程的自动化

####### 例1⃣️、使用更优化的自动化部署工具“Deployinator”替代容易出错，可能需要花费好几个小时，而且非常难回滚的手动部署过程

####### 例2⃣️、构建新服务器的过程

######## 前提：Etsy在自己的数据中心运行，而不是在云中

######## before：服务器构建是一个手动的过程，从服务器装架到准备进入生产环境需要数小时甚至几天的时间

######## After：使用自动化脚本处理痛点问题，逐渐演变到有web界面的基础设施自动化工具，团队成员（不只是运维工程师）可以在几分钟内将一个新服务器投入生产环境

######## But：Etsy没有打算只是为了自动化而盲目地将所有一切都自动化

######### 知道剩余原则，定义：只有非自动化任务留给人类操作人员完成

########## 剩余任务的特点

########### 太过复杂，无法自动化

########### 太少见，过于简单或不经济

######### 避免过度自动化导致所谓的“去技术化”

########## 去技术化定义：即太多任务都自动化实现，以至于人们会忘记如何完成这些任务，一段时间后他们在这些领域的技术就会丧失

####### keypoint

######## 在很多情况下自动化很有好处，对于原本手动完成的重复性任务，通过自动化可以少花时间，并减少错误

######## 考虑自动化时，要问的问题

######### 你最大的痛点是什么？

######### 什么可以自动化，什么不能自动化？

######### 工作流的某些方面是否应该自动化？

######### 如果你创建的自动化出了问题，要如何处理？

###### 度量成功

####### Etsy非常强调透明度和监控 --> 为了有意识地尝试和鼓励学习

####### 度量工具：Nagios、Cacti、Ganglia、StatsD

####### 实践做法：度量一切。提前规划好想要度量什么，在事后绘制一个监测图。开发StatsD（一个网络守护程序）

####### 监控来源：不同的团队根据自己的需要建立监控，没有专门的人负责监控，而是鼓励每个人按其所需或尽其所能做出贡献

######## Etsy关于监控疑问的明确认识

######### 如果你有问题，就去问别人

######### 如果导致生产问题，运维团队会讨论你需要什么，从而解决这些问题

####### keypoint

######## 监控和警报在每个软件环境中都是很重要的部分，在这些领域中，使用有效的工具可以带来巨大的好处。需要考虑的问题

######### 你的工具如何区分监控和警报？

######### 你的工具和流程如何处理不同团队的不同监控需求？

######### 你的监控和警报方案的灵活性和可定制性如何？

##### 动因和决策挑战

###### 前言

####### 从Etsy和DramaFever这两个案例的研究中可以清楚地看出：关于人们日常使用的工具，并不能一夜之间就做出决策

####### 公司时讯、主流媒体和会议室都会展示构成devops工具链的“最佳”工具列表和文章

####### Question：有些公司推销的解决方案在你的环境中可能很有效，在有些公司环境中则有可能阻碍devops的发展，如何区分这二者的区别？

###### ⚠️警示：工具对于如何完成工作很重要，但是这绝对不是唯一要考虑的问题

####### 没有“devops即服务”的概念，你无法购买一个能解决所有相关问题的包罗万象的解决方案

####### 工具会影响文化，但是并不能取代文化 --> “定制devops解决方案”，听起来很美好，但并不是真实的

###### 提示：了解环境中决策的背后动因，会帮助我们明确如何改进这些过程

####### 动因举例

######## 我们自己的目标和勃勃野心

######## 决策人和工具相关人的人际关系

######## 工具本身在某个方面具有很好的声誉

##### Sparkle公司有效地使用工具

###### George的有意思、有意义的演示

####### 在笔记本电脑上使用了一个虚拟机，与代码单独管理

####### 使用Test Kitchen创建一个项目来管理虚拟机

######## 好处？—— 运维团队在测试服务的新实现时使用了Test Kitchen --> 任何人做的任何工作都能够被复制

######## 一个人创建预建的模板，保存大家为安装MongoDB完成的定制工作，将代码提交到git上，这样其他人可以通过这个项目来快速建立测试环境

####### 效果：通过这种协作方法，团队在一周内就为这个评论应用建立了一个初始的演示版 --> 开发团队有更多的时间与安全团队一起规划新的算法

######## 整个过程一直在进行着开放的沟通 --> 所有人感觉别人听到并考虑了他们的意见 --> 这是一个协作得出的决定

##### 小结

###### 一定要明确组织的价值观，价值观会指导他们决定使用哪些工具和技术，还会指导人们在日常工作中如何使用这些工具和技术

###### 根据在团队中观察到的当前活动总结实践

####### 在Etsy和DramaFever中可以观察到以下实践

######## 无问责环境

######## 试验和迭代

######## 增量改善

######## 学习型组织

###### 衡量一下理论价值观和实践价值观是否一致

####### 一旦明确当前活动和实践，就能确定实践与价值观是否一致

######## 例子：重视开源吗？

######### 理论价值观：很重视开源

######### 实践价值观：更经常选择非开源的开发商解决方案，或者没有给人们留出时间让他们为开源做贡献 --> 并不一致

###### 根据文化、技术水平和需要来选择工具

###### 要理解文化和工具有效性的改变不会一蹴而就

####### Etsy从2008年就一致在完成他们的监控项目，而且随着继续迭代还在继续修改代码

####### Etsy为社区贡献了丰富的工具，但是有些项目并不是拿来就能解决特定的问题的

######## 工具可能很有帮助，但是要真正做出改变，需要一定的时间和不断的实践

###### 要知道，度量进度对于获得成功至关重要

####### 如果还处于零监控状态，就需要在这个领域多花些时间时间

####### 推荐阅读《Monitoring with Graphite》 by Jason Dixon —— 深入地介绍了监控，可以帮助我们更充分地利用监控提供的好处

###### keypoint

####### 工具不能与有效实现devops的另外三大支柱完全分离

######## 最终工具还是要由人来使用，帮助他们与其他人一同工作，并为人们创建解决方案，所以选择工具时不能不考虑人的方面

######## 工具不仅会影响我们如何工作和交互，也会受其影响，要实现持续的重大改变，就必须考虑到所有这些因素和交互

### 042 工具：误区和问题排查

#### 前言

##### 与选择和使用工具的不同情况下会出现一些问题，从更一般的角度介绍这些误区和问题排查

##### 只考虑决策过程和不同工具工作流的相关问题排查，特定工具或技术的问题排查不在考虑范畴内

#### 工具误区

##### 对于devops相关工具的选择，很多误区与特定工具对devops解决方案的重要性有关

##### 误区一、我们使用技术X，但其他所有人都使用技术Y。我们必须尽快改成技术Y

###### devops是一个文化运动，文化运动包括技术堆栈，而技术的全盘改变（尤其是从管理层强制推行时）会带来成本，使组织整体发展速度减慢。

###### 在一个特定的技术退役之前需要做的事

####### 找出当前环境中已经成为现有文化一部分的工具

####### 了解人们使用这些工具的体验，并观察与其他人的体验有什么相似和不同指出

####### 这些检查和评价有助于明确需要做哪些改变，以及是否需要立即做出改变

###### 例外的情况？：升级

####### 技术的升级是必要的，升级拖延得越久，就会带来更多基于可靠性的技术负债，而且需要对兼容的升级路径做更多测试

###### keypoint

####### 简单地复制在成功组织中看到的工具，在自己的组织中不一定能够得到同样的结果

####### 要强调过程，而不是强调结果

####### 如果技术X在自己的环境中是适用的，那就使用这个技术

####### 缺少某个特定的工具或技术并不意味着你就不能完成一个成功的devops项目

######## 完全可以使用IRC而不是Slack或Hipchat

######## 可以在裸机上运行服务器而不用在某个云上运行

######## 可以有一个整体的PHP应用而不是Go微服务

####### devops运动主要关于文化以及人们如何一起工作，如果利用一个20年历史的老聊天程序能够让人们很好地协作，也无不可

##### 误区二、使用了技术X就意味着我们在实现devops

###### 一个事实：如果有某些类型的工具和技术，对完成devops项目会有很大帮助

####### 例如：使用版本控制系统和基础设施自动化

####### 核心：理解为什么这些工具有价值，这些价值与完成软件开发工作的人有什么关系？

###### 技术X = 基础设施自动化

####### 价值：允许员工采用一种更优化、更可靠的方式做出变更，可以减少与变更有关的风险和摩擦

####### 与人的关系：

######## 如果没有影响到人，技术的影响会大大减弱

######### 例如：开始使用基础设施自动化，但是还维持原来遗留的变更控制过程

######## 为了有效地使用工具，需要怎么做？

######### 查看人们如何使用工具

######### 人们为什么使用这些工具

######### 人们打算使用这些工具完成什么任务

######### 这些工具对人们的工作有什么帮助或阻碍

######## ⚠️提示

######### 使用了Chef、Docker、Slack或者讨论devops时常常提到的任何其他工具，并不表示你在实现“devops”

######### 对于团队成员如何一起工作，工具只是其中的一部分

######### 不能说一个工具的存在或不存在会促成或破坏一个devops项目，只能说这些工具对组织的文化会有什么帮助或阻碍

##### 误区三、我们绝对不要选择错误的工具

###### 现象：担心选择“错误的”工具会带来可怕的后果，导致项目或者甚至组织陷入失败。决策者希望确保决策不会产生严重的负面影响，这是很自然的

###### 分析

####### 对特定工具的过度强调是有误导性的

####### 不会因为选择了错误的工具而失败，错误地考虑所选择的工具，才会导致失败

####### 应当更多地关注如何在整个组织中使用工具，以及在使用中可以从正面和负面学到什么经验教训

###### 以基础设施自动化为例

####### 选择Chef或是Puppet，不会对基础设施自动化项目的整体成功或失败产生重大影响

####### 会有一些小的实现细节或者特定的用例比较适合某个工具，从中受益更多

####### 从大局来讲，与使用哪一个工具相比，如何使用基础设施自动化工具的影响更大

###### keypoint

####### 了解有关原则，从而做适当的决策，尽可能选择合适的工具

######## 如何适当地使用工具

######## 什么时候自动化是有益的而什么时候没有好处

######## 如何选择新工具，并在组织中具体使用

####### 从经历中学习经验教训

####### 新工具和技术在不断涌现，掌握上述原则可以确保在不断变化的大环境下适当调整

######## 即使确实选择了一个最后看起来不算好的工具，也不会浪费太多资源或者一直固守着这个工具

######## 与试图直接选择“最好的”工具相比，能够研究、学习和调整如何使用工具更为重要

##### 误区四、可以购买devops成品或devops即服务

###### 现象

####### devops的影响越来越大，也越来越普及

####### 很多开发商开始在市场营销中增加与devops相关的术语，希望以此赶上这一潮流

####### 有时可能很难区分营销宣传和现实

####### 如果对devops相关的术语、想法完全陌生，被众多以devops为卖点的产品包围时，可能会没有头绪

###### 分析

####### 应当保持一种均衡的观点——要考虑四大支柱

######## 协作

######## 亲密性

######## 工具

######## 规模化

####### 工具可以是“成品”或者“作为服务”，但是只有最新、最酷的工具还不够，必须有效地使用这些工具才能成功

####### devops不只是关于工具，并不只是一个帮助解决特定协作或沟通问题的工具，而是人们一起工作的这种具体行为

######## 没有办法推销“协作即服务”

######## 让不同团队坐下来，讨论不同的目标、优先级和痛点问题，没有办法当成一个产品销售

###### 结论

####### 需要在组织内部做大量改变，使组织中的人们达成一致，并建立和维护共同的理解（即devops组合）

###### keypoint

####### 有很多非常好的工具和服务，很多公司提供了能解决实际问题的解决方案，在做出评价时，要谨记四大支柱以及它们之间的交互和交集

####### 审视提供商是否做出了某种承诺而没有能力交付（可以将营销手册中的“devops”替换成“人们很好地合作”）

####### 必须自己完成艰巨的工作，用自己的人和团队找出哪些工具适用，哪些对自己的组织不适用

####### 要让整个文化持久地改变，这是买不来的，必须在内部创建

#### 工具问题排查

##### 前言

###### 排查使用技术时出现的问题时，要记住这些时工具，而不是玩具

###### 应当努力选择帮助解决问题的工具，而不能只是因为想尝试或者因为所有其他人都在使用就选择这些工具

##### 问题一、我们想找出技术X的最佳实践

###### 分析：找出一组特定问题的最佳实践看起来很美好，但是这种心态会带来问题

####### 选择“最佳”解决方案时，倘若它没有达到我们的额期望，我们就会想办法处理这种认知的不一致，而这往往会变成责备

###### 解决方案

####### 具体解决一个问题之前，可以采用几个关键的策略

######## 明确现在问题的状态

######## 明确哪些必须有，哪些可有可无

######## 找出拥有重要信息的个人和团队，与他们一起进一步限定问题

######### 目标不是找出所有可能性，而是要明确哪些部分需要有弹性，哪些部分是所做工作的重要基础

######### 一个多样化的团队，其中包括分析型、横向型和批评型思维的人，有助于在发现潜在问题的过程充分考虑各种可能性，而不会停滞不前

####### 在识别（上述解决问题之前采用的策略）过程中，发现问题的特定模式

######## 对可用的选择应用得出的模式，得出结果，进行比较

######### 这些选择可行吗？

######### 选择其中一个方案会有什么结果？

######### 如果创建一个全新的方案又会有什么结果？

####### keypoint

######## 做出决策，为决策过程建立文档，从而说明这是一个理智的决定。内容？

######### 哪些弹性因素将来可以改进？

######### 哪些基本问题可以支持这些决定？

######## 记住计划是所有工具或技术不可缺少的一部分，尤其是这种技术涉及自动化时

######### 如果没有适当的计划，最后可能会对一个有问题的过程完成自动化，使情况变得比之前更糟糕

######## 完成决策和相应工作的同时，要确保人们花足够多的时间充分考虑和描述“what if？”条件

######### 在发现一个现在能够正常工作的解决方案，得到认可，准备好随着技术的演进和发展而改变，同时为发生不可预见问题时系统出现故障做好准备

##### 问题二、我们无法让人们对一个特定的工具达成一致

###### 现象

####### 在小的组织里，可能希望让每一个人对于使用哪些工具以及去除哪些工具达成一致，而且在足够小的创业公司里，这是有可能的

####### 团队组织规模和复杂性达到一定程度时，及时从使用特定工具的每个人那里得到反馈甚至都不可能，更不用说让所有人都达成一致

###### 解决方案

####### 接受这一点——根本不可能达到全体一致 --> 转而寻找适合大多数用例的解决方案

####### 确定哪些人每天都会使用工具，并针对他们的需要和用例进行优化，而不是关注那些只是偶尔使用工具的人

####### 召集成立一个beta测试小组，由代表这个工具大多数常见用例的人组成，帮助评价解决方案

####### 建立结构化的方式获取人们对所用工具的反馈，明确他们是否频繁遇到问题，以及这些特定的问题是什么

###### ⚠️提示

####### 抱怨声音最大的人不一定代表大多数人的意见

####### 灵活性固然重要，但在某些领域，团队或组织中可能要有一些强制性的工具而没有商量的余地

######## 例如：使用某些可以维持SOX、PCI或另外某种合规性的工具

##### 问题三、我们决定采用（或取消）某技术，但是人们拒绝使用（或放弃）

###### 分析

####### 人们在工作中是否愿意使用一个新工具，这很大程度上可能取决于选择这个特定工具的过程

####### 如果在组织中这是一个自上而下的决定，就完全可以理解为什么人们不想使用这个新工具

######## 可能是一个对给定工具或工作流没有太多经验的经理做出的，它对这些工具或工作流的经验远没有他的下属多

###### 解决方案

####### 要研究打算解决什么问题，与频繁使用这个工具的人一起工作非常有助于避免这种情况

####### 注意如何描述变更以及如何实现

######## 如果没有任何解释来说明发生的变化是什么，为什么要做这个变更，他们很可能会拒绝这个改变（即使对相关人而言这个工具最后看来确实是一个很好的解决方案）

####### 要让人们提前指导什么时候会做出可能对他们有影响的工具变更，尽量让他们有机会参与这个过程

###### keypoint

####### 不论是增加新工具还是将现有工具退役，沟通和同理心非常有助于持续有效地完成改变

## 05 第五部分 规模化 

### 051 规模化：拐点

#### 前言

##### 这一章重点介绍检查和克服组织在生命周期的各个重要时间点遇到的障碍

##### 规模化就是组织作为一个整体在整个生命周期中的演变、成长和前进

#### 理解规模化

##### 在一个团队、部门或组织中，并不总能很容易地知道什么时候需要改变，或者要在哪个方向改变。

##### 有帮助的建议尽管可以提前得到，但是经常会很不直观

##### 在演进过程中，查看进展，有意识地根据当前的状态规划、实施以及调整方位会很有帮助

###### 有了这些经验，就会了解什么时候改变方向以及如何改变，如何采用不同的策略应对不同的环境

#### 考虑企业devops

##### 并没有只适用于大公司的单独的“企业devops”，与在小型组织中一样，devops相关的原则本身并没有不同，只是这些原则的应用或实现有所不同

##### devops的文化原则适用于任何规模的组织、技术原则可以应用于任何涉及良好的软件项目

###### 一个基于微服务的全新项目不会应为它是全新的和有微服务就一定能成功

##### 采用devops战略扩缩组织

###### 成功的组织必须知道如何规模化，即如何根据需要扩展或收缩

###### 规模化定义？分类？

####### 扩大客户群体

####### 提高收入

####### 扩展一个项目或团队来满足需要

####### 维持或改善人与系统或与所花费资金的比率

####### 比竞争对手发展更快

##### 精细规模化的问题

#### 组织结构

##### 跨职能团队VS单职能团队

###### 跨职能团队中，成员有多种不同的技能（例如，前端和后端开发、设计、UX和运维），他们共同完成一个项目或产品，具备从头构建产品所需的所有技能，从而可以覆盖更宽的领域

###### 单职能团队可以更大程度地实现知识分享以及团队或部门的专业化

###### 是否有必要重组团队组织方式？

####### 不论团队整体结构如何，都要有跨团队的沟通，不能为了重组而重组

##### 层级组织与平面化结构

###### 层级组织可能会抑制创新，让人感觉没有发言权

###### 全力变化和状态差别也能促进和改善有效性？

###### 如果组织尝试通过大规模重组来消除层级结构，导致组织过于平面化，这可能也会带来问题

####### 一个组织要有适当的复杂性，一方面要对组织有利，另一方面不能打击员工的士气，要在这二者之间努力达到平衡

##### 分布位置

###### 组织或团队分布在多个不同的位置 --> 需要特别强调公司整体的沟通技能是否有效

###### 沟通和决策过程很大程度上依赖于人们能够进行面对面交流 --> 有短期或中期规划希望扩大公司的地域分布时，就要确保每个人有足够的书面沟通能力

###### 地域分布与IT和基础设施的使用

####### 要确保不同的地方的基础设施都能处理正常的工作负荷和工作模式，避免“不平等”伤害员工的士气和整体生产力

###### keypoint

####### 一个公司要发展壮大，突破某个瓶颈点，必须明确如何让分布在不哦能够地方的团队很好地协作

####### 如果做不到，就不能对影响组织的改变快速做出响应，导致重复工作，降低个人和团队的满意度

#### 团队灵活性

##### 有效的团队规模

###### 太小的团队通常缺乏完成所有工作所需的资源，比如人们的时间或知识

###### 太大的团队，尤其是超过9到10个人的团队，存在的劣势

####### 因为有太多的人际交互和往来关系，要做出及时有效的决策可能比较困难

####### 容易陷入一种群体思维，为了整个团队的一致性而不允许个人有不同的观点 --> 削弱创造力和问题解决能力

###### 团队规模要维持在5到7个人，而不是无限制地扩大团队

####### 如果再聘用人员则需要创建另外的团队

####### 需要更多的管理者和领导（从事管理不是职业提升，而是一个职业改变，对强调人的职业感兴趣）

##### 层级管理

###### 现象

####### 较大的公司内，常有认为层级管理太多，导致事情很难办的抱怨

####### 层级体制定义为管理大组织的一种管理体制，通常因为太过复杂、效率低下或不灵活而饱受诟病

####### 大公司的不灵活性，导致一些人认为devops项目在较大的组织中无法成功

####### 在过去的几年里，在这个领域对于消除不必要的层级管理进行了大量研究

###### 案例，合弄制度 —— 线上零售商Zappos

####### 缺点：职业发展不太清晰；权力真空会非正式地被没有经过管理培训或没有管理经验的人所填充

####### 分析：缺乏明确的权力结构不表示权力差别不存在，只不过是隐式的，没有通过正规的过程来解决

###### keypoint

####### 层级体制的发展对应于之前的君主制和独裁制等管理体制——一个人几乎完全控制所有其他人的想法，这些人几乎没有发办法检查和权衡

####### 在某种程度上，层级体制是组织和控制人类活动的最高效和最合理的方法

######## 对基于价值观的领导力研究，希望一方面获得层级体制的好处，另一方面没有太多不必要的层级管理影响工作的顺利开展

#### 组织生命周期

##### 前言

###### 新的商业模式和投资方法为公司改变、发展和寻求成功提供了途径 --> 组织生命周期中的多样性

###### 从内部和外部压力&成长和衰落角度考察

####### 成长阶段的内部压力表现

######## 组织自然地成长

######## 招聘员工来提供更多产品、开发更多特性

######## 工作效率更高、为更多客户提供服务

######## 意识到当前的人力被过度利用，作为应对而希望招聘新员工

####### 衰落阶段

######## 内部压力：意识到业绩不如预期，主动减小规模或合并

######## 外部压力

######### 可能来自于全国或全球经济状况、竞争优势的改变、或者一个公司由于某些原因，如产品或专利被收购或拆分出售给其他组织

####### 以上组织生命周期中面对的内部和外部压力时，做出的反应以及反应的速度很重要，会影响它将来的表现，或是否能够从中恢复

##### 消除“抢占资源”和“僵尸”项目

###### 前言

####### 在一个组织的生命周期中，要考虑当前项目是否仍在为组织增加价值。不论是在成长还是衰落阶段，都要找出“抢占资源”和“僵尸”项目，这有助于组织成功地实现改变

####### “抢占资源”和“僵尸”项目会阻碍组织的成长、或者加速组织的衰落。组织改变时适合对这些项目进行清理

###### “僵尸”项目

####### 定义：占用时间和资源的项目。每个人都知道他们的项目日薄西山，但是没有人能停止这些项目

####### 没有被停止的原因可能是：出于职位安全的考虑，或者是停止这些项目人们会有影响

###### “抢占资源”

####### 定义：从其他项目攫取资源和能量的项目

####### 通常“抢占资源”项目很难被识别，而且由于人们的信念，这些项目很难被消灭

####### 产生原因可能是：一直以来的技术债务、或是因为技术匮乏而创建的

###### keypoint

####### 处理“抢占资源”或“僵尸”项目时，首先要做的是于所有受影响的人交流，让人们能更好地了解情况

####### 交流很多情况下（一般来讲，人们都希望参加更有意义的项目），可以平息人们拒绝改变的情绪，避免项目继续拖延下去

####### 劝说全身心投入某个项目的人，为了这个项目投入了很多精力的人，面对现实，放弃“这个宝贵的项目”可能很有难度，但是很有意义

######## 试着将人们对原本项目的热情其引导到对公司有意义的其他方面

##### 发布周期的影响

###### 前言

####### 有些组织希望加快其发布周期，通常会从一种瀑布过程（变更要花费几周或数月时间）转为更小、更频繁的发布

####### 变更完成的速度越快，团队就能更快地对外部和内部压力做出响应。如更快地修正所发现的bug和问题

###### But

####### 有些领域中，一味地注重快速发布可能并没有太大意义。要考虑两个主要问题：

######## 一般发布软件的难易程度如何

######## 发布版本的重要性如何

####### why

######## 发布过程可能受到依赖平台的限制

######## 考虑用户对太频繁的更新的体验

######## 与一个私有企业相比，上市公司必须以一种更可持续的方式考虑选择对利益相关人的影响（可能需要遵循额外的法规和限制）

#### 复杂性和变更

##### 前言

###### 一个组织成长的规模、复杂性或拐点会议多种方式影响其实现devops

####### 组织更庞大或更复杂（大型企业环境和公共事业部门），需要绕过、解决更多的现有约束

####### 长期存在的层级体制会限制团队之间以及政府中组织之间的协作和亲密性

###### 政府中

####### 在采用破坏性技术和实践时需要考虑存在的更严格的法规

####### 合同和激励机制可能导致开发、运维、和其他重要团队的孤岛化 --> 如果团队对其他团队的成功没有兴趣，协作和合作尤其有难度

####### but，就像企业不要过于关注结果？一样，如果能帮助政府组织找到一种方法，限制其过多地关注风险，这会很有意义

######## Ps：后面有故事分享如何减少交付更改的时间和纳税人的成本，同时明确糟糕的生产发布可能导致的问题以及团队之间协作遇到的挑战

##### 团队规模化

###### 基于共同的工作、目标、相互依赖以及实现成功的责任感，团队会有效地协作。在组织生命周期中对团队成功最有帮助的各个因素？

###### 提示

####### 有些组织结构会把人们锁定为某些角色，或者人们总有一种恐惧心理，这可能导致人们只关注优化“我”的工作，而不是“我们”。

####### 选择有利于某个人的流程和工具可能会带来短期收益，但是从长远来看，这对于团队和组织来说可能是不可持续的

###### “在我看来，工作最出色的领导人从来不说‘我’。而且这不是因为他们训练自己不说‘我’，而是他们不会只考虑‘我’。他们想的是‘我们’；
他们考虑的是‘团队’。他们了解他们的任务是让团队发挥作用，会承担责任而不是避之不及，而‘我们’会得到好处。因为这会建立信任，而信任会促使你完成任务”—— By Peter F.Drucker

###### 需要如何传播决策的有关信息，使人们对自己的工作有归属感或满足感呢？

##### 发展团队：规模化时的招聘

###### 规模化团队时的一个关键要素是要发展团队。组织必须考虑整个生命周期中的招聘，尤其是成长阶段

###### 被视为成本中心的领域

####### 如果只是将IT等领域看作是成本中心，而不是价值贡献者，这样的组织不会为招聘建立适当的预算，会认为这是不必要的

####### “这个工作应该自动化完成，而不是招聘专门的人员来完成”

######## 尽管自动化是有意义的，但是并不能完全取代人，不是所有工作都能自动化或者应当自动化

######## 自动化越复杂，出现问题时就需要更多的人为干预来维护和排查问题

####### keypoint

######## 没有一个自动化技术可以取代开发中人的部分，而且不应将自动化看作是一个减少成本的措施

###### 员工的培训成本

####### 包括让初级人员或刚毕业的大学生提升层次，从而能独立开展工作

######## 如果没有投入时间和资金为员工提供培训和发展机会，初级成员可能只能做底层工作（团队中其他人都没有时间也不愿意去做的工作），而无法提升

####### 还包括为老员工持续提供支持并提供发展机会

####### 人们通常不愿意聘用更初级的人员，因为他们担心让这些初级人员完成“实际”工作要花太多时间，或者需要更高级的团队成员花大量时间来培训和指导这些新人

######## 培训和发展初级人员方面如果做得不够，可能导致团队更单一化，而且这会成为一个不太支持成长和发展的环境

######## 但是，投入更多的人到一项延迟的工作上，会导致该项工作更加延迟（“Brooks定律”）——From 《人月神话》 By Fred Brooks 1975

######### 新团队成员能够真正有效工作之前会有一个上手时间，甚至最有经验的工程师或高级工程师也要花一些时间来熟悉新项目和新的代码库

######### 现有的团队成员必须花一些时间来帮助新人快速进入状况，所以这些事件就不能用来完成他们原本可以完成的工作

######### 随着团队规模的增大，沟通开销会快速增加，不是每一个任务都能很容易地划分为多个人可以分开完成的工作

######### keypoint

########## 想要为一个已有的项目增加更多人手时，一定要谨记这些约束条件，考虑额外增加人手是否有必要，是否有好处

###### 分包工作

####### 前言：即使在较大的组织中，分包工作（通常称为外包）也是一个要考虑的选择。传统上，希望降低成本的组织往往会将IT或运维等被看做是成本中心的领域作为外包的主要目标

####### 外包模式的利与弊

######## 利：节省一些预算

######## 弊：个人和团队之间的协作和亲密性减少，往往会带来成本的增加（可能是组织冲突的主要来源）

####### 问题与解决方法

######## 职能孤岛

######### 现象：相互之间缺少沟通和协作，人们往往会独占知识和信息，同时把责任推个其他团队；外包同事感觉没有人愿意与他们分享信息，或者无法掌握最新动态。

######### solution：确保内部团队与外部团队之间能够进行顺畅的双向沟通，例如：共享的沟通媒介（群聊或邮件列表）。鼓励定期状态更新？

######## 地位“高低”

######### 现象：在工作的社会层次结构中，不论是正式的还是非正式，外包团队通常会感觉他们比内部团队地位低

######### solution：可以让外包团队参与团队庆祝等活动-->如果人们感觉得到认可，认为自己也是团体中的一部分，他们在工作中会更有动力；要警惕任何对外包团队区别对待的人，不能容忍这种行为

######## 责任冲突

######### 现象：内部团队可能总把好工作留给自己，而把枯燥或繁琐的工作留给外包团队，或者试图把责任推卸给外包团队-->因为责任产生冲突

######### solution：正式而明确地规定责任有助于消除这方面的混乱或紧张气氛；尽可能想办法让内部和外包人员分享职责或项目，建立更协作的环境

######## keypoint：如果组织的态度不正确，认为外包只是一种降低成本的措施，个人和团队也无法改变组织的这种错误态度

###### 关于保留

####### 前言

######## hint：每个人都有自己的优点和缺点。与他人有关联时，这些优缺点可能会变得更好或更糟；评价一个人时，要在整个团队的上下文中考察<--有时一个人可能不适合某个团队，但是对整个组织很有益

######## 需要平衡的有趣问题：一方面要确保团队能继续成长和演进（变动是必要的），另一方面还要保持舒适平和的氛围，每天一起共事的人不要变动太大。

######## 在竞争激烈的技术行业，保留员工对于公司老板越来越重要-->会影响团队生产力和士气

######### 如果同事频繁离开，会对留下的员工带来额外的压力，同时也暗示团队或公司存在更大的问题

######### 如果很多员工离开的原因是一个新职位薪水更高或者因为他们对公司的发展前景表示担忧，这对于留下的员工通常也不是什么好事

######### 员工离开的一些原因是不可控的（如家庭原因），但是可以考虑一些因素来保留花了很大功夫招聘来的员工

####### 报酬

######## 钱不是一切，越来越多的人会选择健康的工作环境和他们认为合适的公司，而不是更高的薪水。尽管如此，人们还是希望得到有竞争力的薪水

######## 数据

######### 对于在一家公司工作超过2年的员工，从他们的整个职业生涯来看，最后挣的钱会少得多，10年就会少50%

######### 平均来讲，留在公司的员工只能得到大约3%的工资涨幅，如果考虑到2%的通胀，实际只比1%稍多一点；不过如果换工作，他们可以得到10%到30%的涨幅

######### 在个人贡献值之间有一个至理名言广为流传——想要大幅度提高薪水，最好的办法就是换工作，与新公司协商一个更高的起始工资。及时你很喜欢当前的这家公司，但一段时间后也很难漠视这种差异

######## 如何应对这一点

######### 确保一开始付的工资就有竞争力

######### 薪酬协商过程、薪酬级别以及其他与报酬相关的问题要保持透明度

######### keypoint：人们不仅希望得到有竞争力的报酬，而且还要得到公平的对待

####### 非货币福利

######## 公平地提供有竞争力的报酬很重要，但是一旦员工得到足够好的报酬，能够保证很好的生活，而且有积蓄不用担心房租大幅上涨，非货币报酬通常会比额外的加薪更有意义

######## 对较小或不太成熟的公司而言，这种补贴会是一种吸引和保留人才的好办法

######## 提示：补贴不是指像办公室里放啤酒、乒乓球桌之类的东西，有些人在这种环境下可能会感觉不舒服；提供多种选择的健康饮食是一个加分项，但要避免提供早晚餐作为补贴-->暗示希望人们经常早到和工作到很晚

######## 可以考虑的福利

######### 远程工作机会

######### 教育机会

######### 灵活的工作时间

######### 工作与生活的平衡（每周工作50~80小时对整体生产力会产生负面影响）

######### 带薪休假

######### 退休计划  

######### 医疗保险

######### 随意着装要求

######### 交通福利

######### 中立的设施（提供中立的厕所可以为人们创建一种更包容的环境！！？）

######### 现场日托

########## 能够提高整体的工作满意度，并吸引有小孩子的员工

########## 由于有孩子的员工可以减少因为看护孩子等问题导致的请假旷工，那些没孩子的员工不再担心为这些照看孩子的父母们代班

####### 成长机会

######## 除了薪水，和工作-生活平衡，人们离职的主要原因之一是缺少提升的机会——发展技能并展示成长（更多的独立性、得到信任参与更大的项目、成为领导的机会等）

######## 管理线与技术线？——明确个人贡献者的成长等级、晋升流程

######## 人们的兴趣和职业目标可能会改变——确保员工有机会研究公司里其他感兴趣的领域（内部转岗、高级岗位轮换）

####### 工作负荷

######## 一般来讲，人们都希望工作有一定的挑战性但有能够做到——检验自己的能力，并进一步发展技能-->保证工作满意度

######## 挑战过大带来的问题

######### 管理者与现实脱节？根本不了解他们能够完成多少的工作/团队承担了过多的工作/工作分配不合理

######### 工作负荷过大的员工最后可能会离开公司，寻找其他不需要这么卖命的工作

######## 值班待命的职位——确保有多人轮班待命？提供额外的休息时间、报酬

####### 文化和“文化契合”

######## 可以将文化定义为“人们或社会的理念、习惯和社会行为”

######## 理念的解释

######### 一个公司的理念是它的价值定位，它要销售什么产品，要如何挣钱

######### 一个组织或团队认为有价值的东西

######## 习惯

######### 习惯是传统或广泛接受的行为、说话或做事情的方式

########## 如何分配工作，谁负责分配工作

########## 一个团队的成员或公司里相同级别的人员相互之间如何沟通

########## 管理者如何向他们的下属传达消息

########## 人们到办公室和离开办公室的时间

########## 完成工作的技术流程

########## 如何升值、加薪和发奖金

######### 有关习惯的一个问题是：习惯只是做某些事情的一种方法，而不是唯一的方法，但通常很难意识到这一点

######### 害怕改变、拒绝不熟悉的事物是人的天性，但是我们应当意识到自己的这种倾向性，并积极努力克服-->确保我们能听取、考虑和选择最好的想法，而不是我们最习惯的想法

######## 总的来说，要有效地保留员工，很大程度上是要确保与员工维持一个契约，保证大家相互理解，满足共同的目标或需要，并根据前面讨论的devops组合不断培养关系；在招聘、面试和保留员工的全过程中尽可能地明确关于文化的期待

#### 案例研究：团队发展和规模化

##### 前言

###### 研究方式：与两个以不同方式参与招聘工作的人进行交流

####### 1. 2007年创立一个在线集市公司的devops主管

####### 2. Critical Mass（1996年在加拿大艾尔伯塔省卡尔加里创立的一家全球数字市场营销和设计公司）的技术主管Phaedra Marshall

###### 对话对象都密切参与了这些技术公司的招聘决策，不过采用了不同的方法来做出决策-->将分析他们采用不同方法的原因，为什么这些方法分别适用于他们的特定情况

##### 发展和建立运维团队

###### 背景

####### devops主管个人背景

######## 最初的职业是开发人员，后来加入一家大型电子商务公司，为在线商店和零售POS系统开发软件，并从头开始建立他们的运维团队

######## 之后在一家数字媒体和出版公司从零开始建立运维团队。在这家公司里，他从技术方面监督指导生产运维和企业IT部门，并帮助发展这两个部门

######## 选择当前公司的原因：主管职位，寻找有充分的学习和成长空间、具有多样性的环境（一半以上高级经理都是女性、125个员工中30位在工程领域）

####### 运维基础背景

######## 在一个物理／云基础设施组合上运行了大约50台服务器

######## 可以根据负载需要，自动扩展，最多可达数百个工作节点

######## 有效的devops目标是？

######### 运维工程师与开发人员紧密合作，构建“漂亮地完成自动化”的系统，帮助企业实现其目标

######### 指导开发人员了解运维工作，尤其是自动化工作，然后在所构建系统的整个生命周期中与他们紧密合作

###### 招聘和面试

####### 招聘决策需要支持devops愿景

####### 招聘过程：

######## 1. 得到工程VP对招聘人数的确认

######## 2. 在推特以及Github和StackOverflow求职公发布招聘启示（这种在特定行业的求职公告板和社交网络寻找需要的应聘者的方式常常比通过招聘人员来招聘员工的做法更有效）

####### 面试过程：

######## 1. 两轮电话筛查：团队成员+主管本人

######## 2. 面对面面试：与两位工程师，一个工程主管、组织中的一位业务经理及最后的工程VP交谈

######### 有些面试比较关心技术

######### 另外一些则更强调对这个人的了解-->是否合适加入这个成长中的团队

########## 对于之前的职位喜欢什么以及不喜欢什么？想要什么？对于工作环境喜欢和不喜欢哪些方面？

######## devops主管指出：会努力了解应聘者是否在某些方面有强烈的个人观点（如文本编辑器、SQL还是NoSQL，或者喜欢的Linux版本）-->倾向于强观点、弱坚持的人

######### 强观点：确保得出一个结论，哪怕是受直觉指引，不能拒绝表态或者根本没有立场

######### 弱坚持：查看是否有错误，找出与当前结论不契合的方面，愿意而且能够根据新的证据改变想法

######### “强观点、弱坚持”是应聘者应有的一种态度：强有力的决策者或领导人，但又不会因过分坚持自己的观点使自己陷入困境，容易从错误中恢复

##### “英雄文化”问题

###### “英雄行为”：长时间工作、独立地排查问题、不断的救火。这种文化的问题在于

####### 它是不健康的，长时间的工作和周末连续工作会导致倦怠，不仅身体吃不消，通常还会导致精神健康问题

####### 会吸引一些希望成为“英雄”的人，他们对自己的成就或收获更感兴趣，而不关心是否能作为团队的一部分有效地工作

###### 问题启示示例

####### 示例一、要求应聘者有“100%”或“超水平”的表现，这些说法往往暗示这这个团队很少甚至没有工作-生活的平衡。不仅不健康，这种要求还会偏向单身的人，而拒绝有家庭责任的应聘者（或者有些人只是希望大多数晚上能回到家里）

####### 示例二、描述一个团队“努力工作，努力玩乐”。聘用的是员工而不是朋友，不能希望员工把非工作时间都用在工作社交活动上

####### 示例三、“非常棒”或另外某种含糊的特点。可能会要求应聘者描述自己的技能时把自己描述为“高手”、“奇才”等，通常与自大和不愿意学习或倾听关联在一起

####### 示例四、布置作业或其他工作，要求应聘者证明他们的知识水平，这通常也是一种不好的策略，会表现出对员工的时间缺乏尊重。但并不是所有的筛查练习都不好，预演假想的场景来了解一个应聘者的思维过程和价值观就不错

###### “英雄文化”往往会带来这样一种工作环境：员工总是废寝忘食-->造成创造力、生产力以及同理心的下降，最终导致对工作不满意，丧失自信和倦怠

##### 招聘启示和招募问题

###### 前言

####### 公司仔细检查他们的招聘启示时，详细查看了招募策略整体是如何描述的。

####### 维持了原先“不使用招募人员来招聘”的决定<--如果招募人员与公司价值观不同，就不能很好地代表公司，可能会让应聘者不愉快甚至被冒犯

###### 问题示例

####### 问题一、不注意细节。从模板复制粘贴来，特别是没有做过检查校对，就很可能存在错误-->公司文化不健康、懈怠的团队。请潜在候选人推荐其他人，这也是很懒惰的做法——人们通常是愿意提供推荐的，但是只针对朋友或他们了解和信任的同事

####### 问题二、排外或非专业语言。注意招聘启示或email中可能让应聘者反感的语言、性别偏见的言论、年龄限制等

####### 问题三、对技术的过度关注。要注意应聘者通常更关心一个公司做什么，而不是它使用的技术，因此需要避免只谈技术，而对用这个技术构建什么以及公司做什么只字不提

###### 检查工具：可以使用joblint工具分析招聘启示或招聘邮件

###### 问题示例优化

####### 优化一、提到一般技能而不是特定技术。有2年Puppet经验-->了解类似重复性任务和配置管理自动化等概念

####### 优化二、强调重要的文化价值观。不是一起喝酒踢足球的团队，而是诸如同理心、有效沟通、去除孤岛及工作——生活平衡等文化价值观（注意实事求是）

####### 优化三、确保招聘启示是性别中立的，没有冒犯的字眼，不要使用一些粗俗的说法

####### 优化四、强调公司对多样性的重视，要提到有吸引力的福利，崇尚的文化应当鼓励人们按时下班、有产假并提供培训机会

###### 提示：可参考《Model View Culture》有观文化和多样性的招聘书籍

###### 招聘结果

####### 招聘到了5个人，组成的团队提供了全新的自动化和测试基础设施。可以为整个组织提供使用简单、文档齐全的工具

####### 每个人都知道如何使用这些工具以及如何为之做出贡献

##### 个人和团队发展

###### 技术主管Phaedra Marshall背景

####### 在不同行业的技术领域有15年的工作经验，包括高等教育、财务、媒体和广告

####### 对她而言，devops意味着充分利用开发人员编写代码的技能，以及系统管理员的运维知识，从而大规模地供应和运维可靠的计算系统

####### 希望基于现有的招聘启示和职位创造一个环境，能够让这两类技术人员充分发挥他们的强项

###### Critical Mass的特殊：员工人数超过700人，规模远远大于之前的在线集市公司-->要求采用不同的招聘方法，但目标是一致的

####### 配备专门的全职招募人员，他们的工作是努力寻找合格的应聘者

####### 团队与招募人员需要紧密合作，一旦leader或招聘经理对从招募人员那里得到的候选人不满意，则要合作来解决那些问题

####### 面试过程：电话面试（30min）+现场面试（取决于团队和职位类型）

##### 团队成员发展和成长

###### 一旦完成了面试过程，决定聘用，会为每个员工指派一个职业开发师（导师）

###### 通常一个导师指导4个员工，超过7个就不能很有效地工作（帮助员工在公司里取得成功）

###### 360反馈机制 —— 绩效审查

####### 在一个员工的工作圈子里从各种不同的人那里收集反馈：直接伙伴、直接下属、一个或多个上级

####### 360反馈是匿名提供的，职业开发导师会收到指导对象所有反馈的一个副本，并帮助指导对象处理这些反馈

####### 有严重的负面反馈时，职业开发师可以提出一个绩效改进计划，或者帮助员工对他们的短期或长期职业目标做出具体的计划

####### 职业开发师还会提供一般的职业方向建议或者帮助解决他们困惑的技术问题

###### Critical Mass非常关注职业发展和指导

####### 将保留员工看作其招聘和聘用策略中很关键的一部分

####### 尽管货币报酬很重要，但是除了加薪以外，还有其他方式可以让员工感觉到自己的重要性

###### 鼓励工作／贡献分享，并给予奖励

####### 每周技术人员会议，鼓励团队成员谈论他们正在做的工作，并介绍他们对这些项目做出的贡献

####### 每个月让员工提名一个同时得到突出贡献奖-->人们感受到来自同伴的尊重，获得人际关系的满足感／奖金认可

###### 保留员工的另外一个很重要的策略——允许员工有多种兴趣，允许在他们选择的方向上取得职业发展

####### 在他们的团队中，有一个前端开发人员很受重视，但是他希望除了JavaScripts和CSS还能做些其他的工作

######## 他与他的职业开发师讨论了这个问题

######## 职业开发师让技术领导人注意到这一点

######## 三人共同提出了一个办法：让这个开发人员每周至少花25%的时间参与其他创造性技术项目

####### 对他的职责做了小小的改变，能够帮助他发展技能，使他有机会在感兴趣的技术领域工作，而且公司也留住了一个有才能、更快乐的开发人员

###### keypoint

####### 在特定技术有经验只是很小的一部分，还需要考虑文化契合度，批判性思维、学习和问题排查能力、人际交往能力等在壮大和发展团队时，招聘过程中需要记住这一点

#### 团队规模化和成长策略

##### 前言

###### 在某些方面，可以把团队看作是一个单独的有机体。在一个规模变化的组织中，要确保建立健康的团队，协作和亲密性方面的技能至关重要

###### 另外还有三个关键的策略可以在团队的整个生命周期中增强团队——保持团队小而灵活、发展协作、管理冲突

##### 保持团队小而灵活

###### 问题

####### 随着组织的成长壮大，团队成长时可能没有周全的设计

####### 大团队不太容易分享知识或者相互自由学习

####### 由于不太熟悉团队中各个成员的优缺点，这会导致不能灵活地分配工作

####### 复杂情况下人们之间可能形成循环依赖

####### 小型创业公司中在特定的主题或服务方面存在单一知识点（环境中隐含的脆弱性）

###### 激励保健理论，by 心理学家 Frederick Herzberg，20世纪60年代

####### 激励因素

######## 可以提高工作满意度，包括：挑战性的工作、对成就的赏识和认可、感知到的责任和自治性，以及有机会完成有意义的工作等因素

######## 5个关键的对人们产生推动和激励的因素：自由、挑战、教育、有意义的贡献、积极的环境

####### 保健因素

######## 可以消除对工作的不满，包括：工作安全性、公平的工资、福利、工作条件和假期等因素

####### 最佳团队规模

######## 背景：基于Herzberg的激励保健理论，J.Richard Hackman和Neil Vidmar在20世纪70年代，成立2人到7人不同规模的团队，评估在多个不同任务中团队规模对流程和绩效的影响

######## 研究结论

######### 最佳的团队规模为4.6人-->要限制团队大小，使团队人数接近这个数；选择一个奇数<--进行服从大多数人的意见决策

######### 团队达到2位数时影响正常工作的因素

########## 沟通和协调事务的成本呈指数增长，导致花在工作上的时间更少

########## 更多的转手导致更多的错误和误解

########## 团队整体凝聚力减弱

######## keypoint

######### 经过一段时间后，一个团队能更有效地完成当前的工作，因此可能会增加更多职责或者改变工作方向

######### 团队达到某种规模时，如果开始影响有效性，而且要求增加人手来完成工作，就需要考虑拆分团队，或者减少团队的职责

######## 总结

######### 团队应当根据需要进行调整，来维持团队内部以及团队之间的有效性

######### 规模小的组织允许交互式的团队沟通，因为团队中的每个人都相互认识，所以沟通是高带宽的

######### 随着组织的成长，每个人的带宽会降低，直到最终组织中的每一个人都相互不认识

######### 应当保持小的团队规模，以维持足够的沟通和共同的理解，从而支持组织中的devops组合

##### 发展协作

###### 前言

####### 最有效、最有生产力的团队往往由“经常沟通、平等参与而且情绪解读能力强”的成员组成

####### 高效协作团队具有的特点：团队成员积极的相互依赖、有效的沟通、个人和团队当责

###### 团队成员积极的相互依赖

####### 团队中的相互依赖体现为相互之间的一种信任和职责。在一个新团队中，需要一定的时间才能建立这种信任和尊重，每一个新的团队成员加入或有成员离开这个团队时，都必须重新建立信任

######## 一段时间后，人们会了解团队中其他成员的优缺点，并了解如何根据上下文环境和团队成员是否有空余时间来安排活动。

######## 有效的头脑风暴允许团队平等地参与，发现新想法，然后研究这些想法并确定要采用哪些想法

####### 快速创建团队

######## 从编程马拉松衍生出的一个技能：在相当短的时间内建立、合作然后解散

######## 有一个明确的最后期限，而且大家相互依赖，共同完成项目

######## 成功的团队会快速找出团队的优点和缺点，并寻找能够平衡团队的其他成员

####### 工作环境中，个人的3种行为方式：给予者、接受者、匹配者

######## 给予者，给予多于接受的人，帮助其他人而不期望回报

######## 接受者，接受多于给予的人，只是在对自己利大于弊的情况下才有策略地施以援手

######## 匹配者，会在者两者之间，努力维持给予和接受的平衡

####### 了解何时和如何寻求帮助

######## 前言

######### 在一个团队上下文中，要考量什么事后上下文不明确，并以某些方式做出响应来得到额外的信息，这一点至关重要

######### 个人基于单独的上下文建立理解并完成工作是最容易的。不过更长远来看，这是有成本的

######### 如果人们所在的公司是从创业公司逐步发展成为成熟的企业，对他们来说，最困难的事情之一是工作会随着上下文改变

########## 需要面向团队和组织的目标，不能只根据他们孤立的理解来完成工作

######## 寻求帮助的困难

######### 在一个群体中，如果人们还没有形成强有力的团队纽带，询问更多信息或请求帮助可能会被误解而且不受欢迎

######### 资深的员工可能更难寻求帮助<--可能存在这样一种误区，认为随着我们职业生涯的发展，我们可以而且应该在所有方面都是专家

######### 不希望因为寻求帮助带来义务（可能会产生对某个人存在义务或相应的成本）

########## 在一个健康的组织中，人们不会在意这种义务，而会关注为了对团队和企业整体有利需要做什么

######## 给予行为类型

######### 时间：帮助、情感支持、指导、反馈

######### 知识：指导、反馈、推荐、介绍

######### 金钱：投资、捐赠

######## 如何做一个更好的给予者

######### 考虑你喜欢的领域，以及在哪些方面可以从给予中受益，并重点关注这些方面

######### 有时接受者并不需要你为他们提供帮助，所以不要在这个方面浪费你的资源

########## 有人可能需要得到情感支持，但不表示他们需要或想要你的反馈或个人经验

######### 被安排为其他人提供支持时，需要了解什么时候应当拒绝以及如何拒绝，可能需要额外的支持

######## keypoint／挑战和改变

######### 如果不问问题，会减少保持相互理解和共同点的机会

########## 如果对企业中的低级人员设置一个行为模式，这种情况会更加恶化-->更缺乏理解，他们必须浪费宝贵的学习和行动时间做重复的工作

######### 寻求帮助的第一部分是重述你的假设，以明确大家的理解（若是已形成强有力纽带，交流可以简洁而有效）

######### 新的项目团队成员与新的管理层需要额外的沟通，直到投入了足够的时间和精力

########## 团队工作压力过大时，如果某个工作没有之前顺利，要找出痛点并改变，不能简单把问题归咎在新来的人（不努力）或新技术（白费功夫）

###### 有效沟通

####### 团队内的相互依赖会受沟通策略（在第二部分 协作中进行了讨论）的影响。规模化时还需要考虑的问题？

####### 多样性

######## 如果幸运（有必要的重视和努力），团队会在成长过程中越来越多样化

######### 从长远来看，多样性会增强同理心、创造力和问题解决能力，但是短期内可能导致人际冲突增加。由组织拐点产生的额外压力肯定会增加这种紧张氛围

######## 要确保团队经理在包容性和无意识偏见方面经过培训

######## 随着组织的成长，团队或部门有专门的HR代表可供个人贡献者和管理者在出现问题时求助

###### 个人和团队当责

####### 个人当责：是指一个人能够根据自己的动作和行为确认觉果，并对结果负责

######## 如果人们直到同事高质量地完成了工作，这会增加团队凝聚力和认可度

######## 如果团队中所有人都可以说“是的，我的同事高质量地完成了工作”，这意味着团队中存在信任、共同的价值观和团队凝聚力

####### keypoint／定义质量

######## 在团队和组织中明确地定义质量很重要

######## 要让客户了解你如何定义质量，这个过程要透明，并鼓励他们分享对质量的理解，这会使产品结果与目标更加一致

######## 提供明确的质量指标也有利于个人当责

######## 对于一个组织中的各个角色，工作质量的定义可能有所不同

######### 要明确对于不同的角色什么更重要，减少解决问题时的不必要冲突

####### 质量圈，by W. Edwards Deming  20世纪50年代提出

######## 内容：做相同或类似工作的人群，他们对于什么是高质量的工作基本上看法一致

######## 让人们在“什么是高质量的工作”上达成共识很重要，可以增加一个团队的内聚力——朝着共同的目标努力，能够尽量减少误解，支持devops组合

####### 团队当责：是指能够根据团队的行为确认结果并对结果负责

######## 个人接受团队责任的关键是相互信任，并对相互的行为和动作负责

######## 高绩效团队中，出现问题时，个人会以尊重的态度面对并彼此支持

######## 查找问题与讨论问题之间拖延的时间越短，就能越快地解决问题；问题存在的时间越长，不信任就会滋长，人们可能越发不愿意作为一个团队协同工作

##### 管理冲突

###### 前言

####### 在第二部分中，对协商策略和冲突进行了讨论

####### 在公司的发展历程中，会形成很多根深蒂固的习惯和行为

####### 为了保证团队的健康，管理层必须帮助人们将自己的个人愿景与公司和团队的愿景保持一致，鼓励个人和团队发展技能，并对符合规范和期望的行为提供激励

###### 冲突的另外一面

####### 在某些方面，冲突可能对一个团队是有益的<--会向团队展示新的想法和观点

####### 如果一个团队里没有任何冲突，这说明存在单一性，需要加以解决

####### 为组织带来价值是我们的义务-->如果我们是可有可无的，那么被组织剔出就不奇怪了

####### 妥善解决冲突的技能对于个人、团队和组织的成长都是必要的

###### keypoint／对期望行为做出表率

####### 在团队会议中对你希望看到的行为做出表率

####### 当人们看到管理层只是在抱怨同伴的问题，而不是直接解决这些问题时，他们会复制同样的行为模式

######## 这一点适用于所有负担指导或领导岗位的个人贡献者

###### 对于霸凌行为零容忍-->病态、不健康的工作环境-->降低生产力

####### 不能接受霸凌可能带来的价值，这种行为包括

######## 责备个人犯错误

######## 批评某个人的能力

######## 威胁会失去工作

######## 使用无礼或贬损的方式

######## 贬低或不承认成就

######## 采取排外的策略

######## 大喊大叫

###### 团队内部的冲突

####### 与团队目标一致

######## 不是每个职位都适合每一个人，人们有不同的个人喜好、动机和工作方式，可能与团队的优先工作和工作方式不一致

######### 这种不一致（对工作项目缺乏兴趣或与管理者有冲突）可能导致负面态度、冲突增加、工作质量降低、对团队其他成员产生负面影响

######### 与同伴和管理者经常性地定期面对面交流，有助于尽早找出和解决问题

######### 大组织的优势，提供更多的机会让人们在不同团队甚至内部部门之间转换，可以帮助成员找出不一致、发现更适合自己的团队

####### 与组织目标一致

######## 一般出现在某个拐点之后，如一次合并、收购或裁员

######## 有些人在小的创业公司工作很得心应手，一旦组织成长到超过某个规模，他们就会越来越不适应

####### 激励不一致

######## ？

###### 团队之外的冲突

####### 团队之间的冲突（常常源于不同团队的动机或期望不一致）正是推动devops运动的主要因素之一

####### 不切实际的期望

######## 如果有不切实际的期望，团队的管理层要对此负责

######## 要由管理层确定一个给定团队的期望是否实际上是不现实的（尤其是有较多新人或初级成员的团队）

####### 评价团队一致性和能力

######## 如果对一个团队的期望很现实，但是这个团队经常无法满足这些期望？

######### 直接结果：该团队失去其他团队对他们的信任

######## 要确保团队在做最重要的工作，而且是对公司有价值的工作，同时注意团队的工作是否超出其能力范围，对其期望是否现实

######### remember：devops不是要让相同数量的人完成两倍的工作量

#### 组织规模化

##### 前言

###### 组织的规模化需要在很具体的层次上做出决策？适当的团队以及个人要掌握数据

####### 要求充分的协调以及数据透明度，从而有足够的数据支持这些决策

###### 单独工作的独立团队会构建一些工具，这些工具可以帮助其他人，但主要是满足这个团队自己的需要

##### 集中与特定团队

###### 集中团队来提供支持功能会导致倦怠，会使某一个团队成为所有其他团队的全部依靠。

###### 高效的支持团队会让工作显得很平常

###### 需要让组织认识到支撑团队的价值，避免伤害士气、影响团队效率和整个公司

##### 建立领导

###### 协作的领导团队

####### 作用：1. 推动日常改变；2. 应对出现的机会和挑战；3. 监控关键路径

####### 应对挑战时，领导层应当有的行为：1. 当责、关注、跟进；2. 一致的行动和不断增强的价值观

###### 当责文化

####### 一个必须考虑的问题——“谁决定我们要当责，谁决定我们要做什么”

######## 当责文化包括

######### 1. 清晰合理的期望

######### 2. 高绩效的正面结果

######### 3. 低绩效的负面结果

####### 什么是当责？

######## 当责是对责任的确认和假定，个人、团队以及组织层次上都是如此

######## 对结果（项目、学习、开发活动）负责

####### 一个误区：当责文化VS畏惧／责备文化

######## 当责不是为了追究责任进行惩罚，鼓励当责文化也不应该导致畏惧文化

####### 忽视绩效问题和避免当责可能带来的问题

######## 人们倾向于采取规避行为、失去相互之间以及对管理层的信任

######## 责备-->组织会培养畏惧文化，影响个人的当责能力

###### 组织灵活性

####### 如何考虑一个大型组织的灵活性？

######## 团队之间人们如何沟通

######### 同一层次的不同团队或个人沟通是否需要在管理层次上向上请示

######## 决策过程是否需要一个正式会议

######### 变更需要书面工作，若系统中很多工作需要手动介入、没有实现自动化，会对灵活性和生产力有负面影响

######## 要完成一个更改需要在管理层次体系向上请示多少层

######### 如果一个人需要完成某个更改、尽管这个更改只影响他们团队自己的工作，但仍然需要得到其直接经理以上的多个管理层认可才能做出更改，就会感到很受束缚

#### 案例研究：政府数字服务

##### 研究对象

###### 成立于2011年4月的美国政府数字服务小组（GDS）负责完成政府数字服务的转换

###### 2010年，Martha Lane Fox整理了一份名为《Directgov 2010 and Beyond：Revolution Not Evolution》

##### 显性文化

###### GDS建立了7个数字原则：默认数字化、用户为先、从过程中学习、建立信任网络、移除障碍、为技术领导人发展创造条件、不要每一件事都自己做

###### GDS建立了10个设计原则：从需求开始、少做、用数据来设计、做难的工作使它变得简单、迭代然后再迭代、这适用于所有人、理解上下文、构建数字服务（而不是网站）、保持一致（而不是统一）、保持开放（会让情况变得更好）

###### keypoint

####### 通过建立显性文化而不是依赖于隐性的理解（通常会导致误解），GDS明确地强调了希望在他们的政府领域完成哪些类型的该改变

##### 计划

###### 计划关注的事项

####### 明确指出希望做什么，以及何时完成

####### 给工作排优先级

####### 检查可能的解决方案以及其价值，确保选择最能满足需求的解决方案，同时满足建立的数字和设计原则

####### 与其他团队交流协调，确保没有其他团队在做相同的工作

###### 计划的意义

####### 简单，但很重要

####### 确保所有人意见统一

####### 尽可能有效地工作，而不会浪费时间重复劳动

###### 快速创建原型

####### 一旦收集到项目及其需求的有关数据，评估可能的解决方案，包括开源和商业解决方案

####### 创建原型后向多个团队共享，包括开发、运维和服务经理团队，并获取反馈

####### 尽可能减少最后因改变方向而带来的浪费

###### keypoint

####### 在一个（大型）组织中，计划项目或其他工作时，要注意：

######## 有没有其他团队在做这方面的工作？

######## 如何协调和结合其他团队的工作？

######## 需要涉及哪些利益相关人和决策者？

######## 如何定义这个项目的成功？

##### 挑战：政府机构面对的挑战之一是不同团队经常要做重复的工作

###### 每个团队除了他们特定的重点工作外，都必须为其应用提供核心基础设施元素-->每个团队都必须花时间来聘请相应的专家

###### 基础设施元素：MQ、DB、分析、日志、监控、告警

###### 解决方案

####### 创建多元化平台服务——使用集中支持的服务（公共组件收编），同时满足法律要求的所有安全和隐私约束

######## 要求：自服务、采用多个服务提供商、代码／数据／日志必须隔离

######### 自服务：完全控制所需要的应用，而不是如何得到需要的服务

######### 采用多个服务提供商：避免开发商锁定、鼓励竞争定价、消除单一故障点，避免使用开发商特定的特性

######### 代码／数据／日志隔离：确保各个团体或机构满足其安全和隐私约束（如PCI，SOX，HIPAA合规性）

####### 节省服务团队时间、不需要自己提供和维护、能够关注特定领域工作

##### 建立亲密性

###### 方式

####### 参加Global GovJams（类似编程马拉松），不限定主题，由人们对想法投票并创建关注公共事业的团队

#######  

###### 协作方式

####### 参加者在Twitter上使用#ggovjam协作和分享

####### 定期演示观察其他人如何使用这个产品，根据他们的学习结果改进原型

####### 定期发博客来分享关于组织、目标和所完成项目的信息-->团队有一个亲切的形象，有助于建立学习和分享的习惯

####### 参与开源社区

####### 选择工具的一般方法

######## 常见问题——用开源

######## 少见问题——购买

######## 特有问题——构建

###### 总结

####### GDS在努力创建和维护一个明确定义的文化

####### 非常重视用户以及解决用户面对的问题

####### 强调使用敏捷实践来减少浪费、更快地迭代

####### 同时帮助政府其他部门简化数字和技术服务

####### 不仅关注协作和亲密性，而且有自己的价值观和禁忌

#### 案例研究：Target

##### 分析Target

###### Target公司是一家总部位于美国明尼苏达州明尼阿波利斯的零售公司

###### 最早由George Dayton建于1902年，时名“Dayton Dry Goods”

###### 2015年中期Target有大约347000名员工，为美国第二大进口商

###### 除了实体店，还有涉及银行、医药和保健行业

###### 历史变革：Target经历了很长的技术革新历程，提供了从内到外的各种支持技术

##### 从期望的结果开始

###### 多个团队“API和集成开发团队”+“运维基础设施服务团队”对期望结构的描述——“更简洁、更快、更高质量的服务交付”

###### 停用“devops”这个术语<--过于泛滥，有太多的误解和误区

####### 把关注点放在期望的结果和改变上，不过分关注术语，更容易实现改变

####### 改变是分阶段的，开始是个人的改变，经过众人努力，从上到下的支持，然后扩展成功的策略

##### 企业中的亲密性

###### devops之旅从寻求指导开始——《The Phoenix Project: A Novel About IT, DevOps, and Helping Your Business win》

###### 在外部寻找灵感——找到Netflix、Google和Facebook的领导人了解他们的实践、习惯和模式

####### 货船崇拜，为了复制他人的成功做相同的事情‘

###### 通过融合精益、devops和敏捷运动来培养跨学科教练，使“教练”在组织中采用一致的方式传递信息

###### 提供高度沉浸的指导课程鼓励精细质量实践方法，鼓励员工在github上分享经验

##### 企业中的工具和技术

###### 使用OpenStack平台完成云计算

###### 使用Jenkins提供持续集成和持续交付

###### 使用Chef提供基础设施自动化或配置管理

###### 使用GitHub提供源码管理

###### 使用Hipchat进行chatops，实时掌握开发状态，提供适当的通道发布警报和事件，更快地对事件做出响应

##### 在企业中分享知识

###### 在有限的团队中获得成功后，通过季度内部devopsdays推广经验到其他团队，推动组织完成改变

###### 确保整个组织有一致的方式传递信息——使用教练思想——对devops相关概念建立共识

###### 让个人贡献者和团队根据自己深入的经验推动改变

##### 小结

###### 采用devops的关键挑战——规模化问题——应对组织生命周期中的拐点

###### 有时需要重新评估当前流程并反思，有时需要慢下来谨慎思考，有时需要快速做出调整，不断实践并从错误中学习

###### 要提高个人、团队和组织的技能，做好根据需要改变方向的准备

###### 不论组织的规模和复杂性如何，有效实现devops的基本原则都适用

### 052 规模化：误区和问题排查

#### 规模化误区

##### 误区一、有些团队永远也无法合作

###### 通常会把开发和运维团队的不一致描述为devops的起源

###### 一般地，团队可能由于误解陷入一种高度紧张和冲突的状态

####### 冲突不是坏事，不完全一致说明组织存在多样性

####### 重新了解如何交互，需要时间积累正面经验重建团队之间的信任

####### 团队要对愿景和成功的定义达成一致，避免相互之间因目标不一致导致沟通时带有情绪地相互施压，加剧团队之间的紧张气氛

###### 现场参观是一个帮助同事建立亲密关系，增强合作，对沟通和工作的方式建立信任和理解的办法

###### keypoint

####### 需要注意的行为模式

######## 批评（Criticism）：对性格特征的个人攻击

######## 轻视（Contempt）：来自优越地位的言论或行为

######## 防卫（Defensiveness）：自我保护的言论或行为

######## 抵制（Stonewalling）：有情绪地拒绝交互

######## 地毯式攻击（Blanket accusations）：包括“他／我们总是...”或者“他／我们从来不...”的言论

####### 思考两个问题

######## 自己是否在为自己构筑一个“自给自足”的小岛，将知识占为己有不与人分享，以此保证自己不对丢失工作

######## 团队内是否存在单一故障点或知识的瓶颈，团队或组织少不了他们 --> 可能会对他们与伙伴之间的关系产生负面影响

######## 有这些情况时应当采取措施传播他们的知识、修复他们的关系以及相互之间的不信任

##### 误区二、我们需要得到高层的完全支持才能开始改变

###### 管理者对其直接下属和他们的效率会有很大影响，高层推诿时／团队承担了不切实际的需求时，管理者要作“保护伞”（By Google Gmail前产品经理），尽量保护下属，尽量不影响他们的正常工作

###### 管理者应当尽其所能地加强团队，尽量给他们足够的空间来试验工具、工作流和实践（用实际结果来说服高层会更容易）

##### 误区三、我们现在没有招聘预算，所以不能开始devops

###### 在规模较小或快速发展的组织中，转变为一种更强调devops的文化可能很简单

####### 确保聘用具备这些技能和思维模式的人

###### 还记得在第一部分提到的关于devops的认知误区之一——”devops是一个职位／10x工程师“吗？

####### 即使不聘用一个由“10倍明星devops工程师”组成的全新团队也可以实现devops

####### keypoint——“想改变一个现有环境以及这个环境中人们的习惯和行为，可以从小的步骤开始。确保提供清晰的目标，持续的学习机会，以及一种信任、理解和协作的氛围”

######## 建立对目标的共同理解

######### 对devops之类的想法达成一致，确保对这些想法的含义达成共识

######### 对希望组织环境做出哪些改变以及为什么要做这些改变进行沟通，说明希望的具体改变及缘由

######## 提供和鼓励学习机会

######### 要实现devops变革，很可能需要学习新的软技能和技术技能，如如何促进无问责事后分析，以及如何使用Docker

########## 在前文中提到过：让一个老系统管理员学习新技术是完全可以的

######### 如果希望员工具备这些技能，就要确保提供相应的培训，而且要鼓励整个组织有一个学习环境和成长型思维模式

######## 创建一个坚持devops原则的环境

######### 为了保证这些改变是持续的，需要创建一个人们乐于建立的环境

######### 希望——“人们能够更多地沟通或者指导”

########## 要在技能矩阵或职业发展计划中明确指定这些技能

######### 反对粗鲁的行为——很难有协作和“不受欢迎的人”并存的环境

########## 鼓励人们一旦看到这种行为就制止（如果他们愿意），确保违规或恶意行为会有相应的后果

#### 规模化问题排查

##### 问题一、管理层坚持让我们继续使用X，没有看到devops的价值

###### 问题描述：在某种程度上，必须有管理层的支持才能使这些改变持续地影响整个组织，但是一开始可能得不到认可

###### 解决方案

####### 可以从一个团队开始，给这个团队一些时间来进行试验，一旦有可以展示的正面结果，就向管理层报告这些改变，这样就能向其他人展示出这些改变的价值（而且立竿见影）

####### 让你的管理者参与推进改变，他们能够

######## 避开现有限制

######## 代表你与其他管理者协商

######## 允许你在你的团队中试验

######## 为你屏蔽所有质疑

##### 问题二、团队过于分散？

###### “想要让同样多的人有效地完成更多的工作，一种办法是支持他们采用更聪明的方式工作，而不是更努力地工作。”

####### 不是要工作更长时间来完成更多工作，应当考察当前的工具和流程，查看是否有改进的办法

####### 与你的团队成员讨论他们的工作流以及他们使用什么工具和技术来完成工作，找出更高效的工作方法，从而减少时间和精力的浪费

###### 可能需要在组织之外找想法

##### 问题三、决策不当

###### 问题描述

####### 1. 决策经常会带来不想要的结果（尝试X，但最后它让情况更糟）

####### 2. 决策过程看起来要浪费大量时间和精力（尤其是组织规模大的情况）

###### 解决方案

####### 检查流程

######## 问题是否被草率略过，无人认领，或者多个团队都认为问题是自己的，相互竞争导致冲突

####### 认识清晰度问题

######## 考虑“做什么决定或者这些决策有什么影响？”

####### 注意过度的流程

######## 如果流程本身会妨碍工作或导致无法在合理的时间达到某个结果，人们就会避免做出决策

####### 衡量生产力与风险

######## 避免做出错误决策会影响生产力。折衷的方法是花些时间来了解决策错误的风险，如果影响很小，继续犹豫而不做决定就是浪费时间（分析瘫痪、停滞）

####### 增量改变

######## 大多数决定并不是不可逆的！要意识到我们可能在事后改变想法，可以消除选择太多时产生的分析瘫痪

####### 建立试验的安全空间

######## 错误会叫我们如何适当地分析风险以及在需要时做出正确的决策。关注得到最好的结果而不是相互职责非常重要

###### keypoint

####### 跟踪决策和结果

######## 通过跟踪决策和结果，可以做出修正，并对所做的决策更有信心

######## 继续做同样的事情而希望看到不同的结果是不理智的，只会浪费时间和精力

##### 问题四、在吸引我们想要的人才方面有问题

###### 确保对人力资源部说明职位需求，参加当地研讨组，重新考虑职位需求，并反馈社区

###### 多少人来应聘？哪些类型的人会来应聘？

####### 如果受组织的历史影响，可以采取一些额外措施进行改善

###### 问题是否出在招聘过程？

####### 建立一个面试培训程序or结对面试-->组织中更多的人成为更好的面试官

##### 问题五、重组或裁员后士气受挫

###### 一个组织生命周期中会有衰落阶段-->减少生产线或员工人数

###### 不断改变的文化规范会增加透明度，因为人们可以对体验、工资和面试信息发布评论——Glassdoor

###### 临近裁员，不要试图隐藏

###### ...

##### 问题六、我们不知道是否需要为X建立一个完整的团队

###### 原则：并确保避免导致倦怠和单一故障点

###### 即使没有足够的工作量需要聘用一个完整的团队，起码要寻找分享知识的方法，结对和保证文档更新就可以作为很好的起点

## 06 第六部分 搭建DevOps文化桥梁

### 061 利用有效实现DevOps的4大支柱搭建桥梁

#### 前言

##### devops要保持有力而且影响长远，关键要素之一是它的灵活性——没有一种实现devops的特定方法，它不需要某个特定的软件或流程，也不仅限于Web创业公司

##### 讲关于devops时，通常会谈到孤岛——最常见的说法是开发和运维团队彼此是孤岛，相互割据，他们几乎从不沟通，更不要说有效地协作，人们希望找出办法来消除这些孤岛

###### 换个角度，不同的团队或组织看作岛屿——devops的目的“维护多个岛屿组成的生态系统的生机”

####### 多个岛屿需要能够分享资源，传递知识，甚至有居民在岛屿之间移动 <-- by 在不同的岛屿（个人、团队和组织）之间搭建桥梁 <-- 通过devops的四大支柱

#### 故事的意义

##### “人们讲的故事就是容器，承载着他们的世界，为他们的生活赋予了意义”—— Andrew Ramer

##### 插入一个哲学概念——“同一性”

###### devops要求理解或改变我们关于同一性的核心理念（不要基于角色形成自己关于同一性的理念）

####### “我是运维，因为我本来就做这些事情”VS “我是运维，因为我现在在做这些事情”

##### 为什么devops在业界这么受关注？

##### 作为个人，在分析、倾听和分享从个人经验得来的故事时，我们会增强对社区的归属感，适应共同的价值观，并对出现的事件得到额外的认识

##### 显性和隐性故事

###### 显性故事：以一种直接叙事的方式讲故事（通常会作为例子反复讲）

###### 隐性故事：会分享关于文化、历史和行为的有关信息（这些故事不直接讲），like：

####### 面试过程中不知不觉地传递公司价值观的有关信息；

####### 写博客文章内容包含哪些信息、写到什么程度（对于知识的侧重和期望）

####### 声望阶梯，在行业大会上的展示水平和角色（是否鼓励个人贡献者发言）

#### 理论和实践中的devops

##### 前言

###### 关于如何看待这个世界以及事物如何运转，我们都有自己的思维模式。不论是否意识到（实际上我们通常都意识不到）这些思维模式会引导我们日常生活中的思想和行为——“使用理论”

####### 使用理论——使用我们的理论或思维模式时它们如何表现

###### 在问及如何看待世界或者我们认为给定情况下要如何表现时，我们通常会给出不同的答案——“信奉理论”

####### 信奉理论——我们如何考虑我们的行为或希望有怎样的行为，与我们真正做的往往不一样

###### 大多数情况，人们的信奉理论与使用理论不同，并不是刻意想要欺骗——

####### 人类的天性——认为我们应该采用更好的、更积极的、更理想的方式，而不是我们面对具体情况的压力和现实时所采取的实际方式

##### 真实案例：展示实践的故事

###### “声称你有一个无问责环境是一回事（信奉理论），真正有这样一个环境则是另一回事（使用理论）”

###### 提示：参加会议研讨或者阅读其他组织如何实现devops的博客文章并与你自己的组织做比较时，一定要记住一点：

####### 看起来其他公司的文化遥不可及，很容易让你产生挫败感，但是要知道他们的信奉理论和使用理论很可能是有差别的！

##### 从故事学习（后文第17章引子）

###### devops的四大支柱与整体论

####### 整体论是指一个整体中的部分紧密关联，因此不能视为它们的简单累加

####### 尽管devops的四大支柱可以单独考虑，不过devops运动的强大之处在于对所有这4个技术及其交互的理解

######## 通过故事，我们可以学习到什么？

######### 为什么选择某些特定的工具或技术

######### 人们相互之间如何交互，以及如何使用不同的工具来达成他们的目标

######### 在真实世界里工具如何促成（或阻碍）目标实现

######### 不同的团队和组织如何共同解决不同的问题

######### 哪些方面有效，更重要的是，哪些方面不起作用以及为什么

##### 用故事建立关联

###### 故事可以帮助我们建立相互之间的关联，开始相互交互，相互之间建立同理心——把对方看作是真实的人，而不是一个匿名的标识或者只是一个名字，

###### 分享和讨论后文不同的故事，期望能够得到的收获有

####### 意识到其他人不同的经验会导致文化的差别

####### 学习如何问问题来确定一个声称使用devops的组织是否言行一致

####### 提高对其他人观点的容忍度

####### 研究其他人和自己的经验，比较和对比多种观点

####### 增强能力来形成自己的理念和价值观

#### 小结

##### 为什么讨论这么多文化因素，而没有花更多时间来考虑技术因素？

###### 文化定义为一个组织中人们共同的价值观、理念、目标和实践，相比于特定的工具或技术，文化对于devops的实现会有更大的影响

##### devops组合概念回顾——devops是为了建立理解和共同的目标，使个人和团队之间有长期、可持续的工作关系

###### 如果组织能深入理解人们共同工作的文化方面，就能更容易地调整使用不同的工具和技术

##### 为了建立有效DevOps需要的关系和关联，我们必须能够互相学习，并相互之间建立关联

###### 故事可以为我们提供这种学习和关联的机制的途径

####### e.g. Usenet的故事／2009年第一届devopsdays大会上分享的故事／本书中的故事

### 062 搭建DevOps文化桥梁：从故事学习

#### 前言

##### 故事可以作为一个很好的途径，可以用来分享在一个特定环境中使用工具的文化上下文

###### Netflix的Chaos Monkey通过一个让应用随机地破坏虚拟服务器来测试生产环境中的故障——这个故事体现了这个组织的价值观，包括：

####### 让工程师在一天中精力最充沛的时候和凌晨2点时解决故障

####### 编写降级而不是失败软件的标准

####### 预期故障也是软件运维模式

#### 什么故事可以让我们了解文化

##### 前言

###### 文化中很大一部分包括人们共同的价值观、规范和知识，谈论文化是一回事，不过，具体看到或听到这个文化在日常工作中的体现又是另一回事

###### 分析文化，从哪五个方面入手？

####### 价值观、禁忌、故事、仪式和想法💡

###### 分析文化，讨论什么问题？

####### 1. 如何在日常的工作环境中建立这些方面

####### 2. 如何在你自己的文化中检查这些方面

###### keypoint

####### 可以在所讲的故事中使用这些文化方面，在自己听故事和从故事中学习时也应当注意这些方面

######## 听他人讲故事（正式或非正式地），考虑他们谈到哪些关于文化的内容？他们的文化中哪些是隐性而不是显性体现的？

######## 注意文化上下文中学习哪些要素最有价值-->更好地从他人的故事中学习，更好地讲自己的故事让他人学习

##### 价值观

###### 价值观是原则、行为标准以及一个组织中哪些重要、哪些不重要的判断（“你视而不见的标准就是你接受的标准”）

###### 区分团队和组织价值观

####### 从整个组织的价值观转向更细粒度的团队层次时，各个团队之间可能有截然不同的价值观-->可能导致组织内部出现冲突

####### By the way，不同的价值观是促使devops运动发展的核心——快速交付特性VS网站稳定性

####### 价值观举例

######## “快速行动，打破陈规”——看重推进

######## 重视教学与分享个人／集体知识

######## 重视构建一个包容而多样化的团队／快速发展的团队

######## 鼓励人们畅所欲言／创建一个让人们感觉安全的环境

######## 强调作为团队成员／作为“单一个体”

######## 强调工作质量重于工作时间的长短

######## 鼓励人们在办公室吃一日三餐／鼓励他们与家人共度时光

####### keypoint

######## 并不是从一开始就不允许有任何差异或不一致，而是团队要如何沟通以及出现不一致时如何加以解决

######### 一个很好反应组织能够让一群人有效地合作的指标：人们是否愿意或者能够与其他人沟通个人和团队价值观

######### 沟通用以建立共同理解，不仅是对目标的共同理解，还包括对将一同使用的一般策略的共同理解

######### 信任的环境允许人们或团队朝着这个目标较独立的工作<--依赖于对目标、策略、价值观的共同理解

###### 沟通和传递价值观

####### Questions

######## 在个人、团队和组织之间如何传递价值观？

######### 如何最好地传达对我们来说什么最重要？

######## 如何确定我们的价值观和目标有多少重叠和共同点？

######## 如何解决不同价值观之间的冲突？

####### Solutions

######## 一、让人们做好准备

######### 需要做这种讨论时，要告诉人们为这些讨论做好准备。

########## 让关键的利益相关人定义他们的价值观是什么，解释为什么这些很重要，并确定其优先级（“因为原先就是这样的”对处理价值观不一致导致的冲突作用不大）

########## 确保涉及的每一个人都有机会分享和讨论他们的价值观和观点，保证每个人的声音都能被听到

######## 二、提高沟通技能

######### 管理层：培训赋能，使整个组织的管理者在你有效处理冲突方面具备相应的技能

######### 个人贡献者：为所有层次的个人贡献者提供沟通培训

######### keypoint：要从一开始就让人们培养好的沟通习惯，并尽早消除不良的习惯

######## 三、尽可能面对面交谈

######### 书面沟通会丢失很多上下文和细节信息，因而更容易产生误解

######### 对于更习惯书面沟通的人，可以充分利用准备步骤写出想法，之后再当面表达观点

######## 四、文档、审查和迭代

######### 人们不会一直记得某个会议或谈话中讨论了什么，可能有的人也无法出席会议，理解错误也是有可能的。

########## 因而，对于说所的和所达成的一致意见，通过书面记录所发生的事情是很有必要的

########### 它使审查成为可能，也为继续交流提供了一个可靠的起点，从而继续达成共同理解

######## 五、保持信息可见并分享

######### 要让每个人都能看到所进行的交流以及达成了什么决定，尤其是有关于影响其日常工作的价值观

######### 想要真正地分享价值观，就不能有隐藏，或者关起门来做决定，然后直接作为通告下发

########## 没有可见性，就不可能有交流，而交流对于共同的理解是必不可少的

######### Hint：可以使用GitHUb协作完成明确团队或组织价值观的文档

####### 小结

######## 在这个行业（IT）中，已经逐步开始讨论可持续的工作实践

######## 假装不存在压力、工作过度、倦怠和其他类似的问题只会让人们在苦苦挣扎时害怕提出或寻求帮助

######## 考虑你的团队和组织价值观时，要确保不要忘记人的方面

##### 禁忌：已知或已经描述为危险或要禁止的事物

###### 禁忌举例，禁忌可能是技术方面的，也可能是非技术方面

####### 在生产环境中作为root运行命令，而不是使用sudo

####### 在生产环境中测试对生产配置的更改（即使这只是一个监控脚本）

####### 未经测试就将代码提交到版本控制

####### 直接部署而没有经过测试

####### 运行来自互联网或公司系统的任意代码

####### 在周五或即将下班回家之前部署到生产环境

###### 禁忌越明确，就越容易向团队的新人传达这些禁忌，如果没有写下来或者明确地说明，人们就会在事后才知道自己有过失

###### 技术性禁忌与非技术性禁忌

####### 技术性禁忌；可能会在代码注释中／wiki页面／共享文档中指出

######## “要当心XXXXX”／“警告：在继续之前一定要确保XXXXX”

####### 非技术性禁忌：通常采用员工手册或行为守则的形式

######## 必不可少的方面：详细描述失当行为、违规执行政策、报告违规行为的流程、给定环境中违规行为的后果

###### 描述和说明禁忌：对于技术和非技术性禁忌，在描述时要尽可能具体

###### 具体执行禁忌和规则，要与原先的声明一致，避免发出禁忌并不重要的信号，避免不同的人有不同的标准-->让所有人失去安全感

##### 故事：在一个文化或社区中分享的经典故事或理念，解释“为什么”并影响行为

###### 故事的影响涉及：人们如何思考、相互之间如何交互、如何处理相关的其他行业等

###### 有害的说法

####### 成见威胁——“女孩子数学差”

####### 过度光环，僵固型思维——“我不是技术人员”

###### 分析故事

####### 问自己这些说法可能带来什么危害，如何克服它们的影响

####### 如何对待行业和组织中的非技术人员

####### 如何鼓励和发展非工程师的技术和工程能力

####### 如何提升工程人员的素养

####### 面试过程中要怎样做来克服成见威胁的负面影响

##### 仪式：一个团体或社区成员定期参加的正式行为模式

###### 仪式不仅对建立社区很有用，对确定一个社区的价值观也很有帮助

###### 很长时间以来，仪式都作为将社区凝聚在一起的一种方式，通过参加仪式可以帮助建立一种共有的身份，友情和团体归属感

###### 社区内的仪式：讨论这些仪式时，越来越明显的主题——平衡和体谅

####### 经常工作到晚上9，10点

####### 喝酒或在就把庆祝达到里程碑或目标

####### 在聊天中使用表情包和流行文化

####### 在办公室举行100个俯卧撑比赛

####### 工作中提供免费餐和零食

####### 指定时间可以带狗和孩子来

###### 另一类仪式涉及与工作更相关的问题，而不是社会化问题：一般没有太大问题，而且有助于建立公司文化

####### CEO每周固定时间在一个公开论坛上回答问题

####### VP约定每个季度与部门中的每个人共进一次午餐

####### 大力鼓励员工参与支持工作轮班

###### 改变和创建仪式

####### 仪式经历很长一段时间后，可能已经不再反映当前的组织价值观或人们对组织的期望

####### 一个正在成长的组织应当鼓励创建新的仪式，纳入新人和新的流程，尤其是在多样性和包容性方面

####### 要不断检查组织内的仪式，了解它们对工作生产力以及员工如何交互的影响，为什么重要和有意义（“总是这么做”不是继续这么做的可靠理由）

#### 组织间的交互

##### 前言

###### 除了来自一个组织内部的故事和经验，在组织之间分享故事也很有意义。组织如何实现这一点可以作为一个很好的指标，从中可以看出这个组织是否能够成功地简历持续的devops文化

###### 组织的思维模式

####### 就像个人一样，组织也可能有僵固型思维模式或成长型思维模式

####### 有僵固型思维模式的组织会把他们的成功看作是固有的、必然的-->可能导致抗拒和阻挠对现有做法的改变

####### 有成长型思维模式的组织往往更关注持续学习和提升，认为成功需要不断的努力，而无法得到保证

######## 用于寻求新想法，尝试新的解决方案；在技术和文化方面寻找更好的方法来完成工作，不认定目前的做法就是最好的

###### Questions

####### 组织如何寻求新信息？

####### 组织与其他组织有哪些交互？（最常见的方法通常是通过行业会议、较小的社区活动以及工程交换项目）

##### 会议和旅行

###### 参与会议和旅行的成本、是否反复派出更有成就的人参加会议、不发言的人是否有机会、考虑安全问题

###### keypoint

####### 会议是在行业中分享知识的一种很好的途径，而且应当作为组织或团队预算和计划的一部分

####### 要确保允许人们参加会议（强度要适当），至少每年参加一次活动，使他们能提高他们的技能，扩大他们的社交网络，并提升团队和组织的知识

##### 其他社区活动

###### 线下聚会小组，开销小得多（运营一个公开的技术博客也不错，有些员工可能更愿意写而不是在公众面前讲）

###### 这些行为能够为新员工提供北京信息，并鼓励其他组织开始分享他们的故事

##### 工程交换

###### 工程交换项目：两个不同组织的工程师在某个很短的时间内相互交换职位和角色，如果执行得当，这会是组织之间分享想法和知识的一种非常好的方法

###### VS 会议讨论与博客文章

####### 通过交换项目可以对组织如何运作有更细致的了解，获得更切实的认识

####### 会议讨论和博客文章中，发言者或作者可能希望想大众呈现好的一面，往往会剔除不太完美的细节

####### ⚠️对于相互学习来说，如果能看到和了解出问题和不太完美的部分，可能会得到更全面的认识

###### 工程文化和开放性

####### 一个组织对交换项目的开放程度会决定这个项目是否成功

####### 如果外来的工程师没有能做任何实质性的事情，或者学不到什么，可能就不太会继续交换下去

####### 是否允许工程交换项目，鼓励还是阻挠，这会很好地体现组织的思维模式

####### 关注点

######## 给定组织中是否有些团队或管理者更愿意参与？

######## 是否仍希望参加交换的人在交换期间在线、查邮件，并做他们平常的工作，或者是否允许他们更充分地投入交换项目？

######## 交换的工程师是否会引其参与工作得到正面评价，或者是否会被这个组织看作是不友好的人？

######## 通过交换项目得到新想法或建议是否直接或极快地被忽略，还是会给予充分的考虑？

######## 允许交换来的工程师完成多少工作？是有实际意义的工作还是只是繁琐的杂物？

######## 是否允许交换来的工程师在会议中发言，还是只允许他们听会？

######## 会给这些工程师一些纪念品（贴纸、马克杯或T恤之类），还是只让他们空手而归？

####### 提示

######## 当组织或团队停滞不前，或者反复争论而无法达成任何共识时，纳入一个有全新视角和观点的新人通常会带来一缕清风

######## 值得推荐的做法：不要利用交换项目来解决特定的问题，应当尝试一种成长型的思维模式，并探索新的可能性和想法

#### 鼓励组织间的亲密性

##### Questions

###### 1. 如果你的组织有一种僵固型的思维模式而不是成长型思维模式，你要怎么做？

###### 2. 如何在一开始分辨你的组织是否有僵固型思维模式？

##### 组织僵固型思维模式

###### 最常见的症状——“我们总是这么做”

###### 并不是说只能使用最新最前沿的技术，相反，有时要坚持使用经过反复尝试和验证的技术，而不是在生产环境中试用还不到几个月的新技术

####### 前提是：希望基于实际解决问题的情况评价、评估技术和工具再做出决定

####### 未经仔细考虑就选择拒绝，尤其是过程的改变则说明存在僵固型思维模式

###### 要知道组织的优点与缺点，希望维护怎样的工程或组织价值观

####### 态度很重要——“devops很好，但对我们不适用”VS“我们正在想办法让人们更多地协作”

##### 从小的改变做起

###### 要从一种僵固型思维模式转换到成长型思维模式，最值得推荐的一种方法——使用小的重复动作，通过较小的频繁的成功来强化新习惯和思维模式

###### 举例

####### 不试图一蹴而就地完成改变

######## 可能人们有之前不好的体验，或出于各种原因拒绝改变避免风险。可以从小的改变开始，例如不要一开始就彻底改变整个部署系统，可以先从一部分开始，即使这可能只是修正不正确的文档

######## 寻找可以改变和提升的小问题，这会帮助建立信心，相信改变不仅可以带来改进，而且不一定意味着大规模出现问题

####### 强调过程，而不是最终结果

######## “devops变革”、“建立devops团队”这些目标有时是过于急切描述的“宏大蓝图”

######## 推荐的选择：把重点放在想要改变的行为上，比如实现配置管理、改变人们的监控方式或者解决最大的痛点问题，并强调这些改变的原因

####### 只从一个团队开始

######## 风险小、试点作用

####### 养成学习习惯

######## 要改变思维模式，不论是个人的思维模式还是组织的思维模式，都涉及改变我们的习惯

######## 成长型思维模式的关键习惯是学习，要鼓励人们在每日站会或每周状态会上分享他们学习到的有意思的事情，即使是学习到某种并不可行的做法

######## 建立一个邮件列表，人们可以在这这里分享有趣的文章或他们读到的博文，还能与其他人讨论这些文章

######## 建立一种学习的好习惯会逐步显现出它的好处，并有力地推动更大规模的组织学习和文化改变

### 063 搭建DevOps文化桥梁：发展人际联系

#### 前言

##### 上一部分内容讲的是：故事可以版主我们学习成功的技术和有效的文化

##### 在第三部分还讨论过：个人和团队间联系的强度会对一个组织的健康和生产力整体产生积极影响，故事允许我们相互之间建立和维持强联系

#### 关于工作的个人故事

##### 有些人会回避在工作场所与人交往过密，他们会说“我只关心工作”，或者更看重技术能力而非其他方面

##### 从人们加入到一个组织，到他们最终离开这个组织，这些个人故事是组织文化的一个关键部分

##### 个人故事的价值

###### 考虑到个人的长处和观点，并允许对工作最熟悉的人推荐改进方法，这一直是成功devops环境的基础之一

####### 实际上，devops运动最早就是由注意到过程中存在缺陷的工人发起，考虑如何改变工作方式来改进过程

####### 缺陷即组织中存在“孤岛”，开发和运维人间缺乏协作和沟通

###### “DevOps是过去几年里技术剧变带来的最具变革性的事物之一，对我来说，它最好的一点是可以打通派系隔膜，所谓派系是一种割裂的文化，孤立的开发部门和系统管理部门之间就会出现这种文化。我一直在努力将不同类型的好技术汇集在一起，缩小它们之间的差距”

####### —— By Hollie Kay

###### 要认识到个人的重要性，尊重他们在自己的工作领域和知识，允许人们建立自己的个人故事并影响其团队和组织的个人故事

###### 表彰个人

####### 避免单一化——更小范围的人会得到更引人注目的表彰

####### 适当表彰不太醒目或比较初级的人员

###### Chef企业领域解决方案架构师Nicole Johnson的故事

####### 认识到devops的巨大威力很重要，不只是对于有经验的从业人员和社区成员

####### 我们欢迎新的devops社区成员加入，不论他们的北京或行业是什么

####### devops不是代表让一切都自动化，而是要采用一种适用于整个组织的方法，可以让每个成员都作为团队中有价值的重要部分

####### 有的协作不一定能利用工具实现，关键是要采用devops文化，打破组织中的孤岛，并最终充分利用机会实现协作

####### 很多组织的主要绊脚石不是技术上的问题，而是组织问题，主要在于他们的割据方法

####### 正是devops帮助很多组织完成了自动化的最后一步，未达到预期的原因通常不是因为技术上的绊脚石，而是因为孤立的操作和缺乏协作

####### 采用一种协作文化，另外要结合使用基础设施即代码、自动化和持续交付

###### 采用远程方式

####### 员工希望远程工作的原因

######## 公司附近的生活成本高、希望在郊区生活等

####### 大多数以软件为中心的角色都完全可以远程工作

####### 想看到人们的工作、工作的可见性

######## 刚接触远程工作的管理者的疑问——“如果我不能走到他们的办公桌旁边看他们在工作，我怎么知道他们确实在工作呢”

######## 实际上：管理者无法区分一周工作80小时的人和只是假装工作80小时的人

######### 在办公室里假装工作与远程假装工作同样容易

####### 对完全可以远程工作的职位，组织拒绝员工远程工作体现的组织价值观

######## 隐性而非显性的价值判断——坚持原有的过程

######## 如果要求每一个人都一样，而不是允许采用不同的工作方式并从中学习，就会抹杀不同工作方式的这些差异

###### 离开公司

####### 有人要离开公司，这也是一个需要沟通的领域，如何传达这种改变可能会对周围的人和团队有很大的影响

######## 为了避免打击团队士气，极力阻止人们分享有人要离开的消息？

######### 可能会限制工作和知识的有效转交

######### 其他负面影响，不利于建立信任的文化

####### 为什么人们离开组织

######## 一个遗憾

######### 一个组织了解人们离开的理由，并最能从中受益的情况往往是人们最不愿意给出理由的情况

########## 窘迫、不安全、认为解释这些问题没有任何意义

######## 常见的理由（一般反映了组织的整体文化，而非单独的个人原因）

######### 不尊重人们的时间

########## 包括：在办公室的工作时间和在办公室之外的时间

########## 因为没有时间开展自己的兴趣爱好、放开自己和充电，工作时可能没有办法专心，生产力可能会下降，人们通常会考虑离开

########## 如果一种文化偏向那些工作之外没有任何其他责任的人，这往往很快会成为一个由年轻单身异性恋男性作为主体的单一文化

######### 不尊重别人

########## 如果人们没有感受到来自同伴、管理者或组织的尊重，倘若他们有其他选择，就不太可能在这个组织工作太长时间

########## 通常人们并不是要离开他们的工作，他们是为了离开现在的管理者

########### 更常见的情况是——当人们感觉到管理者不尊重或不信任他们时，他们就会离开

########### 由于意见不一致或有个人冲突的情况比较少

######### 没有获得信任作为回报

########## 任何关系中的信任都必须是双向的

######## 即使人们没有明确地指出这些理由，你也可以寻找一些规律——

######### 某个经理手下多个人离职或人们频繁离职

######### 某种文化使得很多人都要晚上和周末加班

######### 离职发生在组织领导或方向发生重大改变期间或之后？

##### 文化负债

###### 技术负债：指技术决策的最终结果，如系统设计、软件架构、软件开发或技术选择

###### 文化负债：描述文化决策的最终结果，包括聘用和解聘决策、创建和执行哪些社区标准、组织层次架构和价值观

###### 所谓负债，就是在某个时间需要偿还，如果没有解决相关问题，时间越长，积累的利息就越多，将来偿清债务就越困难

###### 文化负债举例

####### 聘用一个大家都知道很难合作的工程师

####### 存在太多的中间管理层，导致一些不必要的过程

####### 一个会议或社区活动没有（或不执行）行为守则，不能保证赴会人的安全

####### 邮件列表中允许不太友好的语言，使得新成员不太愿意加入，或者不愿意对这个列表做出贡献

####### 组织中形成一种恶性循环，大家总是在工作，总是要在位，大家不希望自己因为响应不及时而成为团队中的另类

####### keypoint

######## 考虑组织是否健康时，技术负债外，文化负债也很重要

######## 对于文化负债，没有可以直接或短期解决的方法

######## 不要强制人们告诉你离职的真实原因，特别是如果涉及到信任或安全问题时

######## 需要做的是：关注文化问题的其他指标，继续培养一种安全、包容、无问责和信任的文化

##### 系统的健康

###### 前言

####### 财务健康——有多少收入和利润，年增长情况如何，市场份额或客户情况如何；

####### 就业率或流失率之类的指标，不过在财政情况很好时，这些通常被认为不太重要

####### 诸如倦怠之类的问题也需要认真考虑

######## 倦怠--影响团队和组织的士气和生产力，影响构成团队和组织的人的健康

######## 不仅要分析可能导致倦怠、影响健康的单个因素，还要分析系统因素？

######## 明确一个系统或组织中的健康因素？

######### 这些信息通常难以获取。因为人们通常不会讨论与工作相关的压力、倦怠、焦虑和其他健康问题

########## 个人：不希望被别人看轻、看起来另类、不希望讨论私人问题、也许不知道他人也遇到了同样的问题

########## 组织：公司不太可能提到高流失率、倦怠员工的人数、或者文化中的其他“负面”问题

###### 检查病态系统

####### 一、让人们太过繁忙而没有时间思考

######## 需要时间思考——意识到环境消极或是健康

######## 是否鼓励人们在水房或咖啡间短暂休息，或是认为这是“浪费时间”？

######## 是否鼓励人们与组织之外的人交流

####### 二、让人们很疲惫

######## 包括生理和情感上的疲乏-->不会有精力去尝试增加自动化或修正一些不太友好的过程／改变待命的处理方式／寻找另一个工作

######## 如果在一个工作环境中很疲惫，有人已经放弃或者接近倦怠，他们只是为了工资而工作，而不是出于内在的动力，以这种状态工作的人越多，会进一步增加组织的惰性，使整个组织更为疲惫

####### 三、让人们投入感情（极端的忠诚度）

######## 在创业公司的早期阶段，有意地培养员工极端的忠诚度，促使人们放弃工作与生活的平衡、更有竞争力的薪水、真实的休假政策等。

######## 通过提供早餐、正餐、干洗或各种其他福利让员工在办公室工作的时间越来越长

######## 股票、期权等延期的福利要在数年内才能行权-->阻止人们离开组织，让人们继续投入和投资

####### 四、间歇地奖励

######## 一个著名的例子

######### 如果每次按杠杆时就会得到一个食物球，老鼠就只会在它们饿了的时候才按杠杆，如果按杠杆时只会间歇性地得到食物球，因为老鼠不知道它下一次什么时候能吃上食物，所以它会更频繁地按杠杆

######### 在管理上的不一致的做法：对下属的反馈处理方式不一致、加薪、晋升和奖金系统完全不透明

####### 总的来看

######## 如果以上四条都满足，那么这可能是一个危机四伏的组织

######### 人们总是在反应性地工作而不是主动工作

########## 总是忙于救火而根本无暇顾及其他

########## 无法未雨绸缪地偿还技术负债

######### 技术负债导致人们长期加班，员工总是过于忙绿、太疲惫或者对于公司过于投入，而很少或者根本没有任何工作之外的兴趣爱好活动

######## 在技术行业的众多领域，文化负债大、系统不健康的现象很常见，许多时候人们不愿意或不敢提出问题

###### 创建健康的系统

####### 一、创造时间来思考和反思

####### 二、鼓励人们休息和充电

####### 三、鼓励参与工作之外的活动

####### 四、经常而公正地奖励

###### 组织和个人健康

####### “煤气灯光”经常让人们怀疑自己的认知和感受，导致他们认为自己是反应过度或者只是想象，而实际上并不是这样

######## 在这种情况下，可能很难识别一个环境的负面性

######## 长期的压力以及对皮质醇和其他压力荷尔蒙的适应性会让人们感觉到这样一个环境是正常的，但实际上这并不正常

###### 识别健康和不健康的文化

####### 一、如何做出决策？

######## 是否需要所有受影响的方面达成一个共识？从一个组织中谁拥有决策权可以很好地看出这个组织的文化，以及在这个组织中做出改变是否容易

####### 二、一般的发布周期是怎样的？

######## 是否有自动化测试？通常多久发布一个版本？是否会展示周期时间和交付时间的详细信息？

######## “不要让完美成为优秀的敌人”，避免过度关注“完美”导致迭代太慢

####### 三、ticket的生命周期是怎样的？

######## 谁来创建ticket？如何分配ticket？是创建tickey的人来选择分配的人，还是给定团队或项目的人从某种接受队列中拉去ticket？是不是每个项目里都有一个人审查和分配ticket？还是综合上述方式？

######## ticket的解决期限？会不会所有的ticket都有很紧急的到期日期，或都没有期限-->指定工作的优先级方面是否存在问题

####### 四、多大的风险算风险太大？

######## 与做出决策类似，一个组织或团队如何响应风险也能反映很多信息

######## 存在风险时，通常在哪些领域？

######### 是关于使用一个新工具或技术？还是关于客户是否希望或需要一个新特性？

######## 是否有人有更大的自由可以冒险？

####### 各个组织很少在各个因素上都势均力敌，从外部也很难了解一个文化的健康程度

######## 如何获取有价值的信息：与当前在组织中工作或曾在在这个组织中工作过的人交流

####### 小结

######## 个人之间、个人与组织、组织与组织间如何交互，对创建和维护组织文化很重要；通过分享故事，可以帮助我们识别其他人同样的故事，培养同理心、加强联系

######## 技术负债与文化负债，分别是以往的决策对技术和文化的持续后果，一旦产生，就很难消除；坏习惯也很难打破

######## devops之旅铭记／思考：分享故事——体现文化和价值观；联系和学习其他个人、团队组织时是否有效；技术负债和文化负债会如何影响你的组织和人员的健康
