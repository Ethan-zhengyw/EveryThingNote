# 沟通与演示分享技能

## 前言

### Carl Gilleard, Former Chief Executive, Association of Graduate Recruiters

#### Communication goes part and parcel with team working and also relates to the growing importance of the customer. 

#### All businesses have customers, whether internal or external, and being able to [communicate with] people is considered to be of vital importance in any job, especially a graduate job.

#### 总结

##### 团队协作、客户关系维持要求良好的沟通能力，沟通能力非常非常重要

### 猎头以不同的描述方式表达对沟通能力的要求

#### 善于清晰表达

#### 能够与各式各样的人群打交道

#### 能够清晰书写

#### 能够用简单明了的方式表达复杂的观点

## 沟通能力三要素

### 倾听

#### 沟通不只是传播自己的观点，也包括倾听别人的想法

#### 如果能够仔细倾听他人，尊重他人，对方会更愿意倾听自己的想法

### 表达

#### 为了高效地工作，我们必须清晰地表达自己所想要表达的信息

#### 不是做一份精美的PPT，PowerPoint Slides，关键在于吸引听众，与之建立连接，把信息传递过去

### 为听众“量体裁衣”

#### 明确哪些信息是重要的，如何展示

#### 根据不同的听众，使用不同的语言

## 提高演示分享能力

### 模拟演示

#### 微服务架构

##### Agenda

###### Give a confident introduction

####### 隐藏紧张

######## 紧不紧张不重要，关键在于不要展示出来

######### 1. 两手自然放在身体两侧，自然而安静地站立

########## 看起来冷静、自信、并且让观众感到安全

######### 2. 自我介绍

########## 结尾降调

########## Mine：大家好，我叫XXX，英文名是XXX，大家叫我Ethan就好

###### Give your credentials

####### 报名之后，继续介绍自己，介绍的内容需要与演示的主题契合

######## 隐含信息

######### 介绍自己的内容隐含信息：通过这次演示，观众能够收获到什么

########## 最近微服务这个概念很火，尤其是在我们从事云计算行业的人群里。

########## 参考李永乐老师

########### XXX之前在XXX公司XXX部门工作，工作内容包括云服务的开发和运维，因此对云服务的架构设计、开发、测试、运维过程比较熟悉

########### 那么

############ 微服务到底是啥？

############ 它为什么突然就火起来了呢？它到底有什么用？

############ 怎么应用这项技术从而获得这些好处呢？

############ 还有你可不可以告诉我，使用这项技术的过程中可能会遇到什么困难或者有哪些坑需要注意的吗？

######### 介绍自己的内容隐含信息：为什么我是做这份演示的最佳人选

######## 短电梯演讲（short elevator speech/credential statement）

######### 1. you know how some people have this problem?

########## 回答完这位小朋友的问题后，感觉答得不太好，我发现自己存在这样的问题

########### 我并不像自己以为的那样那么了解微服务

############ 我之前参与的项目经过几次演进后，模块的数目有二三十之多，每个模块都是由2到5人的小团队进行开发，这种模式不就是微服务吗？

########### 对于微服务的认知零零散散，不够系统，不成体系

######### 2. Well I offer this solution.

########## The solution I offer is how I help people.

########## 所以回来我就做了功课，补了补这方面的知识，在这基础之上对之前的工作进行了思考总结，现在在这里和大家分享我学习和思考的成果。

###### Deliver your hook

####### 目标：Get your audience to feel something

######## More happy

######## More Successful

######## More free

######## 通过这次分享，下次如果有人一提到微服务这个词，我们第一时间就能反应过来，微服务是什么，为什么大家都在谈论它，它有什么特点，实施过程中有哪些难题，进而更好地与对方进行沟通交流，碰撞出思想的火花👍

####### 做法

######## 准备句子：I'm going to show you ................, here is how I'm going to do it（引出agenda）.（......填上能够达到目标的内容）

######## 我将系统但又简明地为大家介绍微服务架构

####### 规则

######## 在说出观众通过我的演示能够【获得什么】之前，先说明观众【为什么需要】听这场演示

###### Introduce your agenda

####### 用一页PPT列出Agenda，给观众一点时间自己阅读，不要照着PPT念，观众自己有能力读

######## 在观众阅读agenda的同时，我需要介绍agenda

######### 应办事项数字 + 重申（意译/简短）我的演示的目的

########## E.g. I'm going to show you 5 step to ..........

####### 这是我要和大家分享的5个主题，.....

###### Give a credible statement

####### 现有问题（谈一谈在微服务出现以前，软件开发交付存在什么问题）

####### 解决方案（为了解决上面的问题，人们怎么做，得到什么好处？这些经过实践被证明能够解决问题的方案即我们在谈论的微服务）

####### 微服务的特点（回顾解决方案，从具体到抽象，系统总结提炼解决方案的特点）

####### 如何应用微服务架构（如何应用微服务解决方案，以获得它带来的好处）

####### 案例分析

######## 成功案例

######## 不成功案例

####### 困难与挑战（使用微服务这项技术的过程中可能会遇到什么困难或者有哪些坑需要注意的吗？）

####### 微服务与云计算（谈谈云计算环境中实施微服务会是什么样的，有哪些便与不便之处，或者最佳实践）

###### Go ahead to deliver your topic

####### 问题

######## 软件架构

######### 巨石风格

########## 词汇起源

########### The term monolith has been in use by the Unix community for some time. It appears in The Art of Unix Programming to describe systems that get too big.

########## 巨石风格的传统企业软件架构

########### 客户端服务器数据库

########### 服务端是单一的进程，处理所有用户请求/或者有多个服务端实例，通过负载均衡器进行请求分发

########### 其中，服务端是一整块巨石，有任何改动引入，不论改动量、影响范围大小，都需要重新构建、测试、发布整个服务端

########## 传统企业应用采用“巨石”风格进行实现，取得了成功，但是越来越多的人感到设计开发不太方便，具体是哪些方面呢？

########### 巨石风格的传统企业软件架构存在的问题

############ 开发测试

############# 服务端需要整体进行构建测试，效率低，交付周期长

############ 运维

############# 灵活性差

############# 变更影响范围难限制

############# 问题定界难

####### 解决方案

######## “拆”：把一个大的服务，拆分为多个小的服务

######### 解决前面提出的问题

########## 可独立部署、变更、扩展

########## 明确的服务团队

######### 额外的好处

########## 灵活的技术组合方案

######## 不算创新

######### Martin Flower指出的问题

########## 不算创新：回到Unix哲学： Do One Thing and Do It Well

########## 大家有必要充分了解微服务架构，在他看来，许多项目如果采用微服务架构的话能够做得更好

####### 微服务架构的特点

######## 特点一、通过服务组件化

######### 开始之前，名词定义

########## 组件/component：可独立替换、独立升级的软件单元

########## 库/libraries：能够被程序动态加载，通过内存函数调用的方式使用的组件

########## 服务/services

########### 分析

############ 隐含

############# 客户：服务被要求要满足的需求，需求来源与客户

############# 输入与输出

############# 无状态的？

########### 微服务架构中服务的定义：通过web服务请求、远程过程调用或其它机制进行通信的多个组件

########### 面向对象编程领域驱动设计中的服务的定义：an object that carries out a significant process that isn't tied to an entity

######### 为什么选择通过服务组件化

########## 理由

########### 理由一、服务之间是解耦的，但服务与库不是，服务可独立部署升级，而库不行。

############ （不绝对），目标是尽可能减少耦合，限制 

########### 理由二、通过服务组件化带来的结果：更清晰的组件接口

########## 使用服务组件化只有优点而没有缺点吗？

########### 缺点一、远程过程调用相较于进程内通信效率低

########### 缺点二、需要在组件之间移动接口时难度大（跨进程）

######### 总结服务的概念

########## 服务与进程能够对应起来，但可能不止一个进程，一个服务可能包含多个进程，比如一个应用进程与（这个应用独享的）数据库进程

######## 特点二、围绕业务能力组织团队

######### 传统团队组织模式

########## 按照技术栈划分团队——前端UI团队/后端服务器逻辑团队/数据库团队

########## 问题：小的改动可能也要跨团队协作完成修复

######### 康威定理

########## 一个组织设计软件，最终会设计出架构与组织的通信结构类似的软件（组织形式决定软件系统架构）

########## 做独立自治的子系统减少沟通成本

######### 微服务划分与团队组织模式

########## 围绕业务能力拆分服务

########### 服务的覆盖领域较宽广：用户界面、数据持久化、外部协作

########### 对应的服务团队内需要的技能组合也宽广：前后端人员、DBA、项目管理人员

########## 服务间边界清晰、团队边界也清晰

######## 特点三、You build, you run it

######### 现象

########## 有一些项目团队的运作方式是——临时组成一支团队，把项目完成后，验收通过后，交付给运维团队维护，然后这只团队可能就被解散了，或者做下一个新的项目。

######### 建议

########## 团队为项目的整个生命周期负责，不仅仅是开发

########## 理由/好处

########### 因为承担着部分维护的压力

############ 目标：保障系统稳定运行，客户业务不受影响

############ 行为

############# 关注自己的服务在生产环境的运行状态

############# 增加与客户的联系，建立良好的客户关系，更好地帮助客户解决问题

########### 关心帮助客户解决实际的什么问题，怎么解决？

############ 避免了仅关注实现功能片段，而不关心业务的心态——“以客户为中心”的“产品心态”取而代之

########### “巨石”风格软件也能够这么做，但是小粒度的服务更容易让开发者与用户建立关系

############ 为什么

############# “巨石”软件项目团队成员对自己所负责的业务了解程度比不上微服务团队成员

############## 微服务团队成员：围绕业务组织起来的团队，具有清晰的业务、团队边界

############## “巨石”软件项目团队：因为没有明确的服务边界，需要负责的业务也多，团队内的成员可能需要承担多个业务的服务维护

############## 除非每个需要维护的服务都长期由团队内的某一个成员专门负责

######## 特点四、智能端点，傻瓜管道

######### 现象/问题

########## 解决服务进程间通信问题时，有一些项目会在通信机制本身上进行智能化

########## 微服务间的通信问题

########### 不同于巨石风格软件，能够通过简单直击的函数调用

########### 微服务之间有明确的边界，甚至同一个微服务内部不同模块也可能部署在不同的集群、虚拟机实例

########### 请求——响应（同步）

############ One service invokes another service by making an explicit request, usually to store or retrieve data. The service then expects a response: either a resource or an acknowledgement.

########### 观察者（异步）

############ Event based, implicit invocation where one service publishes an event and one or more observers that were watching for that event respond to it by running logic asynchronously, outside the awareness of the producer of the event.

######### 建议

########## 智能端点，傻瓜管道

########### 去中心化的微服务通信

############ microservices favor a decentralized approach: services use dumb pipes to get messages from one endpoint to another endpoint.

############ 优点：Decentralized microservice communications enable engineering teams to do parallel work on different edges of the architecture without breaking other components. If each microservice treats other services as external resources with no differentiation between internal services and third party resources, it means each microservice encapsulates its own logic for formatting its outgoing responses or supplementing its incoming requests. This allows teams to independently add features or modify existing features without needing to modify a central bus. Scaling the microservice communications is also decentralized so that each service can have its own load balancer and scaling logic.

########## 目标

########### 服务之间尽可能解耦与内聚，职责明确

############ 避免使用复杂的协议、依赖中心化的处理工具

############ Be of the web, not behind the web

############ 使用通用的HTTP协议、或者其它轻量级的通信机制（如protobuf、消息队列）

############# “傻瓜通道”本身只提供可靠的异步消息传递能力，消息的处理逻辑依靠两端的“智能端点”实现

######### 反模式 - 中心化的服务总线

########## 举例：企业服务总线——消息路由、消息格式转化、消息编排、集成业务规则等

########## “巨石”风格软件重构为微服务架构的问题之一

########### 涉及通信模型的修改——原本是通过进程间调用进行通信，需要修改为远程过程调用RPC

######## 特点五、去中心化的管理

######### 把巨石软件拆分为微服务之后带来的好处——灵活的技术选型

########## 前端、后端、数据库，按需选择、组合

######### 好处

########## 根据微服务实际场景需求选择最佳方案

########## 按团队成员、技术喜好选择合适的方案

########## 避免YAGNI困境

########### They use simple tools that allow them to define the contract for a service. This becomes part of the automated build before code for the new service is even written. The service is then built out only to the point where it satisfies the contract - an elegant approach to avoid the 'YAGNI'[9]
 dilemma when building new software. 

######### 终极目标——you build, you run it

########## 还负责7/24维护

########### 开发承担更多的责任

######## 特点六、去中心化的数据管理

######### 问题定义

########## 抽象定义——世界的概念模型在不同的系统/领域/视角中会不同

########### 例如：对于销售和支持，客户概念的含义不完全重叠

########## 软件系统中也存在相同的问题，尤其是在被拆分为多个组件/微服务的软件系统中

########### 对应——领域驱动设计中“边界上下文”的定义

############ DDD divides a complex domain up into multiple bounded contexts and maps out the relationships between them.

########### 微服务要求的明确的边界与DDD是契合的

############ 围绕业务能力划分的边界 vs 领域上下文划分

######### 数据存储去中心化/可以算特点5的一部分

########## 倾向于每个微服务管理自己的数据库

########### 层次：不同的数据库、不同的数据库实例、不同的数据库类型

########## 难题——分布式事务，挑战——管理不一致性

########### 事务 —— 解决数据一致性问题，但多个微服务之间的事务（分布式事务）实现难度大，且导致耦合

########### 折衷，允许一定程度的不一致性，管理/处理并保障最终一致性

######## 特性七、基础设施自动化

######### 持续集成持续交付持续部署

########## 流水线

########### 构建

########### 自动化测试

########### 自动化部署

########## 环境管理

########### 开发、集成、测试、预生产、生产

######## 特性八、容错的设计

######### 任何一个微服务随时都有可能挂掉

########## 依赖组件不受影响

########### 断路器机制

############ 线程池（限流？）

############# 用户/数据面、管理面

############ 超时

############# 线程超时

############# 网络连接超时

############ 重试

########## 检查故障

########### 指标

############ 运维领域

############ 业务领域

########### 监控告警

########### 日志

########### 看板

########## 自动恢复

######### 这是拆出来的问题？

########## 自然而然带来依赖的问题

########### 微服务多了，跨集群、跨实例部署，依赖网络

########## 通过容错的设计解决

######## 特性九、演进的设计

######### 高频、快速的、可控的变更

######### 拆分原则：可独立替换、升级

########## 如果发现经常要同时替换/更新两个服务，那么可能要考虑把它们合并

######### 一种演进方式

########## 原有巨石软件系统保留、仍作为核心

########## 新的特性以微服务的形式引入，在不需要时再下线

######### 服务粒度，加速发布过程

######### 通过兼容，可以避免许多场景对版本好的依赖

######## 回答“什么是微服务架构”这个问题

######### In short, the microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API. These services are built around business capabilities and independently deployable by fully automated deployment machinery. There is a bare minimum of centralized management of these services, which may be written in different programming languages and use different data storage technologies.

######### -- James Lewis and Martin Fowler

######### 简短地说，微服务架构风格是指

########## 把单个应用拆分成多个小的服务，服务运行在独立的进程里

########## 它们之间通过轻量的机制进行通信（通常是HTTP协议）

########## 服务是按业务能力进行拆分的

########## 通过自动化的方式进行部署变更

########## 开发过程的管理是去中心化的，开发者能灵活地选择合适的不同的编程语言、数据库类型等技术组合

######### 特点源于“拆”，拔高一层看

########## 采用微服务架构的好处

########### 敏捷

############ 交付多个微服务 vs 交付一个“巨石”软件

########### 创新

############ 技术开放 + 独立 + CICD(快速验证新方案/回滚) --> 有助于创新（灵活性）

########### 质量

############ 系统拆分为微服务，代码自然跟着拆解为不同的“模块”，在一定程度上提高了可复用性、可维护性

########### 可扩展性

############ 小粒度送耦合的微服务是建立大规模分布式系统的最佳实践，支持水平伸缩

########### 可用性

############ 更容易进行故障隔离，减小故障影响范围

####### 如何应用微服务

######## DevOps文化

######## 拆——DDD——EventStorm

######## 团队组织

######## Agile

######## CICD

######## SRE

####### 案例分析

######## 成功案例

######## 不成功案例

####### 困难与挑战

######## 迁移

######### 从单一“巨石”软件系统演进到微服务架构，需要投入精力划分微服务，明确边界，拆分代码、数据库依赖

######## 分布式系统

######### 一堆的问题“Fallacies of Distributed Computing”

########## Fallacies

########### The network is reliable.

########### Latency is zero.

########### Bandwidth is infinite.

########### The network is secure.

########### Topology doesn't change.

########### There is one administrator.

########### Transport cost is zero.

########### The network is homogeneous.

######## 架构复杂度

######### “巨石”软件系统架构复杂度取决于代码量

######### 微服务架构软件系统取决于微服务之间相互交互的复杂度

########## 异步通信

########## 级连失败

########## 数据一致性问题

########## 服务发现与认证

######## 运维复杂度

######### 不再运维单一的服务，而是几十、上百个微服务，需要考虑的问题

########## • How to provision resources in a scalable and cost-efficient way?

########### 获得可扩展性，考虑成本

########## • How to operate dozens or hundreds of microservice components effectively without multiplying efforts?

########### 自动化

########## • How to avoid reinventing the wheel across different teams and duplicating tools and processes?

########## • How to keep track of hundreds of pipelines of code deployments and their interdependencies?

########## • How to monitor overall system health and identify potential hotspots early on?

########### SRE/监控告警

########## • How to track and debug interactions across the whole system?

########### SRE/日志/调用链

########## • How to analyze high amounts of log data in a distributed application that quickly grows and scales beyond anticipated demand?

########### ELK

########## • How to deal with a lack of standards and heterogeneous environments that include different technologies and people with differing skill sets?

########## • How to value diversity without locking into a multiplicity of different technologies that need to be maintained and upgraded over time?

########## • How to deal with versioning?

########## • How to ensure that services are still in use especially if the usage pattern isn’t consistent?

########## • How to ensure the proper level of decoupling and communication between services?

######## 组织

######### 如何组织高效的微服务团队，应用敏捷开发方法，实践DevOps

####### 微服务与云计算

######## 使用云计算能够在以下方面助力微服务架构的实施

######### 资源按需使用、按使用付费

######### 低成本、低风险进行实验

######### 可编程

########## 云上服务提供了API接口/命令行工具/SDK，支持用户编程实现自定义功能

######### 基础设施即代码

########## 用代码描述基础设施，并使用版本控制系统进行存放

######### 持续交付

######### 托管的服务

########## 使用托管服务可降低运维复杂度，终极方案——serverless

######### 服务导向

######### 技术开放/多元化

######## 基于AWS的微服务架构

######### 降低运维复杂度

########## 使用托管服务可降低运维复杂度

########### 容器

########### 终极方案——serverless

########### 数据库

############ RDS

############ DynamoDB

############ Cache

######### 分布式系统组件

########## 服务发现

########### 客户端服务发现（硬编码）

########### 基于ALB的服务发现

########### 基于DNS的服务发现

########### 基于监控，自动化变更后端配置，CloudWatch + Lambda + Route53

########### 基于配置管理工具，如：Chef, Puppet, or Ansible

############ AWS OpsWork

########### 基于key-value存储的服务发现

########## 分布式数据管理

###########  CAP Theorem

############ 分布式系统权衡一致性与可用性、性能

########### 把系统的日志流存储起来，出现问题时可以根据日志进行恢复，类似（ECTD wal，write ahead log）

############ Kinesis

########## 异步通信与轻量化的消息

########### Restful + SNS + SQS（消息总线）

########### 编排与状态管理

############ Step functions

########## 分布式系统监控

########### 中心化管理日志

############ CloudWatch Logs

########### 分布式追踪（调用链）

############ X-Ray

############# X-Amzn-Trace-Id/X-Ray-integrated service 

########### 日志分析

############ ElasticSearch + Kibana

############ Kinesis + RedShift + QuickSight

########## 通信过于繁琐？

########### 考虑协议与缓存

########## 审计

########### AWS CloudTrail VS AWS Config

## 参考链接

### [bradford大学关于沟通与分享的简单资料](https://www.bradford.ac.uk/careers/develop-skills/communication/)
### [Martin Fowler介绍微服务的博文](https://martinfowler.com/articles/microservices.html)
### [Thoughtworks技术雷达](https://assets.thoughtworks.com/assets/technology-radar-vol-19-cn.pdf)
### [Microservices on AWS技术白皮书](https://d1.awsstatic-china.com/whitepapers/microservices-on-aws.pdf)
### [Netflix关于容错系统设计的博文](https://medium.com/netflix-techblog/fault-tolerance-in-a-high-volume-distributed-system-91ab4faae74a)